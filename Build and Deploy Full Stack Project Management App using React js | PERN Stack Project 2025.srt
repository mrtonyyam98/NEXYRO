1
00:00:00,240 --> 00:00:05,280
Hello and welcome back to another

2
00:00:02,158 --> 00:00:05,599
exciting tutorial of great stack. In

3
00:00:05,519 --> 00:00:10,238
today's video, we are going to build and

4
00:00:07,759 --> 00:00:13,678
deploy a full stack project management

5
00:00:10,240 --> 00:00:16,560
application using perstack. In this full

6
00:00:13,679 --> 00:00:19,680
stack project, user can sign up and

7
00:00:16,559 --> 00:00:21,839
create their organization or workspace.

8
00:00:19,679 --> 00:00:25,198
In this workspace, you can invite

9
00:00:21,839 --> 00:00:28,159
members, create task, add task, and

10
00:00:25,199 --> 00:00:31,599
assign task to any member. So let's take

11
00:00:28,160 --> 00:00:33,839
a look at the project demo. So once you

12
00:00:31,599 --> 00:00:36,719
will open this application, it will ask

13
00:00:33,840 --> 00:00:39,840
you to sign in or sign up. After sign

14
00:00:36,719 --> 00:00:41,760
up, you need to create an organization.

15
00:00:39,840 --> 00:00:44,718
So once you will sign up, you will see

16
00:00:41,759 --> 00:00:46,478
this popup to create an organization.

17
00:00:44,719 --> 00:00:48,959
And after that, you will see this

18
00:00:46,479 --> 00:00:51,839
dashboard. In this dashboard, you will

19
00:00:48,960 --> 00:00:54,160
find the project details. So this is the

20
00:00:51,840 --> 00:00:57,120
project overview. So here you will find

21
00:00:54,159 --> 00:00:58,878
the list of projects. And in this card

22
00:00:57,119 --> 00:01:02,159
you will find the total number of

23
00:00:58,878 --> 00:01:05,517
projects, completed projects, my task

24
00:01:02,159 --> 00:01:07,838
and overdue projects or task. Now in the

25
00:01:05,519 --> 00:01:11,200
right side we have the task summary. We

26
00:01:07,840 --> 00:01:14,240
have my task then overdue in progress.

27
00:01:11,200 --> 00:01:16,240
Here you will find the recent activities

28
00:01:14,239 --> 00:01:18,477
and after that come to this left

29
00:01:16,239 --> 00:01:20,719
sidebar. Here you will find this

30
00:01:18,478 --> 00:01:22,478
drop-down from where you can change the

31
00:01:20,719 --> 00:01:24,959
organization. You can switch between

32
00:01:22,478 --> 00:01:27,838
different organization or workspace. if

33
00:01:24,959 --> 00:01:30,878
you have multiple workspace right and

34
00:01:27,840 --> 00:01:33,679
you can click on this button to create a

35
00:01:30,879 --> 00:01:35,757
new workspace or organization

36
00:01:33,680 --> 00:01:38,079
and after that let me just click on this

37
00:01:35,759 --> 00:01:41,680
projects so here you will find all the

38
00:01:38,078 --> 00:01:44,478
projects in this organization so if you

39
00:01:41,680 --> 00:01:47,680
open any project

40
00:01:44,478 --> 00:01:51,279
so here you will find the list of task

41
00:01:47,680 --> 00:01:54,960
correct and you can create a new task

42
00:01:51,280 --> 00:01:57,759
using this button create task Right, you

43
00:01:54,959 --> 00:02:00,878
need to enter the details and create a

44
00:01:57,759 --> 00:02:03,199
new task. Let me switch the theme. I'll

45
00:02:00,879 --> 00:02:05,678
open this web page in dark mode. So you

46
00:02:03,200 --> 00:02:07,520
can see it looks beautiful in this dark

47
00:02:05,680 --> 00:02:10,800
mode also.

48
00:02:07,519 --> 00:02:13,438
And this is the light mode. Right? So in

49
00:02:10,800 --> 00:02:15,599
this one we have multiple options like

50
00:02:13,439 --> 00:02:17,839
you can see the list of task, you can

51
00:02:15,598 --> 00:02:20,639
see the calendar. So in this calendar

52
00:02:17,840 --> 00:02:22,800
you will see the due date for the task.

53
00:02:20,639 --> 00:02:26,318
Here you will find the analytics where

54
00:02:22,800 --> 00:02:29,599
you can see the task by status, task by

55
00:02:26,318 --> 00:02:31,678
type and task by priority. In this

56
00:02:29,598 --> 00:02:34,719
settings you can update the project

57
00:02:31,680 --> 00:02:37,439
details. And here you can click here to

58
00:02:34,719 --> 00:02:39,919
invite a new member in this project.

59
00:02:37,439 --> 00:02:43,439
Right? If I come back here in the left

60
00:02:39,919 --> 00:02:46,079
sidebar we have the team. So in this

61
00:02:43,439 --> 00:02:48,238
team we have the invite button. If I

62
00:02:46,080 --> 00:02:51,040
click here, you can invite a new member

63
00:02:48,239 --> 00:02:53,759
in this organization or workspace. You

64
00:02:51,039 --> 00:02:56,957
need to enter the email ID and click

65
00:02:53,759 --> 00:03:00,558
send invitation. Right? Then we have the

66
00:02:56,959 --> 00:03:03,279
settings that will open the profile

67
00:03:00,560 --> 00:03:05,119
settings. Let me switch to light mode.

68
00:03:03,280 --> 00:03:08,079
After that, here in the left side, you

69
00:03:05,120 --> 00:03:09,839
will find the list of task. We can

70
00:03:08,080 --> 00:03:11,999
expand it like this. And here you will

71
00:03:09,840 --> 00:03:13,759
find the list of task. And after that,

72
00:03:12,000 --> 00:03:17,519
here you will find the list of projects

73
00:03:13,759 --> 00:03:20,799
also. Right? If I expand it here, you

74
00:03:17,519 --> 00:03:23,519
have the task, analytics, calendar and

75
00:03:20,800 --> 00:03:25,1000
settings for this particular project.

76
00:03:23,519 --> 00:03:28,080
Now let me create a new organization

77
00:03:26,000 --> 00:03:30,639
here. So I'll click on this drop-down

78
00:03:28,080 --> 00:03:33,360
and click on create workspace.

79
00:03:30,639 --> 00:03:36,797
And here we will choose the logo. Then

80
00:03:33,360 --> 00:03:39,279
we'll add the organization name here. So

81
00:03:36,799 --> 00:03:42,400
let me write any organization name. I'll

82
00:03:39,280 --> 00:03:45,280
write the dummy name here or Spotify

83
00:03:42,400 --> 00:03:48,400
inc. and create organization.

84
00:03:45,280 --> 00:03:50,480
So here we have created a new workspace

85
00:03:48,400 --> 00:03:52,560
and you can invite the members in this

86
00:03:50,479 --> 00:03:55,759
workspace. You can enter the email id

87
00:03:52,560 --> 00:03:57,1000
and click on send invitation or you can

88
00:03:55,759 --> 00:04:02,478
simply click escape. We can invite the

89
00:03:58,000 --> 00:04:04,799
members later. So after that

90
00:04:02,479 --> 00:04:06,878
you can find the drop-down here and here

91
00:04:04,799 --> 00:04:08,719
you have another organization. Let me

92
00:04:06,878 --> 00:04:11,118
just click here and you can switch the

93
00:04:08,719 --> 00:04:13,438
organization. So now you can see we are

94
00:04:11,120 --> 00:04:15,599
in the new organization and here we

95
00:04:13,438 --> 00:04:18,559
don't have any data right we don't have

96
00:04:15,598 --> 00:04:20,319
any project or task. If I go to project

97
00:04:18,560 --> 00:04:23,359
we don't have any project. If I go to

98
00:04:20,319 --> 00:04:25,599
team we have only one team member right

99
00:04:23,360 --> 00:04:27,520
that is the admin. Let me just click

100
00:04:25,600 --> 00:04:31,279
here invite member and here you can

101
00:04:27,519 --> 00:04:33,198
enter the email ID.

102
00:04:31,279 --> 00:04:34,799
Here you can choose the role. I'll

103
00:04:33,199 --> 00:04:37,359
choose member and click on send

104
00:04:34,800 --> 00:04:41,599
invitation.

105
00:04:37,360 --> 00:04:44,320
Now let me open my email id. So here I

106
00:04:41,600 --> 00:04:47,680
have received this invitation to join

107
00:04:44,319 --> 00:04:50,238
this a Spotify inc workspace and click

108
00:04:47,680 --> 00:04:54,599
on this invitation. So it will ask you

109
00:04:50,240 --> 00:04:54,600
to sign up on this application

110
00:04:55,360 --> 00:04:59,919
and if you already have an account with

111
00:04:57,519 --> 00:05:02,158
this email id you will simply log in and

112
00:04:59,918 --> 00:05:03,918
you will find this organization in your

113
00:05:02,160 --> 00:05:06,400
profile. So you can see in this profile

114
00:05:03,918 --> 00:05:08,398
also I am the member of this Spotify

115
00:05:06,399 --> 00:05:10,399
inc. Right now let me just come back to

116
00:05:08,399 --> 00:05:12,399
the previous account and here it will

117
00:05:10,399 --> 00:05:14,559
create a new project. So I'll just click

118
00:05:12,399 --> 00:05:17,998
on this button new project and here

119
00:05:14,560 --> 00:05:20,560
we'll add the details. So let's add the

120
00:05:18,000 --> 00:05:22,400
project name. So I'll write music a

121
00:05:20,560 --> 00:05:24,720
streaming app and here we will add the

122
00:05:22,399 --> 00:05:26,637
project description and after that you

123
00:05:24,720 --> 00:05:29,359
need to choose the status. So let's add

124
00:05:26,639 --> 00:05:33,039
active. We will choose the priority and

125
00:05:29,360 --> 00:05:36,079
a start date and end date.

126
00:05:33,038 --> 00:05:38,558
And here we'll choose the team lead and

127
00:05:36,079 --> 00:05:41,838
you can also choose the other members

128
00:05:38,560 --> 00:05:45,439
right and click on create project. So we

129
00:05:41,839 --> 00:05:47,917
have created a project here.

130
00:05:45,439 --> 00:05:50,399
And after that you will find the

131
00:05:47,918 --> 00:05:52,637
projects here in this dashboard also and

132
00:05:50,399 --> 00:05:57,679
in this left sidebar also. Let's click

133
00:05:52,639 --> 00:05:59,839
here and you will go to task. So here

134
00:05:57,680 --> 00:06:02,160
you can click on this new task and

135
00:05:59,839 --> 00:06:06,558
create a new task here. So I'll write

136
00:06:02,160 --> 00:06:08,079
the task name like UIUX design.

137
00:06:06,560 --> 00:06:11,119
Then you need to add the task

138
00:06:08,079 --> 00:06:14,079
description and you can choose the type

139
00:06:11,120 --> 00:06:17,120
it is task and priority and you can

140
00:06:14,079 --> 00:06:19,439
assign this to any member. Right? But

141
00:06:17,120 --> 00:06:21,600
you can add the team member also. If I

142
00:06:19,439 --> 00:06:23,599
go to settings and here you can see we

143
00:06:21,600 --> 00:06:25,918
have only one member. Right? So in this

144
00:06:23,600 --> 00:06:27,600
project let me add a new member. So if I

145
00:06:25,918 --> 00:06:29,438
click on this drop-down you can see we

146
00:06:27,600 --> 00:06:32,159
have another member also. Right? Let me

147
00:06:29,439 --> 00:06:34,317
choose this one and click on add member.

148
00:06:32,160 --> 00:06:36,240
So we have added another member in this

149
00:06:34,319 --> 00:06:37,1000
project.

150
00:06:36,240 --> 00:06:40,159
Right? You can see now we have two

151
00:06:38,000 --> 00:06:42,080
members in this project. Now let me

152
00:06:40,160 --> 00:06:45,360
create the task. And here we'll add the

153
00:06:42,079 --> 00:06:48,958
task name. And then we will add the task

154
00:06:45,360 --> 00:06:52,318
description here. And let's choose the

155
00:06:48,959 --> 00:06:55,678
type task and priority and assign this

156
00:06:52,319 --> 00:06:58,559
to this user. And then we will add the

157
00:06:55,680 --> 00:07:00,800
uh status to-do or you can choose the in

158
00:06:58,560 --> 00:07:02,880
progress done anything. And here you

159
00:07:00,800 --> 00:07:04,880
need to add the due date and create

160
00:07:02,879 --> 00:07:07,438
task.

161
00:07:04,879 --> 00:07:09,518
So you can see the task list here. One

162
00:07:07,439 --> 00:07:11,597
task has been created. Let me add

163
00:07:09,519 --> 00:07:14,238
another task also. I'll click on this

164
00:07:11,598 --> 00:07:15,838
new task. And here we will add the

165
00:07:14,240 --> 00:07:19,119
description.

166
00:07:15,839 --> 00:07:22,079
Then let me choose the type improvement

167
00:07:19,120 --> 00:07:25,440
or you can choose feature. We can set

168
00:07:22,079 --> 00:07:29,359
the priority assigned to any user and

169
00:07:25,439 --> 00:07:31,038
here we'll add the in progress or to-do.

170
00:07:29,360 --> 00:07:33,919
Then we will choose the due date and

171
00:07:31,038 --> 00:07:37,119
create task. So we have created two

172
00:07:33,918 --> 00:07:39,918
task. Whenever a new task is assigned to

173
00:07:37,120 --> 00:07:42,560
any user then they will receive an email

174
00:07:39,918 --> 00:07:45,278
like this. You can see a new task has

175
00:07:42,560 --> 00:07:47,840
been assigned to this user. And here we

176
00:07:45,279 --> 00:07:49,758
have this email right and the user will

177
00:07:47,839 --> 00:07:52,398
receive another email also that is the

178
00:07:49,759 --> 00:07:55,119
reminder email on the due date if the

179
00:07:52,399 --> 00:07:57,278
task is not completed on the due date.

180
00:07:55,120 --> 00:07:59,280
We can also update the status from this

181
00:07:57,279 --> 00:08:02,638
drop-down. We can click here and choose

182
00:07:59,279 --> 00:08:05,998
done. So we can update the status and we

183
00:08:02,639 --> 00:08:07,919
can also delete the task by using this

184
00:08:06,000 --> 00:08:10,080
checkbox and click on delete. So this

185
00:08:07,918 --> 00:08:12,637
task will be deleted.

186
00:08:10,079 --> 00:08:15,279
Now let me open any task and in this one

187
00:08:12,639 --> 00:08:17,599
we can add the comment also. So let's

188
00:08:15,279 --> 00:08:19,439
add the comment in this discussion. So

189
00:08:17,598 --> 00:08:21,118
I'll write it's completed and click on

190
00:08:19,439 --> 00:08:23,278
post.

191
00:08:21,120 --> 00:08:25,999
So you can see the comment has been

192
00:08:23,279 --> 00:08:27,918
added in this discussion. So this was

193
00:08:26,000 --> 00:08:29,439
the overview of the project management

194
00:08:27,918 --> 00:08:32,398
application. Let me switch the

195
00:08:29,439 --> 00:08:34,799
organization from this drop-down and let

196
00:08:32,399 --> 00:08:36,559
me change the theme also. In this

197
00:08:34,799 --> 00:08:38,638
project, we have created user

198
00:08:36,559 --> 00:08:41,517
authentication and organization

199
00:08:38,639 --> 00:08:44,079
management using color. Color makes it

200
00:08:41,519 --> 00:08:46,320
easy to handle user signin, signup and

201
00:08:44,080 --> 00:08:48,879
account management. With color's

202
00:08:46,320 --> 00:08:52,079
organization feature, we can create an

203
00:08:48,879 --> 00:08:55,119
organization, invite and manage the team

204
00:08:52,080 --> 00:08:57,040
members. We have added inest in this

205
00:08:55,120 --> 00:09:00,080
project to manage the background jobs

206
00:08:57,039 --> 00:09:03,199
and scheduling. Using ingest functions,

207
00:09:00,080 --> 00:09:06,320
we will send the new task assignment and

208
00:09:03,200 --> 00:09:08,240
reminder emails. It will also help us to

209
00:09:06,320 --> 00:09:11,600
handle the color behooks more

210
00:09:08,240 --> 00:09:13,839
efficiently. To store user, organization

211
00:09:11,600 --> 00:09:17,279
and project data, we are going to use

212
00:09:13,839 --> 00:09:19,518
neon. Neon is a serverless Postgress SQL

213
00:09:17,278 --> 00:09:21,919
database that helps developers build

214
00:09:19,519 --> 00:09:24,640
reliable and scalable application

215
00:09:21,919 --> 00:09:26,718
quickly. After building this fullstack

216
00:09:24,639 --> 00:09:29,919
project management application, we will

217
00:09:26,720 --> 00:09:32,399
deploy it online using versel. So if you

218
00:09:29,919 --> 00:09:34,957
are also excited to build your own

219
00:09:32,399 --> 00:09:36,559
project management app, just write down

220
00:09:34,958 --> 00:09:39,358
I'm going to build this project

221
00:09:36,559 --> 00:09:41,198
management app in the comment box. I

222
00:09:39,360 --> 00:09:43,518
will recommend you to build this project

223
00:09:41,200 --> 00:09:46,160
and add the project live link in your

224
00:09:43,519 --> 00:09:50,640
réumé or you can also use it as your

225
00:09:46,159 --> 00:09:52,639
college project. Now let's get started

226
00:09:50,639 --> 00:09:55,438
to build our project management

227
00:09:52,639 --> 00:09:58,478
application. We will use an open-source

228
00:09:55,440 --> 00:10:01,518
template created by great stack. Simply

229
00:09:58,480 --> 00:10:04,518
visit greatstack GitHub profile at

230
00:10:01,519 --> 00:10:04,519
github.com/grastackdev.

231
00:10:05,278 --> 00:10:11,199
On this page you will find a project

232
00:10:07,679 --> 00:10:13,759
called project management. And I will

233
00:10:11,200 --> 00:10:15,839
also provide this repo link in the video

234
00:10:13,759 --> 00:10:17,759
description. So let's open this

235
00:10:15,839 --> 00:10:20,079
repository.

236
00:10:17,759 --> 00:10:23,039
It is a free open-source project

237
00:10:20,078 --> 00:10:26,639
management website template built using

238
00:10:23,039 --> 00:10:28,957
ReactJS and Telvin CSS.

239
00:10:26,639 --> 00:10:31,837
Don't forget to click the star button on

240
00:10:28,958 --> 00:10:34,078
GitHub to support this project. If you

241
00:10:31,839 --> 00:10:37,119
show more love on this project, we will

242
00:10:34,078 --> 00:10:39,358
bring more open-source project for you.

243
00:10:37,120 --> 00:10:41,759
We also have other open-source project

244
00:10:39,360 --> 00:10:45,360
on our GitHub page. You can check out

245
00:10:41,759 --> 00:10:47,358
other projects and hit the start button.

246
00:10:45,360 --> 00:10:50,239
So again come back to this project

247
00:10:47,360 --> 00:10:52,398
management repository

248
00:10:50,240 --> 00:10:54,560
to get started. You can fork the

249
00:10:52,399 --> 00:10:58,320
repository and clone it on your local

250
00:10:54,559 --> 00:11:00,958
machine or simply click the code button

251
00:10:58,320 --> 00:11:04,839
and then choose download zip and

252
00:11:00,958 --> 00:11:04,837
download the zip file.

253
00:11:04,879 --> 00:11:11,359
It has been downloaded. Now let me place

254
00:11:07,839 --> 00:11:13,039
this downloaded zip file on the desktop

255
00:11:11,360 --> 00:11:15,518
screen.

256
00:11:13,039 --> 00:11:17,999
So here we have the downloaded zip file.

257
00:11:15,519 --> 00:11:19,600
Let me extract it. I'll right click and

258
00:11:18,000 --> 00:11:23,120
select

259
00:11:19,600 --> 00:11:26,479
extract here.

260
00:11:23,120 --> 00:11:29,999
So here we have this folder project

261
00:11:26,480 --> 00:11:33,680
management main. Correct. And if I open

262
00:11:30,000 --> 00:11:37,040
this folder here we have the

263
00:11:33,679 --> 00:11:40,238
code file and folder. Correct. Now let

264
00:11:37,039 --> 00:11:43,119
me just come back and I'll place it in a

265
00:11:40,240 --> 00:11:45,278
project folder. So here I'll create the

266
00:11:43,120 --> 00:11:49,959
project folder and write the project

267
00:11:45,278 --> 00:11:49,957
name that is project management.

268
00:11:51,039 --> 00:11:57,277
So we have added the folder called

269
00:11:54,240 --> 00:12:00,799
project management and in this one let's

270
00:11:57,278 --> 00:12:03,359
add this downloaded folder just add it

271
00:12:00,799 --> 00:12:07,199
here

272
00:12:03,360 --> 00:12:09,600
like this. So now let me rename the

273
00:12:07,200 --> 00:12:13,039
folder. So here the folder name is

274
00:12:09,600 --> 00:12:16,040
project management main. So I'll write

275
00:12:13,039 --> 00:12:16,039
client

276
00:12:16,320 --> 00:12:20,879
because this is the front end template

277
00:12:18,320 --> 00:12:24,560
only. So I have added the name client.

278
00:12:20,879 --> 00:12:27,598
Now let's open this project management

279
00:12:24,559 --> 00:12:30,637
folder with VS code.

280
00:12:27,600 --> 00:12:33,359
So now this project management is open

281
00:12:30,639 --> 00:12:35,119
in VS code and here we have the client

282
00:12:33,360 --> 00:12:38,320
folder.

283
00:12:35,120 --> 00:12:40,160
Right after that just right click on

284
00:12:38,320 --> 00:12:44,320
this client

285
00:12:40,159 --> 00:12:46,159
and select open in integrated terminal.

286
00:12:44,320 --> 00:12:49,360
So in this terminal you can see we are

287
00:12:46,159 --> 00:12:52,559
in this client directory. Right. So now

288
00:12:49,360 --> 00:12:55,278
we can start our client project. If I

289
00:12:52,559 --> 00:12:59,358
expand this folder here we have the

290
00:12:55,278 --> 00:13:01,999
public folder then src and other files.

291
00:12:59,360 --> 00:13:04,959
Here we have the index.html file. Then

292
00:13:02,000 --> 00:13:08,000
we have the package.json JSON and then

293
00:13:04,958 --> 00:13:11,837
we config. So let's open this

294
00:13:08,000 --> 00:13:15,440
package.json file.

295
00:13:11,839 --> 00:13:20,480
In this one you can see we have the list

296
00:13:15,440 --> 00:13:23,359
of dependencies like Redux JS Telvin CSS

297
00:13:20,480 --> 00:13:27,999
date function Lucid React. We have added

298
00:13:23,360 --> 00:13:31,039
Lucid React to use the icons and we have

299
00:13:28,000 --> 00:13:34,639
used ReduxJS toolkit to manage the

300
00:13:31,039 --> 00:13:37,678
state. Then we have the React React DOM

301
00:13:34,639 --> 00:13:39,839
and React hot toast. Using this React

302
00:13:37,679 --> 00:13:42,398
hot toast, we can display the toast

303
00:13:39,839 --> 00:13:45,440
notification. Then we have the React

304
00:13:42,399 --> 00:13:49,919
Redux for managing the state and then we

305
00:13:45,440 --> 00:13:52,880
have the React router DOM. So using this

306
00:13:49,919 --> 00:13:58,559
we can navigate the pages and after that

307
00:13:52,879 --> 00:14:01,599
we have the recharts and Telvin CSS.

308
00:13:58,559 --> 00:14:05,517
Now let's open this index.html file. In

309
00:14:01,600 --> 00:14:08,479
this one, you can update the

310
00:14:05,519 --> 00:14:10,480
project title. You can add the favicon

311
00:14:08,480 --> 00:14:13,518
icon here.

312
00:14:10,480 --> 00:14:16,480
Now, let's come here in this public

313
00:14:13,519 --> 00:14:19,360
folder. So, here we have favicon.ico.

314
00:14:16,480 --> 00:14:22,560
That's it. And in this src, we have all

315
00:14:19,360 --> 00:14:25,360
the pages, right? And we have the pages

316
00:14:22,559 --> 00:14:28,719
and components. We have the assets also.

317
00:14:25,360 --> 00:14:31,440
If I expand this assets here, we have

318
00:14:28,720 --> 00:14:33,279
all images and icons that will be used

319
00:14:31,440 --> 00:14:34,879
in this project. And then we have the

320
00:14:33,278 --> 00:14:37,999
assets.js

321
00:14:34,879 --> 00:14:40,558
file. If I open assets.js.

322
00:14:38,000 --> 00:14:44,559
In this one, we have imported all the

323
00:14:40,559 --> 00:14:46,879
images and exported it using this assets

324
00:14:44,559 --> 00:14:49,679
object so that we can easily access it

325
00:14:46,879 --> 00:14:53,837
in our project. Then we have added some

326
00:14:49,679 --> 00:14:56,398
dummy data. As you can see dummy users

327
00:14:53,839 --> 00:15:00,560
then we have dummy workspaces and in

328
00:14:56,399 --> 00:15:03,839
this workspaces you will find the ID

329
00:15:00,559 --> 00:15:06,637
then organization

330
00:15:03,839 --> 00:15:10,880
ID. Then we have the organization name

331
00:15:06,639 --> 00:15:13,278
slug. This is the corp workspace.

332
00:15:10,879 --> 00:15:15,999
After that we have the image URL. So in

333
00:15:13,278 --> 00:15:18,718
this dummy workspaces we have added the

334
00:15:16,000 --> 00:15:21,599
data for different organization

335
00:15:18,720 --> 00:15:24,319
and uh in this organization we have

336
00:15:21,600 --> 00:15:26,959
members

337
00:15:24,320 --> 00:15:31,760
and uh you can see the member ID, user

338
00:15:26,958 --> 00:15:35,278
ID, workspace ID, role, user

339
00:15:31,759 --> 00:15:36,879
and after that in this

340
00:15:35,278 --> 00:15:41,518
organization

341
00:15:36,879 --> 00:15:44,398
we have this projects right and in this

342
00:15:41,519 --> 00:15:47,600
project we can add multiple task. So we

343
00:15:44,399 --> 00:15:49,519
have added the dummy projects members

344
00:15:47,600 --> 00:15:51,359
task.

345
00:15:49,519 --> 00:15:55,278
Here also we have the members. So we can

346
00:15:51,360 --> 00:15:58,480
add multiple members in a project.

347
00:15:55,278 --> 00:16:00,718
Then we have the project owner and after

348
00:15:58,480 --> 00:16:03,440
that here you can see the another

349
00:16:00,720 --> 00:16:05,599
organization. Right? This is the ID,

350
00:16:03,440 --> 00:16:07,920
name, slug, description. Then we have

351
00:16:05,600 --> 00:16:11,199
the members.

352
00:16:07,919 --> 00:16:14,159
So this is the dummy data that we have

353
00:16:11,198 --> 00:16:17,438
already added in the front end. Right?

354
00:16:14,159 --> 00:16:19,599
Now to start this front end just open

355
00:16:17,440 --> 00:16:22,079
this terminal and here we have to

356
00:16:19,600 --> 00:16:24,159
install the dependencies. So simply

357
00:16:22,078 --> 00:16:26,238
write npm

358
00:16:24,159 --> 00:16:29,277
install.

359
00:16:26,240 --> 00:16:33,360
It will install the packages

360
00:16:29,278 --> 00:16:36,478
and uh just wait for it.

361
00:16:33,360 --> 00:16:38,879
It is installing the package.

362
00:16:36,480 --> 00:16:41,518
Now all the packages has been installed

363
00:16:38,879 --> 00:16:44,879
and after that you will find a folder in

364
00:16:41,519 --> 00:16:46,959
this client that is node_modules.

365
00:16:44,879 --> 00:16:50,478
So it will create this folder and all

366
00:16:46,958 --> 00:16:53,599
the packages will be added in this node

367
00:16:50,480 --> 00:16:57,999
modules folder. After that we can run

368
00:16:53,600 --> 00:17:00,159
our project. So just add npm

369
00:16:58,000 --> 00:17:02,799
rundev

370
00:17:00,159 --> 00:17:05,437
press enter.

371
00:17:02,799 --> 00:17:08,957
So our project is running at this URL

372
00:17:05,439 --> 00:17:11,759
localhost 5173. Let's open it in the web

373
00:17:08,959 --> 00:17:13,919
browser. Copy this link and open in web

374
00:17:11,759 --> 00:17:16,879
browser.

375
00:17:13,919 --> 00:17:20,399
So you can see this is the front- end

376
00:17:16,880 --> 00:17:22,559
template of project management.

377
00:17:20,400 --> 00:17:24,480
Right? And in this one we have the dummy

378
00:17:22,558 --> 00:17:27,279
data also.

379
00:17:24,480 --> 00:17:30,319
And we can also change the theme. Right?

380
00:17:27,279 --> 00:17:32,479
Now it is in the dark mode. Right? So

381
00:17:30,319 --> 00:17:37,279
I'll just click here. So you can switch

382
00:17:32,480 --> 00:17:39,760
to light mode or dark mode

383
00:17:37,279 --> 00:17:41,678
like this.

384
00:17:39,759 --> 00:17:44,558
After that let me show you all the

385
00:17:41,679 --> 00:17:47,440
features of this template. So first we

386
00:17:44,558 --> 00:17:49,519
have this dashboard and before this

387
00:17:47,440 --> 00:17:52,799
dashboard area we have the navigation

388
00:17:49,519 --> 00:17:56,238
bar also where you can switch the

389
00:17:52,798 --> 00:17:59,759
workspace or organization.

390
00:17:56,240 --> 00:18:01,600
Correct. And uh after that here we have

391
00:17:59,759 --> 00:18:03,759
the

392
00:18:01,599 --> 00:18:06,879
user icon in the right side which is not

393
00:18:03,759 --> 00:18:09,438
functional yet because we have not added

394
00:18:06,880 --> 00:18:12,160
the backend functionality. After that

395
00:18:09,440 --> 00:18:16,400
here we have the search icon where you

396
00:18:12,160 --> 00:18:20,320
can search for the project or task. Now

397
00:18:16,400 --> 00:18:22,400
after this navbar here we have the

398
00:18:20,319 --> 00:18:25,998
dashboard area where you can see the

399
00:18:22,400 --> 00:18:31,599
overview like total number of projects

400
00:18:26,000 --> 00:18:34,240
completed projects my task and overdue.

401
00:18:31,599 --> 00:18:37,278
After that here you will find the active

402
00:18:34,240 --> 00:18:39,839
projects. We have the project overview

403
00:18:37,279 --> 00:18:42,878
right and you can see the status active

404
00:18:39,839 --> 00:18:44,718
and we have the button called view all

405
00:18:42,880 --> 00:18:47,280
that will take you to the projects page

406
00:18:44,720 --> 00:18:49,359
where you can see all the projects right

407
00:18:47,279 --> 00:18:52,239
now we are on the dashboard page so it

408
00:18:49,359 --> 00:18:54,639
will display two projects here then we

409
00:18:52,240 --> 00:18:56,959
have my task here also it is displaying

410
00:18:54,640 --> 00:18:59,918
the task list and you can click here to

411
00:18:56,960 --> 00:19:02,719
open the particular task and it is also

412
00:18:59,919 --> 00:19:04,960
displaying the count here after that we

413
00:19:02,720 --> 00:19:09,120
have the recent activity

414
00:19:04,960 --> 00:19:11,200
then overdue in progress like this. Now

415
00:19:09,119 --> 00:19:13,758
let's come here in this sidebar and

416
00:19:11,200 --> 00:19:16,719
switch to different page. So I'll click

417
00:19:13,759 --> 00:19:19,759
on this projects. So here you can see we

418
00:19:16,720 --> 00:19:24,279
have two projects and we have this

419
00:19:19,759 --> 00:19:24,278
search box. Then we have the filters.

420
00:19:24,319 --> 00:19:28,639
Let me show you in light mode. Here we

421
00:19:26,640 --> 00:19:31,600
have the filters.

422
00:19:28,640 --> 00:19:34,239
I'll update the text color in the dark

423
00:19:31,599 --> 00:19:37,038
mode also. And after that here you can

424
00:19:34,240 --> 00:19:39,600
see this button

425
00:19:37,038 --> 00:19:41,999
that is new project. So you can also

426
00:19:39,599 --> 00:19:45,118
create a new project using this button

427
00:19:42,000 --> 00:19:47,280
that will open a form like this where

428
00:19:45,119 --> 00:19:51,519
you can add the project details and

429
00:19:47,279 --> 00:19:54,958
create a new project in your workspace.

430
00:19:51,519 --> 00:19:57,759
After that let's come here in this team.

431
00:19:54,960 --> 00:20:01,519
So in this one you will get the list of

432
00:19:57,759 --> 00:20:03,278
team members right and their role. After

433
00:20:01,519 --> 00:20:06,398
that you can also search the team

434
00:20:03,279 --> 00:20:09,038
members using this input field. And then

435
00:20:06,400 --> 00:20:12,079
we have the other details like total

436
00:20:09,038 --> 00:20:15,038
members, active projects and total task.

437
00:20:12,079 --> 00:20:16,878
But with that we have more feature like

438
00:20:15,038 --> 00:20:18,639
add members. So we will add the

439
00:20:16,880 --> 00:20:21,599
functionality in this button add

440
00:20:18,640 --> 00:20:24,558
members. Using that we can add new

441
00:20:21,599 --> 00:20:26,557
members in this project.

442
00:20:24,558 --> 00:20:29,758
And here you can see the button send

443
00:20:26,558 --> 00:20:31,678
invitation. Right. So this is the team

444
00:20:29,759 --> 00:20:33,759
page and after that we have the settings

445
00:20:31,679 --> 00:20:36,159
in the left side. Here we'll add the

446
00:20:33,759 --> 00:20:38,478
functionality to make the changes in the

447
00:20:36,159 --> 00:20:41,280
organization settings. After that here

448
00:20:38,480 --> 00:20:43,600
we have the task list. You can see we

449
00:20:41,279 --> 00:20:47,118
can expand it and we'll see the list of

450
00:20:43,599 --> 00:20:48,639
task. And if I click here it will open

451
00:20:47,119 --> 00:20:51,038
this

452
00:20:48,640 --> 00:20:53,678
discussion page where we can send the

453
00:20:51,038 --> 00:20:55,839
messages also. Right? And in the right

454
00:20:53,679 --> 00:20:58,079
side we have the task details and

455
00:20:55,839 --> 00:21:00,398
project details. After that in the left

456
00:20:58,079 --> 00:21:03,998
side you will find this projects right.

457
00:21:00,400 --> 00:21:07,840
If I click on any project it will

458
00:21:04,000 --> 00:21:10,320
display the tasks analytics calendar and

459
00:21:07,839 --> 00:21:12,478
settings. Just click on this task. So it

460
00:21:10,319 --> 00:21:15,198
will display all the tasks for the

461
00:21:12,480 --> 00:21:18,880
particular project. And here we have

462
00:21:15,200 --> 00:21:22,240
other stats like total task completed in

463
00:21:18,880 --> 00:21:25,759
progress and team members.

464
00:21:22,240 --> 00:21:28,079
We can switch the tab like this. If I

465
00:21:25,759 --> 00:21:31,839
click on calendar here we have the

466
00:21:28,079 --> 00:21:34,157
calendar then we have analytics then

467
00:21:31,839 --> 00:21:36,478
settings. So in this settings page we

468
00:21:34,159 --> 00:21:39,439
can make the changes in the project

469
00:21:36,480 --> 00:21:42,880
details and here we have the option to

470
00:21:39,440 --> 00:21:44,959
manage the members. Right. So this is

471
00:21:42,880 --> 00:21:47,038
the front end only. We don't have the

472
00:21:44,960 --> 00:21:49,440
functionality here. This is the static

473
00:21:47,038 --> 00:21:52,158
template. Next we have to add the

474
00:21:49,440 --> 00:21:53,919
features. We will make it functional. So

475
00:21:52,159 --> 00:21:56,720
first we'll start with the user

476
00:21:53,919 --> 00:21:59,600
authentication. For user authentication

477
00:21:56,720 --> 00:22:01,678
feature we are going to use kirk. It is

478
00:21:59,599 --> 00:22:05,038
most comprehensive user management

479
00:22:01,679 --> 00:22:07,440
platform. It also provides organization

480
00:22:05,038 --> 00:22:10,879
features that allow user to create

481
00:22:07,440 --> 00:22:12,799
organization add user and invite user to

482
00:22:10,880 --> 00:22:14,880
an organization.

483
00:22:12,798 --> 00:22:17,359
Color also provides readytouse

484
00:22:14,880 --> 00:22:19,519
components for user authentication and

485
00:22:17,359 --> 00:22:25,398
organization management that we can

486
00:22:19,519 --> 00:22:25,398
easily integrate in our ReactJS project.

487
00:22:25,759 --> 00:22:30,239
So just click the link provided in the

488
00:22:27,759 --> 00:22:33,999
description and sign up on the color

489
00:22:30,240 --> 00:22:37,200
website. So I'll click on this button

490
00:22:34,000 --> 00:22:42,119
and uh I'll sign up with my existing

491
00:22:37,200 --> 00:22:42,119
Google account. I'll choose Google

492
00:22:42,159 --> 00:22:46,079
After sign up, you will come to collect

493
00:22:44,159 --> 00:22:47,760
dashboard where you need to create an

494
00:22:46,079 --> 00:22:50,157
application. So I'll just click on this

495
00:22:47,759 --> 00:22:52,239
button create application

496
00:22:50,159 --> 00:22:56,760
and here we have to add the application

497
00:22:52,240 --> 00:22:56,759
name. So I'll write project management

498
00:23:00,480 --> 00:23:07,760
and after that you can enable the signup

499
00:23:04,079 --> 00:23:09,998
methods. So I'll use Google signup and

500
00:23:07,759 --> 00:23:12,719
email. You can also use other signup

501
00:23:10,000 --> 00:23:16,000
methods like phone number, username,

502
00:23:12,720 --> 00:23:19,359
Facebook, Apple, Microsoft. So I'll just

503
00:23:16,000 --> 00:23:22,960
use Google signup and email and click on

504
00:23:19,359 --> 00:23:24,479
create application button.

505
00:23:22,960 --> 00:23:27,120
After that here we have the

506
00:23:24,480 --> 00:23:29,520
documentation to set up the color in our

507
00:23:27,119 --> 00:23:32,319
project. So I'll just click on this

508
00:23:29,519 --> 00:23:34,719
react

509
00:23:32,319 --> 00:23:37,198
and after that you can see the steps to

510
00:23:34,720 --> 00:23:40,239
integrate the color authentication in

511
00:23:37,200 --> 00:23:43,919
react project. So the first step is to

512
00:23:40,240 --> 00:23:47,440
create and start the project using

513
00:23:43,919 --> 00:23:50,480
weight and after that we need to install

514
00:23:47,440 --> 00:23:53,359
the color for react using this command.

515
00:23:50,480 --> 00:23:56,840
So just copy this one and come back to

516
00:23:53,359 --> 00:23:56,839
the VS code.

517
00:23:57,440 --> 00:24:02,239
So here we have this terminal and the

518
00:23:59,839 --> 00:24:04,319
project is running. So just add Ctrl C

519
00:24:02,240 --> 00:24:08,640
to stop the project and paste this

520
00:24:04,319 --> 00:24:10,719
command. npm install at color/color

521
00:24:08,640 --> 00:24:13,1000
react.

522
00:24:10,720 --> 00:24:17,279
So it is installing this package. So now

523
00:24:14,000 --> 00:24:19,599
I'll see the next step. So the next step

524
00:24:17,278 --> 00:24:22,638
is to add

525
00:24:19,599 --> 00:24:24,398
file and in this env file we have to add

526
00:24:22,640 --> 00:24:28,960
this

527
00:24:24,400 --> 00:24:32,159
key. So let's create a environment

528
00:24:28,960 --> 00:24:34,879
variable file. I'll just come back here

529
00:24:32,159 --> 00:24:38,960
and in this client folder create a new

530
00:24:34,880 --> 00:24:41,439
file and write the file name env.

531
00:24:38,960 --> 00:24:43,599
Now in this one just paste this

532
00:24:41,440 --> 00:24:46,480
environment variable just copy from here

533
00:24:43,599 --> 00:24:51,038
and paste it here. So we have added this

534
00:24:46,480 --> 00:24:53,279
color publicable key like this.

535
00:24:51,038 --> 00:24:56,557
Now just come back and see the next

536
00:24:53,278 --> 00:25:00,797
step. So the next step is to import the

537
00:24:56,558 --> 00:25:03,918
pubable key in the main JSX or tsx file

538
00:25:00,798 --> 00:25:08,479
and after that we have to use the color

539
00:25:03,919 --> 00:25:12,278
provider tag in this same file. So let's

540
00:25:08,480 --> 00:25:12,278
just copy this one

541
00:25:13,119 --> 00:25:19,758
and come back to the VS code. And now

542
00:25:16,400 --> 00:25:25,200
I'll open this

543
00:25:19,759 --> 00:25:26,959
src then main dot jsx file. Now in this

544
00:25:25,200 --> 00:25:30,158
one

545
00:25:26,960 --> 00:25:33,278
you can see we have this create root. So

546
00:25:30,159 --> 00:25:36,240
before that let me paste this code that

547
00:25:33,278 --> 00:25:37,758
will import the pubable key and this if

548
00:25:36,240 --> 00:25:40,799
statement.

549
00:25:37,759 --> 00:25:43,999
After that just come back here

550
00:25:40,798 --> 00:25:46,639
and you can see we have to import the

551
00:25:44,000 --> 00:25:51,679
color provider tag. So just copy this

552
00:25:46,640 --> 00:25:54,640
import statement paste it here

553
00:25:51,679 --> 00:25:56,320
like this import color provider from

554
00:25:54,640 --> 00:25:59,199
color/color

555
00:25:56,319 --> 00:26:01,439
react. And after that we have to wrap

556
00:25:59,200 --> 00:26:05,600
our application

557
00:26:01,440 --> 00:26:08,319
using this color provider like this. So

558
00:26:05,599 --> 00:26:11,438
let's just copy this one. I'll just copy

559
00:26:08,319 --> 00:26:13,359
it and come here.

560
00:26:11,440 --> 00:26:15,600
So

561
00:26:13,359 --> 00:26:19,198
here you can see we have the browser

562
00:26:15,599 --> 00:26:23,038
router and then we have this provider

563
00:26:19,200 --> 00:26:26,480
right. So before this provider let's

564
00:26:23,038 --> 00:26:29,278
paste this one that is color provider

565
00:26:26,480 --> 00:26:31,999
then publishable key and after that we

566
00:26:29,278 --> 00:26:33,917
have this app. So remove this app and

567
00:26:32,000 --> 00:26:36,719
move this provider inside the color

568
00:26:33,919 --> 00:26:39,279
provider. So now you can see the

569
00:26:36,720 --> 00:26:42,159
structure.

570
00:26:39,278 --> 00:26:43,999
First we have the browser router. Inside

571
00:26:42,159 --> 00:26:46,240
this browser router we have the color

572
00:26:44,000 --> 00:26:48,960
provider and after that we have this

573
00:26:46,240 --> 00:26:50,480
provider. And in this one we have this

574
00:26:48,960 --> 00:26:53,440
app.

575
00:26:50,480 --> 00:26:57,600
Save the changes. Now we can use the

576
00:26:53,440 --> 00:27:00,558
color components in any page or any

577
00:26:57,599 --> 00:27:02,719
file. Right? So if I come back here in

578
00:27:00,558 --> 00:27:04,478
this documentation you can see we can

579
00:27:02,720 --> 00:27:07,200
use the

580
00:27:04,480 --> 00:27:09,999
signed out component signin button. So

581
00:27:07,200 --> 00:27:12,559
we can simply use these components to

582
00:27:10,000 --> 00:27:16,240
use the color feature and create the

583
00:27:12,558 --> 00:27:18,639
authentication pages and popup. So now

584
00:27:16,240 --> 00:27:21,679
I'll just come back here

585
00:27:18,640 --> 00:27:24,479
in the VS code and first we'll start the

586
00:27:21,679 --> 00:27:30,359
project. So let's open the terminal and

587
00:27:24,480 --> 00:27:30,359
write npm rundev.

588
00:27:31,599 --> 00:27:38,639
So again the project is running on the

589
00:27:34,240 --> 00:27:41,679
same URL and we can hide this terminal.

590
00:27:38,640 --> 00:27:45,600
Now if I come back to the web browser

591
00:27:41,679 --> 00:27:48,558
and you can see this dashboard is still

592
00:27:45,599 --> 00:27:52,719
visible right so I'll just come back

593
00:27:48,558 --> 00:27:55,439
here in the VS code and let me close

594
00:27:52,720 --> 00:27:59,918
this file and after that let's open the

595
00:27:55,440 --> 00:28:02,558
app dot jsx this is the first file

596
00:27:59,919 --> 00:28:05,359
that will get executed right so in this

597
00:28:02,558 --> 00:28:08,397
one you can see we have this home route

598
00:28:05,359 --> 00:28:11,198
that is forward slash that's it so When

599
00:28:08,398 --> 00:28:13,359
we open the homepage, it will open this

600
00:28:11,200 --> 00:28:16,719
route. And here you can see we have

601
00:28:13,359 --> 00:28:20,479
mounted the layout page. Correct? So in

602
00:28:16,720 --> 00:28:22,720
this layout page, we have added the data

603
00:28:20,480 --> 00:28:25,119
that will be displayed when we hit this

604
00:28:22,720 --> 00:28:27,918
home route. So now let's open this

605
00:28:25,119 --> 00:28:29,838
layout page. We will open this sidebar.

606
00:28:27,919 --> 00:28:33,600
Come to pages. And here we have the

607
00:28:29,839 --> 00:28:35,917
layout. Let's open layout.jsx file. Now

608
00:28:33,599 --> 00:28:38,959
in this layout you can see we have this

609
00:28:35,919 --> 00:28:43,039
div that is displayed on the web page.

610
00:28:38,960 --> 00:28:45,759
So first we have the left sideb and

611
00:28:43,038 --> 00:28:48,158
after that we have this div. In this div

612
00:28:45,759 --> 00:28:51,598
we have the navigation bar and then we

613
00:28:48,159 --> 00:28:55,120
have this outlet. In this outlet we can

614
00:28:51,599 --> 00:28:57,438
display different pages. So this sidebar

615
00:28:55,119 --> 00:29:00,319
and nav bar will be always displayed and

616
00:28:57,440 --> 00:29:01,840
this outlet will display the child

617
00:29:00,319 --> 00:29:04,719
pages.

618
00:29:01,839 --> 00:29:08,478
Correct? But we have to hide this entire

619
00:29:04,720 --> 00:29:10,960
div when the user is not logged in. For

620
00:29:08,480 --> 00:29:13,520
that here we have to add one if

621
00:29:10,960 --> 00:29:19,319
statement and we will check the user is

622
00:29:13,519 --> 00:29:19,318
authenticated or not. For that

623
00:29:19,759 --> 00:29:26,239
here we will import the color in this

624
00:29:23,679 --> 00:29:28,879
page. So

625
00:29:26,240 --> 00:29:30,398
let's add

626
00:29:28,880 --> 00:29:34,559
import

627
00:29:30,398 --> 00:29:36,798
curly braces. Let's add

628
00:29:34,558 --> 00:29:39,439
use user.

629
00:29:36,798 --> 00:29:41,998
Then we will import the

630
00:29:39,440 --> 00:29:45,039
sign in

631
00:29:42,000 --> 00:29:50,398
and uh from

632
00:29:45,038 --> 00:29:52,719
and now let's provide the at color/color

633
00:29:50,398 --> 00:29:55,199
react. So we have imported the use user

634
00:29:52,720 --> 00:29:59,918
and signin component

635
00:29:55,200 --> 00:30:02,799
right and after that let's get the user

636
00:29:59,919 --> 00:30:04,399
from this use user.

637
00:30:02,798 --> 00:30:06,798
So

638
00:30:04,398 --> 00:30:09,678
here we'll write const

639
00:30:06,798 --> 00:30:14,557
curly braces user and we will get this

640
00:30:09,679 --> 00:30:17,199
user from the use user like this. Now

641
00:30:14,558 --> 00:30:20,798
from this use user we will also get is

642
00:30:17,200 --> 00:30:24,719
loaded. So just add comma is loaded like

643
00:30:20,798 --> 00:30:27,599
this. After that you can see

644
00:30:24,720 --> 00:30:29,599
so before this if statement that is

645
00:30:27,599 --> 00:30:33,438
checking the loading a state here we

646
00:30:29,599 --> 00:30:35,759
will add if

647
00:30:33,440 --> 00:30:39,039
not of user

648
00:30:35,759 --> 00:30:42,879
it means when the user is not logged in.

649
00:30:39,038 --> 00:30:46,318
So in this case we will add return and

650
00:30:42,880 --> 00:30:48,798
uh let's add this parenthesis here. And

651
00:30:46,319 --> 00:30:51,998
we will provide a div

652
00:30:48,798 --> 00:30:55,599
like this. And in this div we will add

653
00:30:52,000 --> 00:30:57,679
the telewind classes. For that we'll

654
00:30:55,599 --> 00:31:01,518
provide the class name property and

655
00:30:57,679 --> 00:31:03,999
provide these tailwind classes.

656
00:31:01,519 --> 00:31:06,959
Now in this div we have to display the

657
00:31:04,000 --> 00:31:10,158
signin component. It means when the user

658
00:31:06,960 --> 00:31:13,1000
is not logged in then we have to display

659
00:31:10,159 --> 00:31:17,918
the sign-in component. So let's add

660
00:31:14,000 --> 00:31:20,399
sign in component. Save the changes.

661
00:31:17,919 --> 00:31:23,600
After adding it, if I open the web page,

662
00:31:20,398 --> 00:31:25,999
you can see on the same URL, we are

663
00:31:23,599 --> 00:31:28,238
getting the sign-in component. Sign in

664
00:31:26,000 --> 00:31:31,759
to project management. And here we have

665
00:31:28,240 --> 00:31:34,879
the option to sign in using Google or we

666
00:31:31,759 --> 00:31:37,037
can also sign in using email ID. And if

667
00:31:34,880 --> 00:31:39,519
you are new on this website, you can

668
00:31:37,038 --> 00:31:42,959
sign up using this link. Just click on

669
00:31:39,519 --> 00:31:46,240
this sign up. So it will open the signup

670
00:31:42,960 --> 00:31:48,799
page. You can see the signup component.

671
00:31:46,240 --> 00:31:51,039
If I come back here, we have the sign-in

672
00:31:48,798 --> 00:31:53,759
component. And if I refresh it, we

673
00:31:51,038 --> 00:31:55,839
cannot see the dashboard. Now if I sign

674
00:31:53,759 --> 00:31:58,478
in, let me sign in with my Google

675
00:31:55,839 --> 00:32:02,239
account.

676
00:31:58,480 --> 00:32:04,798
And after sign in or sign up, you can

677
00:32:02,240 --> 00:32:07,518
access the

678
00:32:04,798 --> 00:32:09,517
homepage or dashboard

679
00:32:07,519 --> 00:32:11,919
like this.

680
00:32:09,519 --> 00:32:14,719
After that you can see here we have this

681
00:32:11,919 --> 00:32:17,518
icon called A. So instead of this icon

682
00:32:14,720 --> 00:32:20,319
we will display the user icon from the

683
00:32:17,519 --> 00:32:24,320
color account. For that let me just come

684
00:32:20,319 --> 00:32:26,319
back here and we will open the

685
00:32:24,319 --> 00:32:28,479
components. In this components you will

686
00:32:26,319 --> 00:32:32,319
find navbar.jsx

687
00:32:28,480 --> 00:32:34,798
file. Now in this navbar dot jsx let's

688
00:32:32,319 --> 00:32:37,277
add import

689
00:32:34,798 --> 00:32:39,759
curly braces. We will import the user

690
00:32:37,278 --> 00:32:42,319
button. So we have the user button

691
00:32:39,759 --> 00:32:44,398
component provided by color. So let's

692
00:32:42,319 --> 00:32:47,439
add from

693
00:32:44,398 --> 00:32:51,678
at color/color

694
00:32:47,440 --> 00:32:54,880
react. Now let's mount this user button

695
00:32:51,679 --> 00:32:59,199
in the navigation bar. So let's come

696
00:32:54,880 --> 00:33:01,120
here. In the navbar we have this input

697
00:32:59,200 --> 00:33:03,600
field. Then we have the right section.

698
00:33:01,119 --> 00:33:05,359
In the right section we have this toggle

699
00:33:03,599 --> 00:33:07,839
theme. Then we have the user button.

700
00:33:05,359 --> 00:33:12,319
Right. So here you can see we have one

701
00:33:07,839 --> 00:33:16,079
image. So just replace it. I'll put this

702
00:33:12,319 --> 00:33:18,397
user button component.

703
00:33:16,079 --> 00:33:20,558
That's it. Save the changes and open the

704
00:33:18,398 --> 00:33:23,037
web page. Now you can see we have the

705
00:33:20,558 --> 00:33:25,918
user profile icon in the top right

706
00:33:23,038 --> 00:33:28,238
corner. If I switch to dark mode, you

707
00:33:25,919 --> 00:33:31,518
can see this profile icon. If I click

708
00:33:28,240 --> 00:33:35,360
here, here we have this

709
00:33:31,519 --> 00:33:37,519
user name, email id, manage account and

710
00:33:35,359 --> 00:33:40,319
sign out link.

711
00:33:37,519 --> 00:33:42,719
And here if I click on this manage

712
00:33:40,319 --> 00:33:45,359
account, you can update the profile

713
00:33:42,720 --> 00:33:47,439
image, name, email. And here we have the

714
00:33:45,359 --> 00:33:49,998
security option where you can delete

715
00:33:47,440 --> 00:33:51,840
your account. So we have added the user

716
00:33:50,000 --> 00:33:54,879
authentication in this project

717
00:33:51,839 --> 00:33:57,358
management application. After that we

718
00:33:54,880 --> 00:33:59,599
have to store this user data in the

719
00:33:57,359 --> 00:34:02,878
database and for that we have to create

720
00:33:59,599 --> 00:34:05,599
the back end also right so now we will

721
00:34:02,880 --> 00:34:09,359
start creating the back end for that let

722
00:34:05,599 --> 00:34:12,559
me just come back to the VS code and uh

723
00:34:09,358 --> 00:34:15,678
I'll just close this file and come to

724
00:34:12,559 --> 00:34:19,278
this sidebar and collapse this client

725
00:34:15,679 --> 00:34:21,598
folder in this project manager folder or

726
00:34:19,280 --> 00:34:24,079
project management folder we will create

727
00:34:21,599 --> 00:34:26,799
a new folder so I'll create a new folder

728
00:34:24,079 --> 00:34:29,1000
with the name server. In this server

729
00:34:26,800 --> 00:34:32,878
folder, we'll create the back end.

730
00:34:30,000 --> 00:34:37,200
So in this server folder, we will create

731
00:34:32,878 --> 00:34:40,078
the back end using express. So let's

732
00:34:37,199 --> 00:34:42,878
right click on this server folder and

733
00:34:40,079 --> 00:34:45,598
let's choose open in integrated

734
00:34:42,878 --> 00:34:48,397
terminal. So now we have another

735
00:34:45,599 --> 00:34:50,959
terminal and you can see the path. We

736
00:34:48,398 --> 00:34:54,398
are in the server directory. Correct.

737
00:34:50,960 --> 00:34:56,559
Here we'll add npm in it. But before

738
00:34:54,398 --> 00:34:58,479
that we'll create a file also. So in

739
00:34:56,559 --> 00:35:01,278
this server folder we'll create a new

740
00:34:58,480 --> 00:35:04,279
file and write the file name that is

741
00:35:01,280 --> 00:35:04,280
server.js.

742
00:35:05,039 --> 00:35:13,597
So we have server.js file. And after

743
00:35:08,480 --> 00:35:18,919
that in this terminal let's add npm

744
00:35:13,599 --> 00:35:18,919
in it dash y. Press enter.

745
00:35:19,039 --> 00:35:25,039
So it will create this package.json file

746
00:35:22,559 --> 00:35:28,639
where you will find the name, version,

747
00:35:25,039 --> 00:35:30,558
main, script, keywords, author, license

748
00:35:28,639 --> 00:35:33,039
and description.

749
00:35:30,559 --> 00:35:35,919
Let me open the package.json. So you can

750
00:35:33,039 --> 00:35:38,638
see the details here. Right now in this

751
00:35:35,920 --> 00:35:41,599
one we have to add the packages that we

752
00:35:38,639 --> 00:35:46,158
will use to create our backend server.

753
00:35:41,599 --> 00:35:48,879
Correct? So in this terminal

754
00:35:46,159 --> 00:35:51,117
first we will add the

755
00:35:48,880 --> 00:35:54,799
express because we'll create the back

756
00:35:51,119 --> 00:35:56,639
end using express right. So let's add

757
00:35:54,800 --> 00:36:01,439
npm

758
00:35:56,639 --> 00:36:05,199
install and provide express. Then we'll

759
00:36:01,440 --> 00:36:07,199
add next package that is course. Using

760
00:36:05,199 --> 00:36:09,519
this we will allow the back end to

761
00:36:07,199 --> 00:36:11,758
connect with any front end URL. After

762
00:36:09,519 --> 00:36:14,078
that we'll add the

763
00:36:11,760 --> 00:36:15,599
env so that we can use the environment

764
00:36:14,079 --> 00:36:18,880
variables.

765
00:36:15,599 --> 00:36:21,358
So we have added npm install express

766
00:36:18,880 --> 00:36:24,240
course and

767
00:36:21,358 --> 00:36:27,598
env. Now press enter. So it will install

768
00:36:24,239 --> 00:36:31,117
these dependencies

769
00:36:27,599 --> 00:36:33,440
in our backend project.

770
00:36:31,119 --> 00:36:37,838
It is completed. After that we'll add

771
00:36:33,440 --> 00:36:40,319
one more package. So just add npm

772
00:36:37,838 --> 00:36:46,318
install

773
00:36:40,320 --> 00:36:48,400
dash save dashdev and the package name

774
00:36:46,320 --> 00:36:51,039
nodemon.

775
00:36:48,400 --> 00:36:53,680
So this nodemon package will help us to

776
00:36:51,039 --> 00:36:55,598
restart the backend server whenever we

777
00:36:53,679 --> 00:36:57,357
will make any changes. It will

778
00:36:55,599 --> 00:37:00,400
automatically restart the backend

779
00:36:57,358 --> 00:37:03,039
server. And here we have added d-save

780
00:37:00,400 --> 00:37:06,319
d-dev because we want to install this

781
00:37:03,039 --> 00:37:09,279
package in dev dependencies only in the

782
00:37:06,320 --> 00:37:11,919
development server only. So let's press

783
00:37:09,280 --> 00:37:13,760
enter. So it will install this nodemon

784
00:37:11,920 --> 00:37:18,559
also.

785
00:37:13,760 --> 00:37:21,439
It is done. Now if I come here in this

786
00:37:18,559 --> 00:37:24,639
package.json file you can see we have

787
00:37:21,440 --> 00:37:27,279
all the dependencies like course.env and

788
00:37:24,639 --> 00:37:30,078
express. And in this dev dependencies we

789
00:37:27,280 --> 00:37:32,400
have the nodemon right after that here

790
00:37:30,079 --> 00:37:36,479
we have the scripts

791
00:37:32,400 --> 00:37:38,480
right. So in this one let's add comma

792
00:37:36,480 --> 00:37:41,760
and here we'll add double quote and

793
00:37:38,480 --> 00:37:45,680
provide the server. So we are writing

794
00:37:41,760 --> 00:37:48,160
the script name server and here let's

795
00:37:45,679 --> 00:37:52,879
add double quote again and in this one

796
00:37:48,159 --> 00:37:55,117
we will add nodemon space server.js that

797
00:37:52,880 --> 00:37:57,838
is the main file. So whenever we will

798
00:37:55,119 --> 00:38:00,559
start our project using this server

799
00:37:57,838 --> 00:38:02,799
script it will use this nodemon

800
00:38:00,559 --> 00:38:05,118
server.js that will automatically

801
00:38:02,800 --> 00:38:08,960
restart the back end whenever we will

802
00:38:05,119 --> 00:38:11,1000
make any changes. Now here we'll add one

803
00:38:08,960 --> 00:38:14,960
more property. So here we have the name

804
00:38:12,000 --> 00:38:18,160
version and main. So after that just add

805
00:38:14,960 --> 00:38:22,240
double quote and provide type. So in

806
00:38:18,159 --> 00:38:24,559
this type let's add module like this. So

807
00:38:22,239 --> 00:38:27,439
when we use this type module, we can use

808
00:38:24,559 --> 00:38:29,438
the import statement in our project.

809
00:38:27,440 --> 00:38:31,999
After adding this script, let me just

810
00:38:29,440 --> 00:38:34,560
close this and open the main file that

811
00:38:32,000 --> 00:38:37,919
is server.js file. And in this one, we

812
00:38:34,559 --> 00:38:41,198
will create a basic express app. So

813
00:38:37,920 --> 00:38:44,799
let's add import express from the

814
00:38:41,199 --> 00:38:49,597
express package. And after that, let's

815
00:38:44,800 --> 00:38:52,800
import the env/config.

816
00:38:49,599 --> 00:38:55,440
After that we'll import the course also.

817
00:38:52,800 --> 00:38:59,1000
We have already added this

818
00:38:55,440 --> 00:39:03,199
package. Correct? Now using this express

819
00:39:00,000 --> 00:39:05,599
we'll create one app. So let's add con

820
00:39:03,199 --> 00:39:09,199
app equal to

821
00:39:05,599 --> 00:39:12,640
express like this. And after that in

822
00:39:09,199 --> 00:39:16,159
this one we'll add the middleware. So

823
00:39:12,639 --> 00:39:17,759
let's add app dot use and provide the

824
00:39:16,159 --> 00:39:21,199
express

825
00:39:17,760 --> 00:39:24,240
dot JSON. So all the request will be

826
00:39:21,199 --> 00:39:28,399
passed using this JSON method. After

827
00:39:24,239 --> 00:39:30,878
that again add app dot use and here

828
00:39:28,400 --> 00:39:34,560
let's add the course.

829
00:39:30,880 --> 00:39:37,200
So it will parse all the request using

830
00:39:34,559 --> 00:39:40,398
this course. After that we have to

831
00:39:37,199 --> 00:39:44,798
create the first route. So I'll write

832
00:39:40,400 --> 00:39:47,680
app dot get method here we'll add the

833
00:39:44,800 --> 00:39:49,838
path slash this is the home route and

834
00:39:47,679 --> 00:39:51,999
then we'll add the add a function. So

835
00:39:49,838 --> 00:39:54,479
when we hit this route it will execute

836
00:39:52,000 --> 00:39:57,359
this function in this function parameter

837
00:39:54,480 --> 00:40:00,480
we will get the request and response

838
00:39:57,358 --> 00:40:02,399
like this and after that it will return

839
00:40:00,480 --> 00:40:05,760
the response.

840
00:40:02,400 --> 00:40:08,480
So just at response dot send and here we

841
00:40:05,760 --> 00:40:12,960
will send the message. So the message is

842
00:40:08,480 --> 00:40:15,999
server is live like this and uh after

843
00:40:12,960 --> 00:40:19,040
that we have to add a port number where

844
00:40:16,000 --> 00:40:23,679
we will start our backend server. So

845
00:40:19,039 --> 00:40:28,478
let's add const port equal to process

846
00:40:23,679 --> 00:40:31,278
dot env dot port. So if the port is

847
00:40:28,480 --> 00:40:34,800
available in the environment variable it

848
00:40:31,280 --> 00:40:38,640
will be used. else we will start this on

849
00:40:34,800 --> 00:40:40,639
port number 5,000. After that we have to

850
00:40:38,639 --> 00:40:43,597
start the

851
00:40:40,639 --> 00:40:47,919
application that is express app. So here

852
00:40:43,599 --> 00:40:50,400
let's add app dot listen. Using this

853
00:40:47,920 --> 00:40:52,799
listen we can start the application. So

854
00:40:50,400 --> 00:40:55,839
first we have to provide the port that

855
00:40:52,800 --> 00:40:59,760
will be 5,000 and after that we have to

856
00:40:55,838 --> 00:41:04,719
add one function that will get executed.

857
00:40:59,760 --> 00:41:06,960
So here let's add console log and uh in

858
00:41:04,719 --> 00:41:11,118
this one we'll add the message. So let's

859
00:41:06,960 --> 00:41:12,879
add the back tick server running on port

860
00:41:11,119 --> 00:41:15,1000
and then we'll add dollar sign curly

861
00:41:12,880 --> 00:41:19,359
braces to insert the template lit. So

862
00:41:16,000 --> 00:41:21,919
just add the port here

863
00:41:19,358 --> 00:41:24,558
like this. So what is happening here?

864
00:41:21,920 --> 00:41:26,960
First we have created the app using this

865
00:41:24,559 --> 00:41:30,478
express package. Now in this one we have

866
00:41:26,960 --> 00:41:33,359
added this JSON method and course method

867
00:41:30,480 --> 00:41:35,680
to parse all the request. After that we

868
00:41:33,358 --> 00:41:38,558
have created a route that is the home

869
00:41:35,679 --> 00:41:41,679
route using this path slash using this

870
00:41:38,559 --> 00:41:44,238
get method. So when we will hit this

871
00:41:41,679 --> 00:41:46,799
path then we will see this message

872
00:41:44,239 --> 00:41:51,279
server is live. It will send this

873
00:41:46,800 --> 00:41:53,200
response. Now to run this application we

874
00:41:51,280 --> 00:41:55,760
need a port number. So here we have

875
00:41:53,199 --> 00:41:58,639
defined the port number and after that

876
00:41:55,760 --> 00:42:01,838
we have used this listen method. So we

877
00:41:58,639 --> 00:42:04,318
have this app dot listen that will start

878
00:42:01,838 --> 00:42:06,559
the application and in this one we have

879
00:42:04,318 --> 00:42:08,318
to provide the port number and then we

880
00:42:06,559 --> 00:42:11,759
have to provide the function that will

881
00:42:08,318 --> 00:42:14,558
get executed. So when this function will

882
00:42:11,760 --> 00:42:17,679
get executed it will display the message

883
00:42:14,559 --> 00:42:19,679
in the terminal because we have added

884
00:42:17,679 --> 00:42:22,959
console log. So it will display the

885
00:42:19,679 --> 00:42:25,999
message in the VS code terminal that is

886
00:42:22,960 --> 00:42:28,960
server running on port 5,000. Now let's

887
00:42:26,000 --> 00:42:31,118
save the changes and start the project.

888
00:42:28,960 --> 00:42:34,400
So to start this backend project or

889
00:42:31,119 --> 00:42:37,119
backend server again open the terminal

890
00:42:34,400 --> 00:42:39,440
and uh in this terminal you can see we

891
00:42:37,119 --> 00:42:42,240
are in this server directory right. So

892
00:42:39,440 --> 00:42:46,318
here let's add npm

893
00:42:42,239 --> 00:42:49,117
run server. We have added this server a

894
00:42:46,318 --> 00:42:53,439
script right that will start the server

895
00:42:49,119 --> 00:42:56,720
using nodemon. Let's press enter. And

896
00:42:53,440 --> 00:42:59,598
after that you can see the message

897
00:42:56,719 --> 00:43:03,358
it is starting the project using this

898
00:42:59,599 --> 00:43:06,079
nodemon starting node server.js and then

899
00:43:03,358 --> 00:43:09,598
we have the console log called server

900
00:43:06,079 --> 00:43:11,920
running on port 5000. So the backend

901
00:43:09,599 --> 00:43:14,240
server is successfully running. You can

902
00:43:11,920 --> 00:43:18,719
also verify this backend server by

903
00:43:14,239 --> 00:43:22,719
opening the URL in the web browser. So

904
00:43:18,719 --> 00:43:26,638
if I open the web browser and in the new

905
00:43:22,719 --> 00:43:29,278
tab let's add local host

906
00:43:26,639 --> 00:43:31,679
col 5,000.

907
00:43:29,280 --> 00:43:34,959
So here you can see this message server

908
00:43:31,679 --> 00:43:36,799
is live. So it means the backend server

909
00:43:34,960 --> 00:43:39,519
is successfully running. We have

910
00:43:36,800 --> 00:43:41,040
successfully created a simple express

911
00:43:39,519 --> 00:43:43,438
app.

912
00:43:41,039 --> 00:43:46,159
After creating the simple express app,

913
00:43:43,440 --> 00:43:48,079
now we will add the color o in this back

914
00:43:46,159 --> 00:43:52,239
end. So I'll just come back to the web

915
00:43:48,079 --> 00:43:55,519
browser and open color homepage. Then

916
00:43:52,239 --> 00:43:58,239
let's open the documentation. We'll

917
00:43:55,519 --> 00:44:01,118
click on go to docs.

918
00:43:58,239 --> 00:44:02,798
And after that scroll down you will find

919
00:44:01,119 --> 00:44:05,439
this

920
00:44:02,800 --> 00:44:07,200
express right. So just click on this

921
00:44:05,440 --> 00:44:10,239
express

922
00:44:07,199 --> 00:44:14,239
and here we have the steps to integrate

923
00:44:10,239 --> 00:44:17,439
the color in the express back end. So

924
00:44:14,239 --> 00:44:18,958
you can see the command npm install at

925
00:44:17,440 --> 00:44:20,640
color/express.

926
00:44:18,960 --> 00:44:24,639
Just copy this one and come back to the

927
00:44:20,639 --> 00:44:27,837
VS code. Open the terminal and stop this

928
00:44:24,639 --> 00:44:31,118
project using ctrl c

929
00:44:27,838 --> 00:44:34,639
and paste this command. Press enter. it

930
00:44:31,119 --> 00:44:37,200
will install the color in the back end.

931
00:44:34,639 --> 00:44:40,719
After that, let's see the next command.

932
00:44:37,199 --> 00:44:43,439
So, next we have to add the keys in the

933
00:44:40,719 --> 00:44:48,879
environment variable. So, first we have

934
00:44:43,440 --> 00:44:51,279
to create env file. If I come back here,

935
00:44:48,880 --> 00:44:53,599
open the sidebar. We have the server

936
00:44:51,280 --> 00:44:57,280
folder. In this server folder, create a

937
00:44:53,599 --> 00:45:00,079
new file and write the file name. Env.

938
00:44:57,280 --> 00:45:02,318
Now in this one just provide these

939
00:45:00,079 --> 00:45:04,880
environment variables. So click on this

940
00:45:02,318 --> 00:45:07,758
icon to copy it and paste it here. So we

941
00:45:04,880 --> 00:45:11,439
have provided color pubable key and

942
00:45:07,760 --> 00:45:14,078
color secret key. Then come back here

943
00:45:11,440 --> 00:45:16,880
and we need to install env. We have

944
00:45:14,079 --> 00:45:20,239
already added it. After that we can use

945
00:45:16,880 --> 00:45:22,799
this color middleware in the main file.

946
00:45:20,239 --> 00:45:27,117
So first we have to import it. import

947
00:45:22,800 --> 00:45:29,280
color middleware from color/express.

948
00:45:27,119 --> 00:45:32,639
Just copy this import statement, open

949
00:45:29,280 --> 00:45:35,199
the server.js file and add it here. So

950
00:45:32,639 --> 00:45:38,238
we have imported the color middleware

951
00:45:35,199 --> 00:45:43,038
and after that we have to add it as the

952
00:45:38,239 --> 00:45:47,598
middleware in the app. So

953
00:45:43,039 --> 00:45:50,638
after this course let's add app dot use

954
00:45:47,599 --> 00:45:55,200
and in this one simply add color

955
00:45:50,639 --> 00:45:57,518
middleware and call it like this. So we

956
00:45:55,199 --> 00:45:58,958
have added the color integration in the

957
00:45:57,519 --> 00:46:01,919
back end. After that we'll come back

958
00:45:58,960 --> 00:46:04,719
here and you can see

959
00:46:01,920 --> 00:46:08,400
we can use this required o to protect

960
00:46:04,719 --> 00:46:11,518
any route. Let's skip this and this is

961
00:46:08,400 --> 00:46:14,640
optional. So let's close it. So we have

962
00:46:11,519 --> 00:46:17,038
added the color o in the back end. Now

963
00:46:14,639 --> 00:46:20,078
we have to connect our backend project

964
00:46:17,039 --> 00:46:23,039
with the database. To store our data we

965
00:46:20,079 --> 00:46:25,279
are going to use neon database. Neon is

966
00:46:23,039 --> 00:46:28,239
a fully managed serverless postgress

967
00:46:25,280 --> 00:46:30,159
database built for modern application.

968
00:46:28,239 --> 00:46:33,117
Neon helps developers to build a

969
00:46:30,159 --> 00:46:36,239
scalable and reliable application

970
00:46:33,119 --> 00:46:38,800
faster. It comes with powerful feature

971
00:46:36,239 --> 00:46:40,639
like branching and autoscaling that

972
00:46:38,800 --> 00:46:43,920
simplifies the development and

973
00:46:40,639 --> 00:46:48,078
management. With Neon free plan, you can

974
00:46:43,920 --> 00:46:53,118
create up to 20 projects and store up to

975
00:46:48,079 --> 00:46:55,439
500 MB of data at no cost. So just click

976
00:46:53,119 --> 00:46:58,559
on the link given in the description and

977
00:46:55,440 --> 00:47:02,318
sign up on Neon for free. So I'll just

978
00:46:58,559 --> 00:47:05,198
click on this sign up button

979
00:47:02,318 --> 00:47:08,199
and I will sign in using my Google

980
00:47:05,199 --> 00:47:08,199
account.

981
00:47:08,880 --> 00:47:13,200
After sign up, you need to provide the

982
00:47:10,880 --> 00:47:16,160
organization name and create the

983
00:47:13,199 --> 00:47:18,958
organization. Then you need to create a

984
00:47:16,159 --> 00:47:21,838
project. So let me add the project name

985
00:47:18,960 --> 00:47:24,639
here. All right.

986
00:47:21,838 --> 00:47:28,158
Project management.

987
00:47:24,639 --> 00:47:33,238
Then you can choose the nearest region

988
00:47:28,159 --> 00:47:33,239
and after that click on create button.

989
00:47:33,440 --> 00:47:39,680
So it will create a project and after

990
00:47:36,480 --> 00:47:41,920
that let's see the document how to

991
00:47:39,679 --> 00:47:49,317
connect this neon database with your

992
00:47:41,920 --> 00:47:49,319
project. So I'll open the homepage

993
00:47:49,358 --> 00:47:55,598
then go to docs

994
00:47:51,838 --> 00:47:57,838
and uh in this top navigation bar you

995
00:47:55,599 --> 00:48:01,118
will find this develop and here we have

996
00:47:57,838 --> 00:48:02,959
OMS just click here

997
00:48:01,119 --> 00:48:05,680
and after that we will choose this

998
00:48:02,960 --> 00:48:07,759
Prisma we will use Prisma to connect the

999
00:48:05,679 --> 00:48:09,759
database.

1000
00:48:07,760 --> 00:48:12,880
So after opening this link you can see

1001
00:48:09,760 --> 00:48:15,1000
the steps to connect the database with

1002
00:48:12,880 --> 00:48:20,880
the project. So first step is to connect

1003
00:48:16,000 --> 00:48:24,319
to neon from Prisma. So here we need to

1004
00:48:20,880 --> 00:48:27,838
get the key right. You can see we have

1005
00:48:24,318 --> 00:48:30,399
to get the key from the neon dashboard

1006
00:48:27,838 --> 00:48:33,357
and after that we have to create the

1007
00:48:30,400 --> 00:48:35,919
schema.prisma Prisma file and provide

1008
00:48:33,358 --> 00:48:40,077
this configuration and after that we

1009
00:48:35,920 --> 00:48:44,558
have to add the database URL in the env

1010
00:48:40,079 --> 00:48:47,838
file right and uh after that this

1011
00:48:44,559 --> 00:48:50,160
database URL will be like this and uh

1012
00:48:47,838 --> 00:48:53,998
let's scroll down

1013
00:48:50,159 --> 00:48:57,357
and you will find this

1014
00:48:54,000 --> 00:49:00,078
configuration for a schema.prisma Prisma

1015
00:48:57,358 --> 00:49:03,117
scroll down and in the environment

1016
00:49:00,079 --> 00:49:06,640
variable you need to provide two URLs

1017
00:49:03,119 --> 00:49:08,720
that will be database URL and direct URL

1018
00:49:06,639 --> 00:49:11,278
right so let me start with the

1019
00:49:08,719 --> 00:49:14,638
environment variable only I'll just copy

1020
00:49:11,280 --> 00:49:20,078
this environment variables and come here

1021
00:49:14,639 --> 00:49:24,398
in the VS code open env file and here

1022
00:49:20,079 --> 00:49:27,838
let's paste it and remove this dummy URL

1023
00:49:24,400 --> 00:49:30,159
so first we have the

1024
00:49:27,838 --> 00:49:33,357
database URL and then we have the direct

1025
00:49:30,159 --> 00:49:36,077
URL correct after that to get this URL

1026
00:49:33,358 --> 00:49:38,239
I'll just come back and open neon

1027
00:49:36,079 --> 00:49:40,239
console or

1028
00:49:38,239 --> 00:49:42,158
dashboard then click on this connect

1029
00:49:40,239 --> 00:49:44,239
button

1030
00:49:42,159 --> 00:49:48,399
and here you will find this connection

1031
00:49:44,239 --> 00:49:51,279
string right let's just click here and

1032
00:49:48,400 --> 00:49:54,880
copy this a string

1033
00:49:51,280 --> 00:49:56,640
copy this and paste it in this database

1034
00:49:54,880 --> 00:49:59,519
URL

1035
00:49:56,639 --> 00:50:02,158
within this double quote.

1036
00:49:59,519 --> 00:50:04,639
After that, I'll just come back here and

1037
00:50:02,159 --> 00:50:08,077
you can see this connection pulling is

1038
00:50:04,639 --> 00:50:11,278
on. So, turn it off using this toggle

1039
00:50:08,079 --> 00:50:15,519
button and after that again copy this

1040
00:50:11,280 --> 00:50:18,879
string that is the connection string.

1041
00:50:15,519 --> 00:50:22,158
Copy this one and we can paste it here

1042
00:50:18,880 --> 00:50:24,399
in this direct URL. So we have added the

1043
00:50:22,159 --> 00:50:26,317
database URL and direct URL in the

1044
00:50:24,400 --> 00:50:28,400
environment variable. After that I'll

1045
00:50:26,318 --> 00:50:32,318
just come back here. Let me just close

1046
00:50:28,400 --> 00:50:34,480
it and see the document.

1047
00:50:32,318 --> 00:50:36,718
So what we have to do we have to create

1048
00:50:34,480 --> 00:50:42,319
schema doprisma file and add this

1049
00:50:36,719 --> 00:50:44,879
configuration in that. And uh after that

1050
00:50:42,318 --> 00:50:48,159
you can see we have to add this command

1051
00:50:44,880 --> 00:50:50,078
npx prisma generate.

1052
00:50:48,159 --> 00:50:54,558
Then we have to install the Prisma using

1053
00:50:50,079 --> 00:50:58,800
this command. npm install WS then Prisma

1054
00:50:54,559 --> 00:51:02,480
adapter neon then neon database

1055
00:50:58,800 --> 00:51:04,880
serverless. Right? So

1056
00:51:02,480 --> 00:51:09,039
let me add it one by one. So first we'll

1057
00:51:04,880 --> 00:51:11,599
start with this Prisma schema or a

1058
00:51:09,039 --> 00:51:14,958
schema.prisma file. So in this a

1059
00:51:11,599 --> 00:51:18,559
schema.prisma file we will also add the

1060
00:51:14,960 --> 00:51:21,040
schema to create the table. Right. So we

1061
00:51:18,559 --> 00:51:24,799
have already provided the schema in the

1062
00:51:21,039 --> 00:51:28,718
asset file or asset folder. If I come

1063
00:51:24,800 --> 00:51:32,160
back here in the project we have the

1064
00:51:28,719 --> 00:51:35,278
client then src assets and in this

1065
00:51:32,159 --> 00:51:40,998
assets you will find the schema.prisma

1066
00:51:35,280 --> 00:51:40,999
file. Right. Let me just copy this

1067
00:51:42,159 --> 00:51:49,998
schema.prisma Prisma

1068
00:51:44,800 --> 00:51:53,838
and come back here in the back end.

1069
00:51:50,000 --> 00:51:57,440
Here we have the server. In this server,

1070
00:51:53,838 --> 00:51:59,278
we will create a folder. So in this

1071
00:51:57,440 --> 00:52:02,558
server folder, we have to create a new

1072
00:51:59,280 --> 00:52:06,999
folder. So I'll write the folder name

1073
00:52:02,559 --> 00:52:06,999
that is Prisma.

1074
00:52:08,079 --> 00:52:14,1000
And in this Prisma folder

1075
00:52:10,719 --> 00:52:14,999
just paste this schema.prisma

1076
00:52:15,039 --> 00:52:20,878
right and after adding it again come

1077
00:52:17,760 --> 00:52:22,720
back to the VS code. Now in this server

1078
00:52:20,880 --> 00:52:24,639
folder you can see we have the Prisma

1079
00:52:22,719 --> 00:52:26,318
folder and in this Prisma folder we have

1080
00:52:24,639 --> 00:52:29,837
a schema.prisma.

1081
00:52:26,318 --> 00:52:31,678
Now if I open it you can see here we

1082
00:52:29,838 --> 00:52:34,879
have this configuration that you can see

1083
00:52:31,679 --> 00:52:38,719
in that document. Right?

1084
00:52:34,880 --> 00:52:42,078
And after that we have the

1085
00:52:38,719 --> 00:52:45,759
enums here. Let's scroll down. Here we

1086
00:52:42,079 --> 00:52:48,399
have the model to store the user data.

1087
00:52:45,760 --> 00:52:51,920
Right? So we will create the user table

1088
00:52:48,400 --> 00:52:54,640
where we will add the ID, name, email,

1089
00:52:51,920 --> 00:52:56,799
image, created at, updated ad. Then

1090
00:52:54,639 --> 00:53:00,719
we'll add the other properties like

1091
00:52:56,800 --> 00:53:04,880
workspaces, projects, task, comments,

1092
00:53:00,719 --> 00:53:07,679
owned workspaces and project member. And

1093
00:53:04,880 --> 00:53:09,920
in this one we will link other tables.

1094
00:53:07,679 --> 00:53:13,198
So here we have added the relations with

1095
00:53:09,920 --> 00:53:15,040
other table. So this is the model to

1096
00:53:13,199 --> 00:53:17,598
create the user table where we will

1097
00:53:15,039 --> 00:53:21,598
store the user data. Similarly, we have

1098
00:53:17,599 --> 00:53:23,839
added the model for workspace,

1099
00:53:21,599 --> 00:53:25,999
workspace member,

1100
00:53:23,838 --> 00:53:29,759
project,

1101
00:53:26,000 --> 00:53:31,359
project member, task,

1102
00:53:29,760 --> 00:53:33,440
comment.

1103
00:53:31,358 --> 00:53:36,479
So, it is already added here. You can

1104
00:53:33,440 --> 00:53:40,800
find it in the asset file or asset

1105
00:53:36,480 --> 00:53:45,118
folder. After that, let's see the next

1106
00:53:40,800 --> 00:53:49,280
step. So you can see the next step here

1107
00:53:45,119 --> 00:53:52,240
that is npx prisma generate. Just copy

1108
00:53:49,280 --> 00:53:54,959
this one and come here.

1109
00:53:52,239 --> 00:53:57,758
Open the terminal. In the backend

1110
00:53:54,960 --> 00:54:01,559
terminal just add this npx prisma

1111
00:53:57,760 --> 00:54:01,558
generate. Press enter.

1112
00:54:02,800 --> 00:54:09,920
Now press yes or y.

1113
00:54:06,800 --> 00:54:12,160
It is executing this command. So I'll

1114
00:54:09,920 --> 00:54:15,200
copy the next one also. So here we have

1115
00:54:12,159 --> 00:54:17,678
the second command. Just copy this one

1116
00:54:15,199 --> 00:54:19,918
and come back here.

1117
00:54:17,679 --> 00:54:23,039
So just wait for this previous command

1118
00:54:19,920 --> 00:54:25,439
to be completed.

1119
00:54:23,039 --> 00:54:27,758
Now it has been completed. Now let's

1120
00:54:25,440 --> 00:54:30,079
paste the new command that we have just

1121
00:54:27,760 --> 00:54:33,279
copied. Just paste it here and press

1122
00:54:30,079 --> 00:54:36,559
enter. That will install WS websocket.

1123
00:54:33,280 --> 00:54:39,598
Then Prisma adapter

1124
00:54:36,559 --> 00:54:41,599
and neon serverless. It has been

1125
00:54:39,599 --> 00:54:44,720
installed. After that, let's see the

1126
00:54:41,599 --> 00:54:47,358
next step. So the next step is to create

1127
00:54:44,719 --> 00:54:49,679
this config file.

1128
00:54:47,358 --> 00:54:53,439
Right? But before creating that, I'll

1129
00:54:49,679 --> 00:54:56,959
just come back here and first copy this

1130
00:54:53,440 --> 00:54:59,920
npx prisma generate. We have to add it

1131
00:54:56,960 --> 00:55:04,078
in the package.json. So I'll open

1132
00:54:59,920 --> 00:55:06,559
package.json file in the back end. And

1133
00:55:04,079 --> 00:55:09,359
here you can see the

1134
00:55:06,559 --> 00:55:12,240
a script, right? So let me remove this

1135
00:55:09,358 --> 00:55:14,718
test script from here. So first we have

1136
00:55:12,239 --> 00:55:17,038
the a start and then server. So in this

1137
00:55:14,719 --> 00:55:19,518
a start

1138
00:55:17,039 --> 00:55:21,199
I'll write

1139
00:55:19,519 --> 00:55:22,878
a space

1140
00:55:21,199 --> 00:55:24,638
prisma

1141
00:55:22,880 --> 00:55:29,759
generate

1142
00:55:24,639 --> 00:55:32,959
then and operator like this. So it will

1143
00:55:29,760 --> 00:55:37,599
execute this prisma generate and node

1144
00:55:32,960 --> 00:55:39,759
server.js JS for the

1145
00:55:37,599 --> 00:55:42,480
online deployment. Right? And here we'll

1146
00:55:39,760 --> 00:55:47,119
add one more script. So just add double

1147
00:55:42,480 --> 00:55:49,279
quote and write post install.

1148
00:55:47,119 --> 00:55:53,519
And after that in this one just provide

1149
00:55:49,280 --> 00:55:55,440
this one npx prisma generate like this.

1150
00:55:53,519 --> 00:55:57,597
So we have added this npx prisma

1151
00:55:55,440 --> 00:55:59,520
generate here.

1152
00:55:57,599 --> 00:56:02,160
So whenever we will deploy this project

1153
00:55:59,519 --> 00:56:04,959
online and that will start the project

1154
00:56:02,159 --> 00:56:07,519
using this start command or a start a

1155
00:56:04,960 --> 00:56:10,240
script it will execute this command also

1156
00:56:07,519 --> 00:56:12,719
and this one also and after installation

1157
00:56:10,239 --> 00:56:15,758
it will also execute this one. That's

1158
00:56:12,719 --> 00:56:18,159
it. Now let's create the configuration

1159
00:56:15,760 --> 00:56:23,959
file here. So in this server we'll

1160
00:56:18,159 --> 00:56:23,958
create a folder called config.

1161
00:56:25,119 --> 00:56:29,760
We have created the config folder right

1162
00:56:27,679 --> 00:56:32,398
now. In this config folder, we'll create

1163
00:56:29,760 --> 00:56:35,399
a file. So write the file name

1164
00:56:32,400 --> 00:56:35,400
prisma.js.

1165
00:56:36,960 --> 00:56:43,280
We have created the prisma.js file and

1166
00:56:39,760 --> 00:56:45,679
come back here. So you can see the code

1167
00:56:43,280 --> 00:56:48,720
here. Let me just copy this one. Click

1168
00:56:45,679 --> 00:56:51,759
here to copy this entire code, right?

1169
00:56:48,719 --> 00:56:55,438
And paste it here. So in this one we

1170
00:56:51,760 --> 00:56:57,920
have provided importenv.

1171
00:56:55,440 --> 00:57:02,239
Then we have imported the Prisma client,

1172
00:56:57,920 --> 00:57:04,798
Prisma neon and neon config from this

1173
00:57:02,239 --> 00:57:08,557
package. Right? And after that we have

1174
00:57:04,798 --> 00:57:11,597
imported the WS that is websocket

1175
00:57:08,559 --> 00:57:14,480
and uh after that

1176
00:57:11,599 --> 00:57:17,118
here we have this connection string. So

1177
00:57:14,480 --> 00:57:19,119
the connection string is imported from

1178
00:57:17,119 --> 00:57:21,920
the environment variable using this

1179
00:57:19,119 --> 00:57:25,680
process envatabase

1180
00:57:21,920 --> 00:57:28,559
URL correct. Then we have this adapter

1181
00:57:25,679 --> 00:57:30,959
using this new Prisma neon. And in this

1182
00:57:28,559 --> 00:57:32,559
one the connection string is already

1183
00:57:30,960 --> 00:57:35,519
provided.

1184
00:57:32,559 --> 00:57:37,280
After that we have this Prisma equal to

1185
00:57:35,519 --> 00:57:39,759
global.prisma.

1186
00:57:37,280 --> 00:57:42,480
And here we have added all operator new

1187
00:57:39,760 --> 00:57:44,639
Prisma client adapter.

1188
00:57:42,480 --> 00:57:47,358
Correct. After that we have the if

1189
00:57:44,639 --> 00:57:49,278
statement. In this if statement we have

1190
00:57:47,358 --> 00:57:52,159
added this

1191
00:57:49,280 --> 00:57:53,680
node environment equal to development.

1192
00:57:52,159 --> 00:57:57,519
And we have to provide the node

1193
00:57:53,679 --> 00:58:02,239
environment in the env file also. Right?

1194
00:57:57,519 --> 00:58:05,598
So I'll just copy this one node env

1195
00:58:02,239 --> 00:58:07,679
file. And here at the top

1196
00:58:05,599 --> 00:58:12,959
let me provide

1197
00:58:07,679 --> 00:58:17,198
node env that is environment equal to

1198
00:58:12,960 --> 00:58:19,200
and here let's set development.

1199
00:58:17,199 --> 00:58:22,479
So when you will upload this project

1200
00:58:19,199 --> 00:58:26,317
online just change this development to

1201
00:58:22,480 --> 00:58:28,319
production. That's it. After that let's

1202
00:58:26,318 --> 00:58:31,439
come here. So this is the configuration

1203
00:58:28,318 --> 00:58:33,999
file for Prisma. And after that let's

1204
00:58:31,440 --> 00:58:37,520
see the next step.

1205
00:58:34,000 --> 00:58:39,839
So we have successfully configured the

1206
00:58:37,519 --> 00:58:43,837
connection with the neon database using

1207
00:58:39,838 --> 00:58:46,479
Prisma and we have already added the

1208
00:58:43,838 --> 00:58:49,278
schema also right next we have to create

1209
00:58:46,480 --> 00:58:52,079
the table in our database using these

1210
00:58:49,280 --> 00:58:56,400
schema. For that let's open the terminal

1211
00:58:52,079 --> 00:58:59,920
again. In this terminal we will add npx

1212
00:58:56,400 --> 00:59:04,960
prisma db push like this. Just add this

1213
00:58:59,920 --> 00:59:07,519
command npx prism db push. Press enter.

1214
00:59:04,960 --> 00:59:10,160
Once you will execute this command, it

1215
00:59:07,519 --> 00:59:13,597
will create the tables in the neon

1216
00:59:10,159 --> 00:59:16,558
database according to our schema.

1217
00:59:13,599 --> 00:59:19,839
So this command has been executed. After

1218
00:59:16,559 --> 00:59:22,160
that I'll open the web browser and let

1219
00:59:19,838 --> 00:59:25,597
me just come back to the neon console

1220
00:59:22,159 --> 00:59:28,558
and after that let's click on this

1221
00:59:25,599 --> 00:59:31,358
tables. So here you can see we have all

1222
00:59:28,559 --> 00:59:33,919
the tables that we have defined in the

1223
00:59:31,358 --> 00:59:35,518
schema file. So we have the comment

1224
00:59:33,920 --> 00:59:40,160
project

1225
00:59:35,519 --> 00:59:42,959
member then task user workspace and

1226
00:59:40,159 --> 00:59:46,718
workspace member. So we have multiple

1227
00:59:42,960 --> 00:59:49,200
tables here. If I open anyone like user

1228
00:59:46,719 --> 00:59:52,238
so you can see we don't have any data in

1229
00:59:49,199 --> 00:59:55,598
this user table. So what we have to do

1230
00:59:52,239 --> 00:59:58,557
next? We have to get the user data from

1231
00:59:55,599 --> 00:59:59,999
the color because in this project you

1232
00:59:58,559 --> 01:00:04,559
can see we have added the user

1233
01:00:00,000 --> 01:00:07,280
authentication using color right. So the

1234
01:00:04,559 --> 01:00:09,999
color will provide the user data using

1235
01:00:07,280 --> 01:00:13,879
behooks. So next we have to configure

1236
01:00:10,000 --> 01:00:13,879
the color behind

1237
01:00:14,079 --> 01:00:19,439
manage the color behooks scheduling and

1238
01:00:17,199 --> 01:00:22,479
background jobs we are going to use

1239
01:00:19,440 --> 01:00:24,880
inest. It provides multiple feature to

1240
01:00:22,480 --> 01:00:27,358
manage the background jobs, schedulings

1241
01:00:24,880 --> 01:00:29,679
and chron jobs. So just click on the

1242
01:00:27,358 --> 01:00:32,318
link given in the description to sign up

1243
01:00:29,679 --> 01:00:36,318
on inest platform. So I'll just click on

1244
01:00:32,318 --> 01:00:40,478
this button sign up and

1245
01:00:36,318 --> 01:00:43,358
I will continue with my Google account.

1246
01:00:40,480 --> 01:00:45,279
I'll click on this Google icon.

1247
01:00:43,358 --> 01:00:47,039
After sign up, you need to create an

1248
01:00:45,280 --> 01:00:50,879
organization. So I'll write the name

1249
01:00:47,039 --> 01:00:53,117
here that is project management.

1250
01:00:50,880 --> 01:00:56,240
After adding the project name, you need

1251
01:00:53,119 --> 01:00:59,040
to add the image. So let me add one

1252
01:00:56,239 --> 01:01:01,519
image here and click on create

1253
01:00:59,039 --> 01:01:04,638
organization.

1254
01:01:01,519 --> 01:01:08,238
Let's click on escape button. So we have

1255
01:01:04,639 --> 01:01:10,557
created the ingest account. Now let's

1256
01:01:08,239 --> 01:01:13,038
authenticate this inest account with the

1257
01:01:10,559 --> 01:01:16,078
color web hook setup. Right? So let's

1258
01:01:13,039 --> 01:01:20,399
come back here in this collect dashboard

1259
01:01:16,079 --> 01:01:23,760
go to configure scroll down and here you

1260
01:01:20,400 --> 01:01:26,880
will find this bebooks just click here

1261
01:01:23,760 --> 01:01:29,439
and on this baybooks page you will find

1262
01:01:26,880 --> 01:01:31,599
this button add endpoint let me just

1263
01:01:29,440 --> 01:01:34,318
click here

1264
01:01:31,599 --> 01:01:36,799
and after that click on this drop-down.

1265
01:01:34,318 --> 01:01:40,638
So in this drop-down you will get this

1266
01:01:36,798 --> 01:01:45,278
ingest option. Just click on this ingest

1267
01:01:40,639 --> 01:01:49,238
and click on connect to ingest.

1268
01:01:45,280 --> 01:01:49,240
After that click on approve

1269
01:01:50,079 --> 01:01:55,279
and after that you need to scroll down

1270
01:01:52,400 --> 01:01:58,239
and click on this create button.

1271
01:01:55,280 --> 01:02:01,039
Now it is created and after that you

1272
01:01:58,239 --> 01:02:03,038
will get this signing secret here. Let

1273
01:02:01,039 --> 01:02:05,758
me click here.

1274
01:02:03,039 --> 01:02:07,999
So this is the behook secret key. You

1275
01:02:05,760 --> 01:02:10,798
need to add this key in the environment

1276
01:02:08,000 --> 01:02:12,480
variable. So just come back to the VS

1277
01:02:10,798 --> 01:02:15,998
code

1278
01:02:12,480 --> 01:02:18,319
and open env file. And in this one here

1279
01:02:16,000 --> 01:02:20,480
we have color publishable key and secret

1280
01:02:18,318 --> 01:02:24,318
key. So after this secret key let's add

1281
01:02:20,480 --> 01:02:27,358
this color behook secret equal to and

1282
01:02:24,318 --> 01:02:30,798
after that just copy the beu secret key

1283
01:02:27,358 --> 01:02:34,399
from here. Just copy this one

1284
01:02:30,798 --> 01:02:37,519
and paste it here.

1285
01:02:34,400 --> 01:02:40,799
That's it. And after that, let me just

1286
01:02:37,519 --> 01:02:46,317
come back here in the

1287
01:02:40,798 --> 01:02:48,798
ingest and we will open this key. Click

1288
01:02:46,318 --> 01:02:52,879
on this key icon. Then click on event

1289
01:02:48,798 --> 01:02:56,399
keys. So I'll click here. So here you

1290
01:02:52,880 --> 01:02:59,838
will find the ingest

1291
01:02:56,400 --> 01:03:01,919
event keys right. So you need to add it

1292
01:02:59,838 --> 01:03:05,278
in the environment variable. So first

1293
01:03:01,920 --> 01:03:10,240
come back here in the env file. Scroll

1294
01:03:05,280 --> 01:03:13,599
down and here let's add inest event key

1295
01:03:10,239 --> 01:03:16,317
and then we will paste the ingest

1296
01:03:13,599 --> 01:03:18,079
signing key

1297
01:03:16,318 --> 01:03:20,318
like this. So we have added two

1298
01:03:18,079 --> 01:03:23,439
environment variables and after that

1299
01:03:20,318 --> 01:03:28,398
just copy the key from here. Copy this

1300
01:03:23,440 --> 01:03:31,440
one that is event key. Paste it here.

1301
01:03:28,400 --> 01:03:33,598
And after that come back and uh click on

1302
01:03:31,440 --> 01:03:36,480
this key icon again and choose this

1303
01:03:33,599 --> 01:03:39,759
signin key. Click here

1304
01:03:36,480 --> 01:03:43,199
and uh after that let's click on this

1305
01:03:39,760 --> 01:03:45,439
icon to copy this signin key. Let's copy

1306
01:03:43,199 --> 01:03:48,558
and paste it here.

1307
01:03:45,440 --> 01:03:51,358
So we have provided the ingest event key

1308
01:03:48,559 --> 01:03:54,640
and signin key. After that let's come

1309
01:03:51,358 --> 01:03:56,558
back here and uh we will open the

1310
01:03:54,639 --> 01:03:59,557
documentation here. So click on this

1311
01:03:56,559 --> 01:03:59,559
integrations

1312
01:04:00,318 --> 01:04:07,439
or we can also go to ingest homepage

1313
01:04:05,039 --> 01:04:10,239
and click on docs

1314
01:04:07,440 --> 01:04:14,720
and uh after that

1315
01:04:10,239 --> 01:04:17,598
in this one I'll click on this nodejs

1316
01:04:14,719 --> 01:04:19,837
and here you will find this express js.

1317
01:04:17,599 --> 01:04:22,879
So we are using the express js to create

1318
01:04:19,838 --> 01:04:24,879
our back end. Now let's scroll down and

1319
01:04:22,880 --> 01:04:27,118
see the first step. So first we have to

1320
01:04:24,880 --> 01:04:28,719
install the ingest package using this

1321
01:04:27,119 --> 01:04:31,920
command. Just copy this one. Come back

1322
01:04:28,719 --> 01:04:35,679
here and open the terminal. Now in this

1323
01:04:31,920 --> 01:04:38,639
terminal let me add this command. npm

1324
01:04:35,679 --> 01:04:42,478
install ingest. Press enter.

1325
01:04:38,639 --> 01:04:44,959
After that let me see the next step. We

1326
01:04:42,480 --> 01:04:47,520
have to start the dev server. We can

1327
01:04:44,960 --> 01:04:51,519
skip this one. And after that you can

1328
01:04:47,519 --> 01:04:54,318
see create and ingest client. So we have

1329
01:04:51,519 --> 01:04:57,519
to create the

1330
01:04:54,318 --> 01:04:59,518
index.js or ts file in the ingest

1331
01:04:57,519 --> 01:05:01,999
folder. So first we'll create this

1332
01:04:59,519 --> 01:05:05,198
ingest folder in the back end. Right? So

1333
01:05:02,000 --> 01:05:07,359
just come back here and it is executing

1334
01:05:05,199 --> 01:05:09,357
this command and we can create the

1335
01:05:07,358 --> 01:05:12,638
folder here. In this server folder we'll

1336
01:05:09,358 --> 01:05:15,598
create the new folder. So let's add the

1337
01:05:12,639 --> 01:05:17,919
folder name inest. So we have added the

1338
01:05:15,599 --> 01:05:19,999
ingest folder in the server. And after

1339
01:05:17,920 --> 01:05:24,240
that in this one we have to add the file

1340
01:05:20,000 --> 01:05:27,679
name index dot js. So let's create a

1341
01:05:24,239 --> 01:05:29,598
file called index.js

1342
01:05:27,679 --> 01:05:32,797
like this.

1343
01:05:29,599 --> 01:05:35,520
And after that in this one we have to

1344
01:05:32,798 --> 01:05:37,679
add the import a statement importing

1345
01:05:35,519 --> 01:05:39,679
inest from the ingest. So let's copy

1346
01:05:37,679 --> 01:05:43,438
this one or let me just copy everything

1347
01:05:39,679 --> 01:05:46,238
from this code. copy it and paste it

1348
01:05:43,440 --> 01:05:49,680
here

1349
01:05:46,239 --> 01:05:51,918
in this index.js file. So we have added

1350
01:05:49,679 --> 01:05:54,478
importing inest from the ingest package

1351
01:05:51,920 --> 01:05:56,639
and after that create a client to send

1352
01:05:54,480 --> 01:06:00,319
and receive events and then we have

1353
01:05:56,639 --> 01:06:03,118
created the function array and in this

1354
01:06:00,318 --> 01:06:05,199
one we will pass all the ingest

1355
01:06:03,119 --> 01:06:07,1000
functions.

1356
01:06:05,199 --> 01:06:11,439
After that let's come here in this

1357
01:06:08,000 --> 01:06:13,440
terminal. This

1358
01:06:11,440 --> 01:06:17,760
command has been executed. So we can

1359
01:06:13,440 --> 01:06:20,239
start the project using npm rundev

1360
01:06:17,760 --> 01:06:22,240
or npm run server because it is the

1361
01:06:20,239 --> 01:06:24,557
backend server.

1362
01:06:22,239 --> 01:06:27,598
Press enter. So it will start the

1363
01:06:24,559 --> 01:06:30,400
project on port 5000. Now just hide this

1364
01:06:27,599 --> 01:06:33,280
terminal. And after that let's come here

1365
01:06:30,400 --> 01:06:35,999
and see the next step. So the next step

1366
01:06:33,280 --> 01:06:39,598
is to setting the end point that is the

1367
01:06:36,000 --> 01:06:44,000
HTTP endpoint. For that we have to use

1368
01:06:39,599 --> 01:06:47,759
this app dot use/ API/est

1369
01:06:44,000 --> 01:06:49,919
and serve client inest and functions.

1370
01:06:47,760 --> 01:06:52,880
Right? So we have to add this statement.

1371
01:06:49,920 --> 01:06:55,920
Let me just copy this one and we will

1372
01:06:52,880 --> 01:06:59,838
come back to the VS code. And in this

1373
01:06:55,920 --> 01:07:02,078
one let's open the server.js file. And

1374
01:06:59,838 --> 01:07:05,198
here

1375
01:07:02,079 --> 01:07:08,160
after this first route let me add a

1376
01:07:05,199 --> 01:07:11,159
space and provide this app dot

1377
01:07:08,159 --> 01:07:11,159
use/ingest

1378
01:07:11,199 --> 01:07:16,798
comma serve then client inest and

1379
01:07:14,559 --> 01:07:18,879
functions. Now we have to import this

1380
01:07:16,798 --> 01:07:20,557
serve. Let me just come back here. You

1381
01:07:18,880 --> 01:07:23,118
can see here we have to import this

1382
01:07:20,559 --> 01:07:25,919
serve and this inest and function also.

1383
01:07:23,119 --> 01:07:28,559
So let's copy this one and paste it

1384
01:07:25,920 --> 01:07:32,479
here. So we have added this import

1385
01:07:28,559 --> 01:07:35,839
statement also. Now it is correct. Save

1386
01:07:32,480 --> 01:07:38,399
the changes. Here you can see the path

1387
01:07:35,838 --> 01:07:41,919
is starting from src. Right? So let me

1388
01:07:38,400 --> 01:07:43,760
update the path here. We'll write dot

1389
01:07:41,920 --> 01:07:46,719
/est

1390
01:07:43,760 --> 01:07:48,639
folder/

1391
01:07:46,719 --> 01:07:50,558
index.js

1392
01:07:48,639 --> 01:07:53,038
file because in this file we have

1393
01:07:50,559 --> 01:07:55,759
created the

1394
01:07:53,039 --> 01:07:58,880
inest app and functions array. You can

1395
01:07:55,760 --> 01:08:02,399
see in this file we have the

1396
01:07:58,880 --> 01:08:06,679
ingest and this functions right and it

1397
01:08:02,400 --> 01:08:06,680
is imported here in the server.js.

1398
01:08:06,798 --> 01:08:11,439
Now let's see the next step in this

1399
01:08:08,880 --> 01:08:14,639
ingest documentation. So after setting

1400
01:08:11,440 --> 01:08:17,839
the HTTP endpoint you can see the next

1401
01:08:14,639 --> 01:08:20,158
step is to write the ingest function

1402
01:08:17,838 --> 01:08:22,717
right and here is the format to create

1403
01:08:20,158 --> 01:08:25,358
the ingest function. We'll use ingest

1404
01:08:22,719 --> 01:08:28,799
do.create function method. In this one

1405
01:08:25,359 --> 01:08:30,238
we have to provide the id and event name

1406
01:08:28,798 --> 01:08:32,157
and after that we'll add the

1407
01:08:30,238 --> 01:08:36,797
asynchronous add function where we'll

1408
01:08:32,158 --> 01:08:38,959
get the parameter called event and step

1409
01:08:36,798 --> 01:08:41,998
and after that we'll execute our code

1410
01:08:38,960 --> 01:08:44,799
here in this function. Right. So we have

1411
01:08:42,000 --> 01:08:47,198
to create the ingest functions to handle

1412
01:08:44,798 --> 01:08:49,758
different background jobs. So we will

1413
01:08:47,198 --> 01:08:52,238
handle the user creation, deletion and

1414
01:08:49,759 --> 01:08:53,999
updation using this ingest function and

1415
01:08:52,238 --> 01:08:56,959
later we'll create other inest functions

1416
01:08:54,000 --> 01:09:01,040
also. So for now we need the user data

1417
01:08:56,960 --> 01:09:05,440
right. So I'll just come back here

1418
01:09:01,039 --> 01:09:07,918
and let's open index.js file and uh

1419
01:09:05,439 --> 01:09:11,038
before this function here we will create

1420
01:09:07,920 --> 01:09:13,759
different injest functions and first let

1421
01:09:11,039 --> 01:09:17,039
me update the id. So instead of this my

1422
01:09:13,759 --> 01:09:19,839
id here we'll write project management

1423
01:09:17,039 --> 01:09:22,558
right and after that here we'll add the

1424
01:09:19,838 --> 01:09:26,238
comment that is ingest function to save

1425
01:09:22,560 --> 01:09:30,520
user data to a database. So let's create

1426
01:09:26,238 --> 01:09:30,518
a function. I'll write conster

1427
01:09:30,960 --> 01:09:36,479
creation equal to

1428
01:09:33,920 --> 01:09:39,359
ingest dot

1429
01:09:36,479 --> 01:09:44,078
create function

1430
01:09:39,359 --> 01:09:46,960
and after that let's add the object here

1431
01:09:44,079 --> 01:09:50,878
and in this object we'll add the ID. So

1432
01:09:46,960 --> 01:09:53,1000
in this id let's add any ID in a string

1433
01:09:50,880 --> 01:09:55,519
format. So I'll write sync user from

1434
01:09:54,000 --> 01:09:58,238
color

1435
01:09:55,520 --> 01:10:00,640
right and after that we'll add comma and

1436
01:09:58,238 --> 01:10:03,438
add another object. Here we'll add the

1437
01:10:00,640 --> 01:10:07,359
event. So I'll write the event name that

1438
01:10:03,439 --> 01:10:09,198
is color/ user.created.

1439
01:10:07,359 --> 01:10:11,519
After that we'll add comma and here

1440
01:10:09,198 --> 01:10:13,118
we'll create the asynchronous add a

1441
01:10:11,520 --> 01:10:15,279
function

1442
01:10:13,119 --> 01:10:19,038
and in this function parameter we will

1443
01:10:15,279 --> 01:10:21,279
only get the event and after that here

1444
01:10:19,039 --> 01:10:25,359
let's get the data from this event. So

1445
01:10:21,279 --> 01:10:28,559
I'll write con curly braces data equal

1446
01:10:25,359 --> 01:10:33,118
to event

1447
01:10:28,560 --> 01:10:36,079
then let's add await and here we will

1448
01:10:33,119 --> 01:10:38,718
use the prisma to store this data in the

1449
01:10:36,079 --> 01:10:41,678
database. So let's add

1450
01:10:38,719 --> 01:10:44,879
Prisma and import it from the config

1451
01:10:41,679 --> 01:10:47,600
folder Prisma file. It has been imported

1452
01:10:44,880 --> 01:10:49,360
as you can see here. Right? And in this

1453
01:10:47,600 --> 01:10:51,199
one we'll add the file name extension

1454
01:10:49,359 --> 01:10:54,399
also.js

1455
01:10:51,198 --> 01:10:57,678
like this. So here in this Prisma we'll

1456
01:10:54,399 --> 01:11:02,799
add dot

1457
01:10:57,679 --> 01:11:04,719
user for user table. Then we'll add dot

1458
01:11:02,800 --> 01:11:06,800
create method.

1459
01:11:04,719 --> 01:11:09,360
And here we have to add the data. So

1460
01:11:06,800 --> 01:11:12,319
let's add the data property and provide

1461
01:11:09,359 --> 01:11:14,878
the object. Now in this object we have

1462
01:11:12,319 --> 01:11:18,718
to provide the id. So the id will be

1463
01:11:14,880 --> 01:11:21,360
data do id. After that we'll add comma

1464
01:11:18,719 --> 01:11:25,679
provide the email. In this email let's

1465
01:11:21,359 --> 01:11:28,677
provide the data dot

1466
01:11:25,679 --> 01:11:28,679
email

1467
01:11:29,279 --> 01:11:37,038
addresses. So I'll write email addresses

1468
01:11:34,158 --> 01:11:40,638
index zero. Then we'll add question mark

1469
01:11:37,039 --> 01:11:43,119
if it is available then dot let's add

1470
01:11:40,640 --> 01:11:44,640
email address.

1471
01:11:43,119 --> 01:11:47,678
And here also we'll add the question

1472
01:11:44,640 --> 01:11:50,080
mark like this. If the data is available

1473
01:11:47,679 --> 01:11:52,079
then we'll find the email addresses

1474
01:11:50,079 --> 01:11:56,079
array. And from that one we'll get the

1475
01:11:52,079 --> 01:11:58,399
first element using this index zero. And

1476
01:11:56,079 --> 01:12:00,958
from there we'll get the email address.

1477
01:11:58,399 --> 01:12:03,118
Add the comma here. And after that let's

1478
01:12:00,960 --> 01:12:04,718
add the name property. We will store the

1479
01:12:03,119 --> 01:12:08,319
name.

1480
01:12:04,719 --> 01:12:12,959
And in this one let's add the

1481
01:12:08,319 --> 01:12:15,759
data question mark dot first name plus

1482
01:12:12,960 --> 01:12:20,158
we'll add the space here

1483
01:12:15,760 --> 01:12:22,718
and then plus and provide the data

1484
01:12:20,158 --> 01:12:24,717
question mark dot last name. So we will

1485
01:12:22,719 --> 01:12:26,959
store the first and last name in the

1486
01:12:24,719 --> 01:12:29,280
name property. After that we'll add the

1487
01:12:26,960 --> 01:12:33,679
image here. In this image property,

1488
01:12:29,279 --> 01:12:37,038
let's add data question mark then dot

1489
01:12:33,679 --> 01:12:40,800
image URL. So it will give the image URL

1490
01:12:37,039 --> 01:12:43,439
from color. So we have created one inest

1491
01:12:40,800 --> 01:12:45,1000
function using that we can store the

1492
01:12:43,439 --> 01:12:49,118
user data in the database using the

1493
01:12:46,000 --> 01:12:51,198
Prisma. Right? And after that we'll

1494
01:12:49,119 --> 01:12:54,798
create the another function using that

1495
01:12:51,198 --> 01:12:59,839
we can delete the user data. Right?

1496
01:12:54,800 --> 01:13:01,920
So here we'll add comment

1497
01:12:59,840 --> 01:13:05,599
inest function to delete user from

1498
01:13:01,920 --> 01:13:07,439
database. So again let's add the same

1499
01:13:05,600 --> 01:13:09,840
function here. I'll just copy this one

1500
01:13:07,439 --> 01:13:12,479
paste it here. In this one we'll change

1501
01:13:09,840 --> 01:13:15,759
the name. So the function name will be

1502
01:13:12,479 --> 01:13:17,839
sync user deletion equal to inest dot

1503
01:13:15,760 --> 01:13:21,920
create function. Then we will change the

1504
01:13:17,840 --> 01:13:24,800
ID. So the ID will be

1505
01:13:21,920 --> 01:13:27,439
delete user with color. After that we

1506
01:13:24,800 --> 01:13:29,359
will update the event name. So the event

1507
01:13:27,439 --> 01:13:32,238
will be

1508
01:13:29,359 --> 01:13:34,559
clerk user dodeleted.

1509
01:13:32,238 --> 01:13:36,238
After that here also we'll add the async

1510
01:13:34,560 --> 01:13:38,718
function with the event and from this

1511
01:13:36,238 --> 01:13:41,039
event we'll get the data and after that

1512
01:13:38,719 --> 01:13:43,199
using this data we have to delete the

1513
01:13:41,039 --> 01:13:47,439
user data from the database. So just add

1514
01:13:43,198 --> 01:13:50,319
await prisma do user dot delete method.

1515
01:13:47,439 --> 01:13:53,599
Right. And here let's remove this one.

1516
01:13:50,319 --> 01:13:57,439
Simply add where

1517
01:13:53,600 --> 01:14:01,840
and after that let's provide the id and

1518
01:13:57,439 --> 01:14:03,839
in this id let's add the data dot id

1519
01:14:01,840 --> 01:14:06,880
that's it so it will get deleted from

1520
01:14:03,840 --> 01:14:10,559
the database after that we have to add

1521
01:14:06,880 --> 01:14:13,280
the ingest function to update the user

1522
01:14:10,560 --> 01:14:15,600
data right so again copy this one but

1523
01:14:13,279 --> 01:14:18,718
before that we'll write the comment so

1524
01:14:15,600 --> 01:14:20,640
here we'll write the comment

1525
01:14:18,719 --> 01:14:23,760
inest function

1526
01:14:20,640 --> 01:14:25,840
to update user data in database and let

1527
01:14:23,760 --> 01:14:27,679
me just copy the first function that is

1528
01:14:25,840 --> 01:14:30,559
for creating the user data. I'll just

1529
01:14:27,679 --> 01:14:33,520
copy and paste it here. In this one,

1530
01:14:30,560 --> 01:14:36,718
let's add the function name that is sync

1531
01:14:33,520 --> 01:14:39,920
user updation. After that, we'll add the

1532
01:14:36,719 --> 01:14:42,480
ID here. So the ID is

1533
01:14:39,920 --> 01:14:45,519
update user from color. Then we will

1534
01:14:42,479 --> 01:14:48,959
update the event name. So the event name

1535
01:14:45,520 --> 01:14:51,279
is color/ user.updated.

1536
01:14:48,960 --> 01:14:54,158
After that here you can see we are

1537
01:14:51,279 --> 01:14:57,038
getting the data from the event and then

1538
01:14:54,158 --> 01:15:01,198
we have added await prisma dot user dot

1539
01:14:57,039 --> 01:15:06,878
and provide the update method right and

1540
01:15:01,198 --> 01:15:09,119
uh after that here let me add where

1541
01:15:06,880 --> 01:15:12,080
it will be one object and add the comma

1542
01:15:09,119 --> 01:15:15,119
here now in this where first we have to

1543
01:15:12,079 --> 01:15:19,519
add the id. So let's add the id and the

1544
01:15:15,119 --> 01:15:22,157
id will be data do id. So it will choose

1545
01:15:19,520 --> 01:15:24,159
the data to be updated. And after that

1546
01:15:22,158 --> 01:15:27,119
here we have the data property. From

1547
01:15:24,158 --> 01:15:31,198
this one remove the id. Here we have

1548
01:15:27,119 --> 01:15:33,279
provided the email name and image.

1549
01:15:31,198 --> 01:15:36,238
That's it. So it will update the user

1550
01:15:33,279 --> 01:15:39,118
data in the database.

1551
01:15:36,238 --> 01:15:41,359
After creating these inest functions, we

1552
01:15:39,119 --> 01:15:44,399
have to export it using this functions

1553
01:15:41,359 --> 01:15:46,799
array. Right? So in this functions array

1554
01:15:44,399 --> 01:15:49,118
let me add all the functions one by one.

1555
01:15:46,800 --> 01:15:52,559
So first we have this sync user

1556
01:15:49,119 --> 01:15:55,359
creation. Let's add it here.

1557
01:15:52,560 --> 01:15:57,760
Then add comma or let me add it in the

1558
01:15:55,359 --> 01:16:00,718
new line like this. So the first

1559
01:15:57,760 --> 01:16:05,519
function is sync user creation. Then the

1560
01:16:00,719 --> 01:16:08,640
second function is sync user deletion.

1561
01:16:05,520 --> 01:16:10,800
then comma and provide the next one that

1562
01:16:08,640 --> 01:16:13,439
is

1563
01:16:10,800 --> 01:16:15,439
sync user updation.

1564
01:16:13,439 --> 01:16:18,158
That's it. So we have created three

1565
01:16:15,439 --> 01:16:21,677
functions only and after that we have to

1566
01:16:18,158 --> 01:16:24,799
deploy this project online.

1567
01:16:21,679 --> 01:16:29,039
So before deployment we have to add some

1568
01:16:24,800 --> 01:16:30,559
configuration in this project. For that

1569
01:16:29,039 --> 01:16:32,878
let's

1570
01:16:30,560 --> 01:16:35,040
come here in this project management

1571
01:16:32,880 --> 01:16:37,040
folder that is the project folder. Here

1572
01:16:35,039 --> 01:16:39,359
we have to create a file. So we'll

1573
01:16:37,039 --> 01:16:44,638
create a new file here and write the

1574
01:16:39,359 --> 01:16:46,958
file name dot get ignore.

1575
01:16:44,640 --> 01:16:51,159
In this file

1576
01:16:46,960 --> 01:16:51,158
let's add node

1577
01:16:51,840 --> 01:16:57,679
modules. So it will ignore this folder.

1578
01:16:54,800 --> 01:16:59,439
And with that we'll also add env. So it

1579
01:16:57,679 --> 01:17:03,600
will ignore this environment variable

1580
01:16:59,439 --> 01:17:06,078
file. After that we'll add some other

1581
01:17:03,600 --> 01:17:12,039
configuration also. So I'll just open

1582
01:17:06,079 --> 01:17:12,039
the web browser and here simply open

1583
01:17:12,079 --> 01:17:16,958
github.com/greatest

1584
01:17:14,079 --> 01:17:20,157
stackdev. Open the github profile. Here

1585
01:17:16,960 --> 01:17:23,120
you will find this nodes. In this one

1586
01:17:20,158 --> 01:17:26,558
you will find versaljson config form.

1587
01:17:23,119 --> 01:17:30,237
Let's open it. And after that you can

1588
01:17:26,560 --> 01:17:33,840
see here we have versel.json. JSON

1589
01:17:30,238 --> 01:17:37,839
configuration for the express back end

1590
01:17:33,840 --> 01:17:39,679
and for the front end right in the front

1591
01:17:37,840 --> 01:17:42,239
end you have added the router then you

1592
01:17:39,679 --> 01:17:45,119
need to add it right so let's create

1593
01:17:42,238 --> 01:17:48,718
this file here in this server folder

1594
01:17:45,119 --> 01:17:51,197
we'll create a file called versaljson

1595
01:17:48,719 --> 01:17:54,320
and we'll create the same file in this

1596
01:17:51,198 --> 01:17:57,039
client so create a new file in the

1597
01:17:54,319 --> 01:17:59,759
client that is versel dojson

1598
01:17:57,039 --> 01:18:02,638
like this Now just come back here. Copy

1599
01:17:59,760 --> 01:18:05,359
this a small code script for the client.

1600
01:18:02,640 --> 01:18:07,678
Just copy and paste it here.

1601
01:18:05,359 --> 01:18:10,878
So we have added this code in the

1602
01:18:07,679 --> 01:18:13,440
versel.json file in the client folder or

1603
01:18:10,880 --> 01:18:17,599
client project. Now close it. And after

1604
01:18:13,439 --> 01:18:20,318
that let's just copy this code and paste

1605
01:18:17,600 --> 01:18:22,718
it in the versel.json file for the back

1606
01:18:20,319 --> 01:18:26,639
end that is the server. So let's paste

1607
01:18:22,719 --> 01:18:28,959
it here and save the changes. Close it.

1608
01:18:26,640 --> 01:18:31,439
Now we have to upload this code on

1609
01:18:28,960 --> 01:18:34,158
GitHub. So just click on this source

1610
01:18:31,439 --> 01:18:37,158
control icon. Click on initialize

1611
01:18:34,158 --> 01:18:37,158
repository.

1612
01:18:37,600 --> 01:18:45,040
So here you will find this number of

1613
01:18:40,399 --> 01:18:46,879
files that is 56. Here we'll add the

1614
01:18:45,039 --> 01:18:51,838
message

1615
01:18:46,880 --> 01:18:55,520
first commit. Click on commit button.

1616
01:18:51,840 --> 01:18:58,718
Then click on publish branch.

1617
01:18:55,520 --> 01:19:00,960
And here you can change the repository

1618
01:18:58,719 --> 01:19:03,039
name also and choose the repository type

1619
01:19:00,960 --> 01:19:05,839
like private or public. So I'll choose

1620
01:19:03,039 --> 01:19:07,918
this private GitHub repository and the

1621
01:19:05,840 --> 01:19:11,199
project name is project management.

1622
01:19:07,920 --> 01:19:15,238
Let's click here. So it will upload the

1623
01:19:11,198 --> 01:19:15,238
code in the GitHub profile.

1624
01:19:15,840 --> 01:19:22,320
So it has been uploaded. Now let me open

1625
01:19:19,198 --> 01:19:24,879
my GitHub page.

1626
01:19:22,319 --> 01:19:27,678
So here you can see this project has

1627
01:19:24,880 --> 01:19:29,280
been uploaded on this GitHub repository.

1628
01:19:27,679 --> 01:19:31,440
This is the client folder. This is the

1629
01:19:29,279 --> 01:19:34,157
server folder. Right? Next we have to

1630
01:19:31,439 --> 01:19:35,759
deploy this server or back end. Right?

1631
01:19:34,158 --> 01:19:39,039
For deployment we are going to use

1632
01:19:35,760 --> 01:19:40,639
Versel. So let's open versel.com and you

1633
01:19:39,039 --> 01:19:43,197
need to create an account here. Then

1634
01:19:40,640 --> 01:19:46,640
come to dashboard and after that click

1635
01:19:43,198 --> 01:19:49,839
on this button add new and choose

1636
01:19:46,640 --> 01:19:52,159
project. So create a new project here.

1637
01:19:49,840 --> 01:19:54,479
And after that here you will find the

1638
01:19:52,158 --> 01:19:56,638
list of repositories available in your

1639
01:19:54,479 --> 01:19:59,038
GitHub account. So I'll click on this

1640
01:19:56,640 --> 01:20:01,678
import button in front of this project

1641
01:19:59,039 --> 01:20:04,399
management. Click on import. And after

1642
01:20:01,679 --> 01:20:06,879
that here you need to choose the root

1643
01:20:04,399 --> 01:20:09,519
directory. So click on this edit and

1644
01:20:06,880 --> 01:20:11,198
choose server because we are deploying

1645
01:20:09,520 --> 01:20:14,960
the back end only. Right? So we have

1646
01:20:11,198 --> 01:20:18,079
selected server. Then click on continue.

1647
01:20:14,960 --> 01:20:22,238
And after that here you can add the

1648
01:20:18,079 --> 01:20:23,838
project name. So let me write project

1649
01:20:22,238 --> 01:20:27,359
mgt

1650
01:20:23,840 --> 01:20:29,519
that is project management server like

1651
01:20:27,359 --> 01:20:31,519
this. Then we have to add the

1652
01:20:29,520 --> 01:20:33,359
environment variables here. So I'll

1653
01:20:31,520 --> 01:20:35,520
expand this one and here we will paste

1654
01:20:33,359 --> 01:20:39,198
the environment variables. So I'll just

1655
01:20:35,520 --> 01:20:42,159
come back here and open the

1656
01:20:39,198 --> 01:20:43,999
server folder env file and copy all the

1657
01:20:42,158 --> 01:20:46,717
environment variables from here. Just

1658
01:20:44,000 --> 01:20:48,320
copy and paste it here.

1659
01:20:46,719 --> 01:20:51,360
Now in this one you can see we have

1660
01:20:48,319 --> 01:20:53,279
added node env development. So instead

1661
01:20:51,359 --> 01:20:56,278
of development here we will write

1662
01:20:53,279 --> 01:20:56,279
production

1663
01:20:57,679 --> 01:21:04,079
just updated this and after that let's

1664
01:21:01,198 --> 01:21:07,759
click on this button deploy.

1665
01:21:04,079 --> 01:21:11,958
So it is deploying our backend server.

1666
01:21:07,760 --> 01:21:11,960
You can see the status here.

1667
01:21:13,119 --> 01:21:17,279
Now it is successfully deployed. You can

1668
01:21:15,039 --> 01:21:20,319
see server is live. Let's click on

1669
01:21:17,279 --> 01:21:22,237
continue to dashboard. And after that

1670
01:21:20,319 --> 01:21:24,559
you will find the domain here. Let me

1671
01:21:22,238 --> 01:21:26,959
just click on this domains.

1672
01:21:24,560 --> 01:21:29,119
So here we have the live link of our

1673
01:21:26,960 --> 01:21:31,040
backend server.

1674
01:21:29,119 --> 01:21:33,918
It is opening.

1675
01:21:31,039 --> 01:21:36,638
So you can see the server is live and

1676
01:21:33,920 --> 01:21:39,839
let me just copy this backend URL. And

1677
01:21:36,640 --> 01:21:44,040
now we have to add this URL in the inest

1678
01:21:39,840 --> 01:21:44,040
app. So let's come back here.

1679
01:21:44,719 --> 01:21:49,280
and come to

1680
01:21:47,039 --> 01:21:51,279
ingest dashboard.

1681
01:21:49,279 --> 01:21:53,519
In this inest dashboard just click on

1682
01:21:51,279 --> 01:21:57,678
this get started button or click on this

1683
01:21:53,520 --> 01:22:01,039
sync new app button and after that here

1684
01:21:57,679 --> 01:22:02,800
you need to provide the URL right so

1685
01:22:01,039 --> 01:22:05,359
I'll just

1686
01:22:02,800 --> 01:22:07,1000
provide the backend URL here and then

1687
01:22:05,359 --> 01:22:10,998
write /

1688
01:22:08,000 --> 01:22:11,000
API/ingest.

1689
01:22:14,479 --> 01:22:18,919
If I come back to the VS code

1690
01:22:19,119 --> 01:22:24,958
in the main file, you will find this

1691
01:22:21,439 --> 01:22:27,998
path. You can see we have added the HTTP

1692
01:22:24,960 --> 01:22:30,879
endpoint that is / API/est.

1693
01:22:28,000 --> 01:22:33,280
Right? That's why we are adding it here.

1694
01:22:30,880 --> 01:22:36,880
This is the base URL of our backend

1695
01:22:33,279 --> 01:22:41,318
server. Then / API/est.

1696
01:22:36,880 --> 01:22:41,320
Then click on sync app.

1697
01:22:41,359 --> 01:22:46,319
Now you can see synced app. And after

1698
01:22:44,000 --> 01:22:48,879
sync you will find all your functions

1699
01:22:46,319 --> 01:22:52,399
here. So till now we have created three

1700
01:22:48,880 --> 01:22:55,280
inest function right that is sync user

1701
01:22:52,399 --> 01:22:58,078
from clerk delete user from clerk update

1702
01:22:55,279 --> 01:23:00,237
user from clerk it is added here. So we

1703
01:22:58,079 --> 01:23:04,079
have successfully configured the color

1704
01:23:00,238 --> 01:23:07,438
web hooks using ingest and after that if

1705
01:23:04,079 --> 01:23:10,319
I create any new account then the user

1706
01:23:07,439 --> 01:23:12,399
data will get saved in the database. So

1707
01:23:10,319 --> 01:23:16,078
now let's try it. I'll just come back

1708
01:23:12,399 --> 01:23:18,479
here in the project and here let's come

1709
01:23:16,079 --> 01:23:20,399
to this manage account. I'll delete this

1710
01:23:18,479 --> 01:23:24,599
account.

1711
01:23:20,399 --> 01:23:24,599
I'll click on this button delete.

1712
01:23:25,679 --> 01:23:29,919
After that it is asking for the OTP

1713
01:23:27,840 --> 01:23:33,359
because it is the sensitive task. So we

1714
01:23:29,920 --> 01:23:35,198
have added the OTP here and deleted this

1715
01:23:33,359 --> 01:23:37,439
account.

1716
01:23:35,198 --> 01:23:39,598
So now the account has been deleted. And

1717
01:23:37,439 --> 01:23:41,677
after that you can see once we are

1718
01:23:39,600 --> 01:23:44,718
logged out we cannot access this

1719
01:23:41,679 --> 01:23:46,639
dashboard. It is protected. And if I

1720
01:23:44,719 --> 01:23:49,679
click on continue with Google we can

1721
01:23:46,639 --> 01:23:52,560
create an account here. So I'll create a

1722
01:23:49,679 --> 01:23:55,039
new account using the same email ID and

1723
01:23:52,560 --> 01:23:59,439
click on continue.

1724
01:23:55,039 --> 01:24:01,119
And after that we can see the dashboard.

1725
01:23:59,439 --> 01:24:03,278
So you can see we have created the

1726
01:24:01,119 --> 01:24:06,559
account on this page and we can see the

1727
01:24:03,279 --> 01:24:09,918
dashboard. Now let me open our neon

1728
01:24:06,560 --> 01:24:14,199
database. I'll come here and uh here

1729
01:24:09,920 --> 01:24:14,198
we'll come to this user table.

1730
01:24:14,319 --> 01:24:19,998
Let's click on this refresh button.

1731
01:24:17,840 --> 01:24:23,920
Here we don't have the user data right.

1732
01:24:20,000 --> 01:24:28,359
So let me just come here in the ingest

1733
01:24:23,920 --> 01:24:28,360
and come to this runs.

1734
01:24:28,479 --> 01:24:34,398
So you can see it is running

1735
01:24:31,520 --> 01:24:37,960
that is user deleted user created. Let

1736
01:24:34,399 --> 01:24:37,959
me expand it

1737
01:24:39,119 --> 01:24:44,559
and uh

1738
01:24:41,439 --> 01:24:47,439
I'll scroll down.

1739
01:24:44,560 --> 01:24:51,678
Let me click here. And here we are

1740
01:24:47,439 --> 01:24:56,079
getting some error in this user creation

1741
01:24:51,679 --> 01:24:59,280
invalid. Prisma do user do.create.

1742
01:24:56,079 --> 01:25:02,798
If I scroll down here, you can see email

1743
01:24:59,279 --> 01:25:04,479
is missing, right? Argument email is

1744
01:25:02,800 --> 01:25:08,559
missing. So, let me just fix it. I'll

1745
01:25:04,479 --> 01:25:11,839
just come back here. And in this index

1746
01:25:08,560 --> 01:25:13,760
js file, you can see we have added email

1747
01:25:11,840 --> 01:25:16,239
property. In this one, we have added

1748
01:25:13,760 --> 01:25:18,718
email addresses index zero and then we

1749
01:25:16,238 --> 01:25:20,799
have dot email address. So, here we have

1750
01:25:18,719 --> 01:25:24,320
missed one s. Let me just correct this

1751
01:25:20,800 --> 01:25:27,040
spelling. Email address. That's it. Save

1752
01:25:24,319 --> 01:25:31,359
the changes. And after that let's try to

1753
01:25:27,039 --> 01:25:33,197
create an account again. So I'll just

1754
01:25:31,359 --> 01:25:36,799
come here

1755
01:25:33,198 --> 01:25:39,039
in the matrix runs and it is failed

1756
01:25:36,800 --> 01:25:41,599
right. So I'll just come here and delete

1757
01:25:39,039 --> 01:25:46,157
the account again. So click on manage

1758
01:25:41,600 --> 01:25:49,359
account security delete and write the

1759
01:25:46,158 --> 01:25:51,358
text delete account

1760
01:25:49,359 --> 01:25:54,559
and we have made the changes. So we have

1761
01:25:51,359 --> 01:25:56,958
to update the code, right? And then we

1762
01:25:54,560 --> 01:25:59,439
have to deploy the project again. So

1763
01:25:56,960 --> 01:26:01,599
I'll just come back here and click on

1764
01:25:59,439 --> 01:26:03,839
this

1765
01:26:01,600 --> 01:26:07,159
source control icon. And here we'll add

1766
01:26:03,840 --> 01:26:07,158
the message

1767
01:26:08,000 --> 01:26:13,480
fixed

1768
01:26:10,000 --> 01:26:13,480
user creation

1769
01:26:13,600 --> 01:26:16,600
commit.

1770
01:26:17,840 --> 01:26:20,840
Okay.

1771
01:26:22,079 --> 01:26:28,559
So it will update the code in GitHub. So

1772
01:26:25,840 --> 01:26:31,960
let's open the GitHub profile. Let me

1773
01:26:28,560 --> 01:26:31,959
refresh it.

1774
01:26:32,880 --> 01:26:38,320
So it is updated just now. And after

1775
01:26:35,520 --> 01:26:40,718
that it will also redeploy the back end.

1776
01:26:38,319 --> 01:26:43,918
So I'll come to deployments.

1777
01:26:40,719 --> 01:26:46,638
So you can see it is again redeploying

1778
01:26:43,920 --> 01:26:48,799
the project. Right now it is ready. So

1779
01:26:46,639 --> 01:26:51,679
the project has been redeployed. After

1780
01:26:48,800 --> 01:26:53,199
that we can try to create a new account.

1781
01:26:51,679 --> 01:26:56,198
So I'll click on this continue with

1782
01:26:53,198 --> 01:26:56,198
Google

1783
01:26:58,880 --> 01:27:05,920
and here we have created one account.

1784
01:27:03,119 --> 01:27:09,038
So after creation it will redirect to

1785
01:27:05,920 --> 01:27:10,559
dashboard. Now again come here in the

1786
01:27:09,039 --> 01:27:13,279
database

1787
01:27:10,560 --> 01:27:14,960
and click on this refresh.

1788
01:27:13,279 --> 01:27:17,918
Now you can see here we are getting the

1789
01:27:14,960 --> 01:27:20,080
user data. So when we create the account

1790
01:27:17,920 --> 01:27:23,519
the user data is getting saved in the

1791
01:27:20,079 --> 01:27:27,119
database. So here we have the user ID

1792
01:27:23,520 --> 01:27:28,960
name email then image URL and then we

1793
01:27:27,119 --> 01:27:31,519
have the created at property and other

1794
01:27:28,960 --> 01:27:35,1000
details. So if I open the ingest

1795
01:27:31,520 --> 01:27:38,800
dashboard let me refresh it.

1796
01:27:36,000 --> 01:27:42,238
So now you will find

1797
01:27:38,800 --> 01:27:45,439
the new event here and it is completed

1798
01:27:42,238 --> 01:27:48,959
right? You can see the name user doc

1799
01:27:45,439 --> 01:27:51,677
created. Let me open it. You can see it

1800
01:27:48,960 --> 01:27:55,759
is completed successfully.

1801
01:27:51,679 --> 01:27:58,159
So this ingest function is working fine.

1802
01:27:55,760 --> 01:28:01,120
So till now in our project we have added

1803
01:27:58,158 --> 01:28:03,518
the user authentication and after that

1804
01:28:01,119 --> 01:28:06,319
we have connected the database to store

1805
01:28:03,520 --> 01:28:09,039
the data and we have connected the

1806
01:28:06,319 --> 01:28:11,759
ingest and created the inest functions

1807
01:28:09,039 --> 01:28:15,439
to manage the background jobs and using

1808
01:28:11,760 --> 01:28:17,040
that we will store the user data in the

1809
01:28:15,439 --> 01:28:19,358
database.

1810
01:28:17,039 --> 01:28:22,638
Now we have to add the functionality to

1811
01:28:19,359 --> 01:28:25,519
create the workspace or organization.

1812
01:28:22,639 --> 01:28:29,679
In this workspace, admin can add a new

1813
01:28:25,520 --> 01:28:32,239
users and they can also add the project.

1814
01:28:29,679 --> 01:28:35,919
Inside the project, we can add the task

1815
01:28:32,238 --> 01:28:37,758
and we can assign the task to any user.

1816
01:28:35,920 --> 01:28:39,600
To enable the organization

1817
01:28:37,760 --> 01:28:43,359
functionality, we are going to use

1818
01:28:39,600 --> 01:28:45,519
color. So let's open color dashboard and

1819
01:28:43,359 --> 01:28:48,878
in this dashboard we will come to

1820
01:28:45,520 --> 01:28:51,039
configure option and in the left side

1821
01:28:48,880 --> 01:28:54,320
you will find the organization

1822
01:28:51,039 --> 01:28:56,798
management. Just click on this settings

1823
01:28:54,319 --> 01:28:59,038
and after that you will find this button

1824
01:28:56,800 --> 01:29:01,439
enable organizations.

1825
01:28:59,039 --> 01:29:03,598
Let's click here.

1826
01:29:01,439 --> 01:29:08,717
Click on enable

1827
01:29:03,600 --> 01:29:12,039
and uh we can also enable this checkbox.

1828
01:29:08,719 --> 01:29:12,040
Click enable.

1829
01:29:12,319 --> 01:29:17,918
Now here you can see in this

1830
01:29:14,960 --> 01:29:21,440
organization we can add up to five

1831
01:29:17,920 --> 01:29:24,238
members in the free plan. And here we

1832
01:29:21,439 --> 01:29:26,958
have the allow personal accounts. You

1833
01:29:24,238 --> 01:29:30,079
need to enable it. Now in this one

1834
01:29:26,960 --> 01:29:33,040
scroll down and here you will find this

1835
01:29:30,079 --> 01:29:35,519
enable organization slug. You need to

1836
01:29:33,039 --> 01:29:37,519
enable this one also so that the

1837
01:29:35,520 --> 01:29:41,840
organization will have the unique

1838
01:29:37,520 --> 01:29:44,079
identifier. After that let's scroll down

1839
01:29:41,840 --> 01:29:47,519
and uh

1840
01:29:44,079 --> 01:29:50,638
here you can see allow new members to

1841
01:29:47,520 --> 01:29:53,520
delete organizations. So let me uncheck

1842
01:29:50,639 --> 01:29:55,999
this one or disable this. So the new

1843
01:29:53,520 --> 01:30:00,159
member cannot delete the organization.

1844
01:29:56,000 --> 01:30:02,799
After that click on the save button.

1845
01:30:00,158 --> 01:30:05,198
Now it is saved. So we have enabled the

1846
01:30:02,800 --> 01:30:07,519
organization functionality from the

1847
01:30:05,198 --> 01:30:09,438
color dashboard.

1848
01:30:07,520 --> 01:30:12,480
And whenever we will create the

1849
01:30:09,439 --> 01:30:15,118
organization or we will add a new member

1850
01:30:12,479 --> 01:30:18,398
or we will update the organization then

1851
01:30:15,119 --> 01:30:22,319
we will get the data in the color web

1852
01:30:18,399 --> 01:30:24,717
hooks and whenever we will create the

1853
01:30:22,319 --> 01:30:26,958
organization and update the organization

1854
01:30:24,719 --> 01:30:29,919
we have to update the data in our

1855
01:30:26,960 --> 01:30:31,1000
database also. So first we will receive

1856
01:30:29,920 --> 01:30:35,759
the data from the web hooks and then we

1857
01:30:32,000 --> 01:30:38,559
will store it in the database. For that

1858
01:30:35,760 --> 01:30:42,718
let me just come back here in the VS

1859
01:30:38,560 --> 01:30:45,119
code and in this one that is index.js

1860
01:30:42,719 --> 01:30:47,520
file inside this ingest here we'll

1861
01:30:45,119 --> 01:30:50,638
create the ingest functions that will

1862
01:30:47,520 --> 01:30:52,718
manage the color web hooks for

1863
01:30:50,639 --> 01:30:55,280
organization.

1864
01:30:52,719 --> 01:30:57,679
So here we'll create some

1865
01:30:55,279 --> 01:31:02,157
ingest functions to manage the color web

1866
01:30:57,679 --> 01:31:05,600
hooks. So let me add the comment here.

1867
01:31:02,158 --> 01:31:09,438
All right. Ingest function to save

1868
01:31:05,600 --> 01:31:12,239
workspace data to a database.

1869
01:31:09,439 --> 01:31:15,439
Right. And let's create the function

1870
01:31:12,238 --> 01:31:19,119
here. So I'll write const

1871
01:31:15,439 --> 01:31:24,478
sync workspace creation equal to

1872
01:31:19,119 --> 01:31:27,519
inest dot create function method.

1873
01:31:24,479 --> 01:31:30,158
And after that let's add the object. And

1874
01:31:27,520 --> 01:31:34,638
here we have to add one ID. So I'll

1875
01:31:30,158 --> 01:31:37,438
write the id sync workspace from color.

1876
01:31:34,639 --> 01:31:40,320
After that add the comma and add another

1877
01:31:37,439 --> 01:31:42,717
object. Here we will add the event name.

1878
01:31:40,319 --> 01:31:45,718
So let's add event

1879
01:31:42,719 --> 01:31:45,719
color/organization.created.

1880
01:31:46,560 --> 01:31:53,678
So from this color web hooks we will get

1881
01:31:49,679 --> 01:31:56,320
this event organization dot created

1882
01:31:53,679 --> 01:31:59,600
like this. So whenever this event

1883
01:31:56,319 --> 01:32:03,118
occurred then we have to execute a

1884
01:31:59,600 --> 01:32:06,239
function. So let's add

1885
01:32:03,119 --> 01:32:08,878
a sync add function

1886
01:32:06,238 --> 01:32:11,758
and in this function parameter we will

1887
01:32:08,880 --> 01:32:14,880
get that event. So let's dstructure that

1888
01:32:11,760 --> 01:32:17,760
event here and after that in this

1889
01:32:14,880 --> 01:32:20,960
function we will get the data from this

1890
01:32:17,760 --> 01:32:22,479
event. So I'll write const curly braces

1891
01:32:20,960 --> 01:32:25,280
data

1892
01:32:22,479 --> 01:32:28,799
equal to event

1893
01:32:25,279 --> 01:32:31,998
right. So we are getting this event from

1894
01:32:28,800 --> 01:32:36,080
the color web hooks and in that event we

1895
01:32:32,000 --> 01:32:39,120
will get the data right and after that

1896
01:32:36,079 --> 01:32:42,958
we have to store this data in the

1897
01:32:39,119 --> 01:32:47,119
database. For that let's add await then

1898
01:32:42,960 --> 01:32:50,238
Prisma dot and here we will use the

1899
01:32:47,119 --> 01:32:53,599
workspace table. Let's add workspace. If

1900
01:32:50,238 --> 01:32:56,157
I come back to web browser and open the

1901
01:32:53,600 --> 01:32:58,800
neon database here you can see we have

1902
01:32:56,158 --> 01:33:03,358
created the workspace

1903
01:32:58,800 --> 01:33:07,198
table right and let's use that here. So

1904
01:33:03,359 --> 01:33:11,198
here we have added workspace dot

1905
01:33:07,198 --> 01:33:13,518
create method and uh in this one we'll

1906
01:33:11,198 --> 01:33:16,319
add the object. First we have to add the

1907
01:33:13,520 --> 01:33:20,159
data and in this data let's add the

1908
01:33:16,319 --> 01:33:24,158
object where we will add the id. So the

1909
01:33:20,158 --> 01:33:27,119
id is data dot id. After that we'll add

1910
01:33:24,158 --> 01:33:30,398
the name property. In this name we will

1911
01:33:27,119 --> 01:33:34,479
add the data dot name.

1912
01:33:30,399 --> 01:33:39,758
Then add the comma and provide slug.

1913
01:33:34,479 --> 01:33:42,959
And let's add the data dot slug.

1914
01:33:39,760 --> 01:33:47,279
After that we will add the

1915
01:33:42,960 --> 01:33:51,199
owner id. In this owner id let's provide

1916
01:33:47,279 --> 01:33:54,638
the data dot

1917
01:33:51,198 --> 01:33:57,039
created by.

1918
01:33:54,639 --> 01:34:00,400
Then we will add comma and here we'll

1919
01:33:57,039 --> 01:34:04,079
add the next property

1920
01:34:00,399 --> 01:34:08,318
image URL. And in this image URL let's

1921
01:34:04,079 --> 01:34:12,079
add the data dot image URL

1922
01:34:08,319 --> 01:34:16,078
like this. So these workspace data will

1923
01:34:12,079 --> 01:34:18,878
get saved in the neon database. After

1924
01:34:16,079 --> 01:34:23,119
that in this workspace or organization

1925
01:34:18,880 --> 01:34:27,280
we have to add the admin. Right?

1926
01:34:23,119 --> 01:34:31,119
So here let's add comment and we'll add

1927
01:34:27,279 --> 01:34:33,519
the text called add creator as admin

1928
01:34:31,119 --> 01:34:37,119
member.

1929
01:34:33,520 --> 01:34:38,638
Now let's add await

1930
01:34:37,119 --> 01:34:42,399
prisma

1931
01:34:38,639 --> 01:34:45,360
dot workspace member.

1932
01:34:42,399 --> 01:34:47,759
Then we'll add dot

1933
01:34:45,359 --> 01:34:50,799
create method. And here we'll add the

1934
01:34:47,760 --> 01:34:54,880
object and provide the data. And let's

1935
01:34:50,800 --> 01:34:58,239
add the user ID. In this user ID, we

1936
01:34:54,880 --> 01:35:01,759
have to provide the data that we are

1937
01:34:58,238 --> 01:35:04,398
getting from the event. So let's add the

1938
01:35:01,760 --> 01:35:08,800
data here

1939
01:35:04,399 --> 01:35:11,118
dot created by.

1940
01:35:08,800 --> 01:35:15,280
And let me update this one also. It will

1941
01:35:11,119 --> 01:35:17,599
be user ID like this.

1942
01:35:15,279 --> 01:35:20,638
Then we'll add one more property here

1943
01:35:17,600 --> 01:35:23,840
that is workspace ID.

1944
01:35:20,639 --> 01:35:27,039
And in this workspace id let's add this

1945
01:35:23,840 --> 01:35:28,880
one data do id

1946
01:35:27,039 --> 01:35:34,958
after that here we have to provide the

1947
01:35:28,880 --> 01:35:39,520
role so I'll write role it will be admin

1948
01:35:34,960 --> 01:35:42,080
that's it so we have added the workspace

1949
01:35:39,520 --> 01:35:46,079
data in the database and we have also

1950
01:35:42,079 --> 01:35:48,237
added the admin role in the database for

1951
01:35:46,079 --> 01:35:50,479
this workspace.

1952
01:35:48,238 --> 01:35:53,119
After that we have to create another

1953
01:35:50,479 --> 01:35:55,919
ingest function using that we can update

1954
01:35:53,119 --> 01:36:01,359
the data in the database whenever we

1955
01:35:55,920 --> 01:36:06,320
update the organization or workspace.

1956
01:36:01,359 --> 01:36:08,958
So let's add the comment here that is

1957
01:36:06,319 --> 01:36:13,439
inest function to update workspace data

1958
01:36:08,960 --> 01:36:16,238
in database. So here let's add a new

1959
01:36:13,439 --> 01:36:21,599
function. I'll write the function name

1960
01:36:16,238 --> 01:36:26,558
const sync workspace updation equal to

1961
01:36:21,600 --> 01:36:30,158
inest dot create function and in this

1962
01:36:26,560 --> 01:36:34,639
one let's add first object where we have

1963
01:36:30,158 --> 01:36:37,759
to add the id. So the id is

1964
01:36:34,639 --> 01:36:40,879
update workspace from color. Then we

1965
01:36:37,760 --> 01:36:44,080
have to add the event here. So let's add

1966
01:36:40,880 --> 01:36:47,080
curly braces. it will be event

1967
01:36:44,079 --> 01:36:47,079
color/organization.updated.

1968
01:36:48,319 --> 01:36:53,439
So whenever this organization dot

1969
01:36:50,880 --> 01:36:56,239
updated event occurred in the color

1970
01:36:53,439 --> 01:36:59,038
paybox then we have to update the data

1971
01:36:56,238 --> 01:37:01,279
in the database also. So we'll create

1972
01:36:59,039 --> 01:37:05,197
the asynchronous arrow function and

1973
01:37:01,279 --> 01:37:07,918
dstructure the event in this parameter.

1974
01:37:05,198 --> 01:37:09,999
Now from this event we can get the data.

1975
01:37:07,920 --> 01:37:13,519
So let's add

1976
01:37:10,000 --> 01:37:15,440
const curly braces data equal to event.

1977
01:37:13,520 --> 01:37:18,480
Next we have to update the data in

1978
01:37:15,439 --> 01:37:22,717
database. So let's add await

1979
01:37:18,479 --> 01:37:26,398
prisma dot workspace

1980
01:37:22,719 --> 01:37:30,480
dot update method.

1981
01:37:26,399 --> 01:37:33,918
And here we have to provide where

1982
01:37:30,479 --> 01:37:36,717
and let's add the id and provide the

1983
01:37:33,920 --> 01:37:39,360
data dot id. So this will be the

1984
01:37:36,719 --> 01:37:42,560
workspace ID where we have to update the

1985
01:37:39,359 --> 01:37:45,198
data. Then add the comma and we'll add

1986
01:37:42,560 --> 01:37:49,678
the data property

1987
01:37:45,198 --> 01:37:52,879
and here let's add the name.

1988
01:37:49,679 --> 01:37:56,639
So I'll just copy from here name slug

1989
01:37:52,880 --> 01:37:58,960
and image URL. I'll just copy it here.

1990
01:37:56,639 --> 01:38:01,760
Remove this owner ID. It cannot be

1991
01:37:58,960 --> 01:38:04,879
updated. So we can update the name, slug

1992
01:38:01,760 --> 01:38:08,319
and image URL. That's it. So we have

1993
01:38:04,880 --> 01:38:10,399
added the ingest function to update the

1994
01:38:08,319 --> 01:38:12,718
organization.

1995
01:38:10,399 --> 01:38:14,799
Next we have to add the ingest function.

1996
01:38:12,719 --> 01:38:16,400
Using that we can delete an

1997
01:38:14,800 --> 01:38:20,159
organization.

1998
01:38:16,399 --> 01:38:22,958
So here again add the comment

1999
01:38:20,158 --> 01:38:25,759
inest function to delete workspace from

2000
01:38:22,960 --> 01:38:28,158
database. So whenever the workspace or

2001
01:38:25,760 --> 01:38:31,279
organization gets deleted we have to

2002
01:38:28,158 --> 01:38:35,118
delete it from the database. So I'll

2003
01:38:31,279 --> 01:38:39,359
write const and the function name sync

2004
01:38:35,118 --> 01:38:45,118
workspace deletion equal to

2005
01:38:39,359 --> 01:38:48,798
inest dot create function

2006
01:38:45,118 --> 01:38:52,637
and uh in this

2007
01:38:48,800 --> 01:38:56,080
function we will add ID. So let's add

2008
01:38:52,639 --> 01:38:59,839
the object ID. It will be delete

2009
01:38:56,079 --> 01:39:01,838
workspace with color. Right.

2010
01:38:59,840 --> 01:39:04,559
Let's remove this curly braces from

2011
01:39:01,840 --> 01:39:07,199
here.

2012
01:39:04,560 --> 01:39:11,920
And uh after that here we have to add

2013
01:39:07,198 --> 01:39:14,158
the event. So I'll write object and the

2014
01:39:11,920 --> 01:39:17,719
property name is event and the event

2015
01:39:14,158 --> 01:39:17,718
name is color/organization.deed.

2016
01:39:17,920 --> 01:39:22,719
So whenever we get this event

2017
01:39:21,039 --> 01:39:26,237
color/organization

2018
01:39:22,719 --> 01:39:29,760
dodeleted in the color box in that case

2019
01:39:26,238 --> 01:39:33,438
we have to delete the data from

2020
01:39:29,760 --> 01:39:36,559
database. So let's add

2021
01:39:33,439 --> 01:39:39,677
a sync arrow function. Then we will

2022
01:39:36,560 --> 01:39:42,239
dstructure the event in this parameter

2023
01:39:39,679 --> 01:39:45,999
and uh after that here we'll add the

2024
01:39:42,238 --> 01:39:49,438
data. So let's add con data

2025
01:39:46,000 --> 01:39:53,118
from event. After that we have to add a

2026
01:39:49,439 --> 01:39:55,599
weight and we will use Prisma

2027
01:39:53,118 --> 01:39:58,478
dot workspace.

2028
01:39:55,600 --> 01:40:02,960
Then we'll add dot delete

2029
01:39:58,479 --> 01:40:05,198
and in this delete just add where in

2030
01:40:02,960 --> 01:40:09,198
this where property simply provide the

2031
01:40:05,198 --> 01:40:11,839
id. So the id will be the data dot id.

2032
01:40:09,198 --> 01:40:16,319
So it will delete the particular

2033
01:40:11,840 --> 01:40:18,800
workspace data from the neon database.

2034
01:40:16,319 --> 01:40:22,399
Next we have to add one more inest

2035
01:40:18,800 --> 01:40:25,760
function. Using that we can update the

2036
01:40:22,399 --> 01:40:28,879
new member in the workspace in our

2037
01:40:25,760 --> 01:40:31,519
database. So

2038
01:40:28,880 --> 01:40:33,759
here let's add a space and we will add

2039
01:40:31,520 --> 01:40:38,239
the comment. So I'll write the comment

2040
01:40:33,760 --> 01:40:41,519
here. ingest function to save workspace

2041
01:40:38,238 --> 01:40:45,117
member data to a database.

2042
01:40:41,520 --> 01:40:47,439
So I'll write a new function here. So

2043
01:40:45,118 --> 01:40:52,079
just add const

2044
01:40:47,439 --> 01:40:56,399
sync workspace member creation equal to

2045
01:40:52,079 --> 01:40:58,958
inest dot create function and here let's

2046
01:40:56,399 --> 01:41:03,038
add the object. First we have to define

2047
01:40:58,960 --> 01:41:06,158
the id. So the id is sync workspace

2048
01:41:03,039 --> 01:41:09,279
member from color. Then add comma and

2049
01:41:06,158 --> 01:41:11,759
object. In this object we will add the

2050
01:41:09,279 --> 01:41:14,958
event. So let's add the event name that

2051
01:41:11,760 --> 01:41:18,159
is color/organization

2052
01:41:14,960 --> 01:41:23,040
invitation dot accepted.

2053
01:41:18,158 --> 01:41:25,839
So whenever the new member invitation is

2054
01:41:23,039 --> 01:41:28,479
accepted it means a new member is added

2055
01:41:25,840 --> 01:41:31,759
in the workspace.

2056
01:41:28,479 --> 01:41:34,717
So after that we have to update our

2057
01:41:31,760 --> 01:41:38,159
database also. So let's add the function

2058
01:41:34,719 --> 01:41:41,919
here async arrow function and get the

2059
01:41:38,158 --> 01:41:44,318
event in this function.

2060
01:41:41,920 --> 01:41:47,280
Now from this event let's get the data.

2061
01:41:44,319 --> 01:41:49,439
So let's just copy and paste it here.

2062
01:41:47,279 --> 01:41:51,918
Now we have the data and after that

2063
01:41:49,439 --> 01:41:56,318
let's add a weight

2064
01:41:51,920 --> 01:41:59,360
prisma dot workspace member. You can see

2065
01:41:56,319 --> 01:42:02,078
in this neon database we have this

2066
01:41:59,359 --> 01:42:05,198
workspace member right. So we have added

2067
01:42:02,079 --> 01:42:10,717
prisma dotworkspace member

2068
01:42:05,198 --> 01:42:15,117
dot create and uh here

2069
01:42:10,719 --> 01:42:17,999
let's add the data and then we'll add

2070
01:42:15,118 --> 01:42:22,478
user id.

2071
01:42:18,000 --> 01:42:25,599
In this user id simply add the data dot

2072
01:42:22,479 --> 01:42:27,839
user id.

2073
01:42:25,600 --> 01:42:31,760
Then we will add the next property that

2074
01:42:27,840 --> 01:42:35,280
is workspace id. And uh in this

2075
01:42:31,760 --> 01:42:39,119
workspace id let's add the data

2076
01:42:35,279 --> 01:42:41,599
dot organization

2077
01:42:39,118 --> 01:42:45,358
id

2078
01:42:41,600 --> 01:42:50,320
then comma and here we'll add the role.

2079
01:42:45,359 --> 01:42:54,237
In this role, let's add the data. In

2080
01:42:50,319 --> 01:42:57,519
this data, we will get the role name. So

2081
01:42:54,238 --> 01:43:00,398
just add rod name.

2082
01:42:57,520 --> 01:43:03,119
And uh after that we have to convert it

2083
01:43:00,399 --> 01:43:06,399
into a string. So I'll just remove it.

2084
01:43:03,118 --> 01:43:10,398
And first we'll write a string here. And

2085
01:43:06,399 --> 01:43:12,879
in this a string provide data dot roll

2086
01:43:10,399 --> 01:43:16,078
name. And after that we have to convert

2087
01:43:12,880 --> 01:43:20,040
this a string into uppercase. So let's

2088
01:43:16,079 --> 01:43:20,039
add two uppercase.

2089
01:43:20,639 --> 01:43:25,520
That's it.

2090
01:43:22,560 --> 01:43:29,920
So here we have added another function

2091
01:43:25,520 --> 01:43:33,359
using that we can update the new user in

2092
01:43:29,920 --> 01:43:36,719
the organization in our database. So we

2093
01:43:33,359 --> 01:43:39,599
have created four new ingest function.

2094
01:43:36,719 --> 01:43:41,600
Right now we have to export all these

2095
01:43:39,600 --> 01:43:44,319
inest function using this functions

2096
01:43:41,600 --> 01:43:48,479
array. So here let's add comma and

2097
01:43:44,319 --> 01:43:51,359
provide the function name that is sync

2098
01:43:48,479 --> 01:43:53,198
workspace creation. After that we will

2099
01:43:51,359 --> 01:43:56,319
add

2100
01:43:53,198 --> 01:44:00,638
sync workspace

2101
01:43:56,319 --> 01:44:05,279
updation. After that we will add sync

2102
01:44:00,639 --> 01:44:07,600
workspace deletion. And then we'll add

2103
01:44:05,279 --> 01:44:11,279
sync workspace

2104
01:44:07,600 --> 01:44:14,239
member creation. So we have added all

2105
01:44:11,279 --> 01:44:17,838
four new inest functions and exported it

2106
01:44:14,238 --> 01:44:20,638
using this functions array. Right. After

2107
01:44:17,840 --> 01:44:23,759
creating all these inest functions, next

2108
01:44:20,639 --> 01:44:25,679
we have to sync our inest application.

2109
01:44:23,760 --> 01:44:28,159
But before that we have to deploy the

2110
01:44:25,679 --> 01:44:30,800
changes. So just click on this source

2111
01:44:28,158 --> 01:44:34,717
control icon

2112
01:44:30,800 --> 01:44:37,359
and here we'll add the commit inest

2113
01:44:34,719 --> 01:44:40,360
functions added for workspace. Click on

2114
01:44:37,359 --> 01:44:40,359
commit

2115
01:44:41,840 --> 01:44:49,040
sync changes. So it will upload the code

2116
01:44:45,439 --> 01:44:51,439
on GitHub and it will also redeploy our

2117
01:44:49,039 --> 01:44:54,638
versel back end. So let's come back here

2118
01:44:51,439 --> 01:44:56,879
in this versel dashboard. Come to

2119
01:44:54,639 --> 01:44:59,600
deployments

2120
01:44:56,880 --> 01:45:02,399
and you can see it is again deploying

2121
01:44:59,600 --> 01:45:03,920
the project. You can see the status here

2122
01:45:02,399 --> 01:45:06,559
building.

2123
01:45:03,920 --> 01:45:09,679
So once it is ready we can sync our

2124
01:45:06,560 --> 01:45:12,079
inest application. So we will just wait

2125
01:45:09,679 --> 01:45:15,198
for few seconds. Now you can see it is

2126
01:45:12,079 --> 01:45:17,998
ready. It is redeployed again. Right.

2127
01:45:15,198 --> 01:45:21,438
And after that let's come back here in

2128
01:45:18,000 --> 01:45:24,238
this ingest dashboard. And uh right now

2129
01:45:21,439 --> 01:45:26,637
you can see we have only three functions

2130
01:45:24,238 --> 01:45:30,157
right that is for the user creation,

2131
01:45:26,639 --> 01:45:33,119
deletion and updation right now let me

2132
01:45:30,158 --> 01:45:35,759
click here

2133
01:45:33,118 --> 01:45:38,398
and after that click on this reync

2134
01:45:35,760 --> 01:45:42,159
button

2135
01:45:38,399 --> 01:45:45,599
and click on reync app. Now you can see

2136
01:45:42,158 --> 01:45:50,318
here we have total seven functions right

2137
01:45:45,600 --> 01:45:53,119
you can see the functions name that is

2138
01:45:50,319 --> 01:45:55,118
user function user delete update and

2139
01:45:53,118 --> 01:45:58,799
creation and then we have the workspace

2140
01:45:55,118 --> 01:46:02,799
function also delete workspace then

2141
01:45:58,800 --> 01:46:05,359
update workspace then

2142
01:46:02,800 --> 01:46:07,199
sync workspace it means creating a new

2143
01:46:05,359 --> 01:46:10,078
workspace and here we have the sync

2144
01:46:07,198 --> 01:46:11,999
workspace member it means adding a

2145
01:46:10,079 --> 01:46:15,117
member in the workspace. So we have

2146
01:46:12,000 --> 01:46:19,440
total seven inest functions. So we will

2147
01:46:15,118 --> 01:46:22,318
manage the web hooks to update the

2148
01:46:19,439 --> 01:46:23,998
user data and workspace data in the

2149
01:46:22,319 --> 01:46:26,238
database.

2150
01:46:24,000 --> 01:46:28,639
Now after that let's create some

2151
01:46:26,238 --> 01:46:31,758
controller function so that we can get

2152
01:46:28,639 --> 01:46:35,119
the workspace data. So I'll just come

2153
01:46:31,760 --> 01:46:37,760
back to the VS code.

2154
01:46:35,118 --> 01:46:40,318
Now in this one

2155
01:46:37,760 --> 01:46:42,319
here we have the server folder. So in

2156
01:46:40,319 --> 01:46:43,919
this server folder we'll create a new

2157
01:46:42,319 --> 01:46:46,918
folder and write the folder name

2158
01:46:43,920 --> 01:46:46,920
controllers.

2159
01:46:48,719 --> 01:46:53,199
In this controllers folder we will

2160
01:46:50,880 --> 01:46:55,439
create the controller file for

2161
01:46:53,198 --> 01:46:57,358
workspace. So create a new file and

2162
01:46:55,439 --> 01:47:00,358
write the file name workspace

2163
01:46:57,359 --> 01:47:00,359
controllers.

2164
01:47:02,479 --> 01:47:07,078
We will add workspace controller.js.

2165
01:47:07,600 --> 01:47:13,840
Now in this one let's add the comment

2166
01:47:11,760 --> 01:47:18,239
all right

2167
01:47:13,840 --> 01:47:19,759
get all workspaces for user. So here we

2168
01:47:18,238 --> 01:47:22,079
have to create a function that will

2169
01:47:19,760 --> 01:47:25,359
return all the workspace of particular

2170
01:47:22,079 --> 01:47:28,399
user. So let's add export

2171
01:47:25,359 --> 01:47:32,078
const and the function name. So I'll

2172
01:47:28,399 --> 01:47:35,839
write the function name get

2173
01:47:32,079 --> 01:47:39,117
user workspace or workspaces

2174
01:47:35,840 --> 01:47:41,359
equal to asynchronous arrow function and

2175
01:47:39,118 --> 01:47:44,398
in the function parameter we will get

2176
01:47:41,359 --> 01:47:47,278
request and response.

2177
01:47:44,399 --> 01:47:51,118
Now here first we will add the try catch

2178
01:47:47,279 --> 01:47:55,677
statement. Now in this try block we have

2179
01:47:51,118 --> 01:47:59,518
to get the user ID and uh this user id

2180
01:47:55,679 --> 01:48:02,320
will be provided using the request do.

2181
01:47:59,520 --> 01:48:04,399
So let's add const

2182
01:48:02,319 --> 01:48:09,359
curly braces

2183
01:48:04,399 --> 01:48:11,759
user id equal to await then we'll add

2184
01:48:09,359 --> 01:48:13,599
request dot

2185
01:48:11,760 --> 01:48:16,559
o.

2186
01:48:13,600 --> 01:48:19,040
So now we have the user ID and for this

2187
01:48:16,560 --> 01:48:21,119
user id we have to find the list of

2188
01:48:19,039 --> 01:48:23,359
workspaces.

2189
01:48:21,118 --> 01:48:25,198
To find the workspace here let's add

2190
01:48:23,359 --> 01:48:26,798
const

2191
01:48:25,198 --> 01:48:32,759
workspaces

2192
01:48:26,800 --> 01:48:32,760
equal to await. Then we will use prisma

2193
01:48:32,880 --> 01:48:37,599
and import the prisma from config

2194
01:48:35,279 --> 01:48:42,399
folder. It has been imported. Write the

2195
01:48:37,600 --> 01:48:47,039
file name extension js.

2196
01:48:42,399 --> 01:48:49,359
After that just add Prisma dot

2197
01:48:47,039 --> 01:48:51,279
workspace

2198
01:48:49,359 --> 01:48:53,439
dot

2199
01:48:51,279 --> 01:48:56,559
find many

2200
01:48:53,439 --> 01:48:59,839
and here let's add the object provide

2201
01:48:56,560 --> 01:49:02,560
where in this fair property let's add

2202
01:48:59,840 --> 01:49:06,559
the members

2203
01:49:02,560 --> 01:49:12,479
and in this members let's add

2204
01:49:06,560 --> 01:49:12,479
sum and uh here we'll add the user ID

2205
01:49:12,880 --> 01:49:19,679
And this user id will be the user ID

2206
01:49:16,560 --> 01:49:22,399
that we are getting from the request do

2207
01:49:19,679 --> 01:49:25,198
function.

2208
01:49:22,399 --> 01:49:27,278
After that we'll add comma and here

2209
01:49:25,198 --> 01:49:32,478
let's add include

2210
01:49:27,279 --> 01:49:35,759
in this include property. Let's add the

2211
01:49:32,479 --> 01:49:40,758
members property.

2212
01:49:35,760 --> 01:49:40,760
And uh here we will provide

2213
01:49:41,039 --> 01:49:44,318
include

2214
01:49:42,800 --> 01:49:48,239
user

2215
01:49:44,319 --> 01:49:50,319
and it will be true.

2216
01:49:48,238 --> 01:49:53,359
After that

2217
01:49:50,319 --> 01:49:56,958
here we have to add the projects also.

2218
01:49:53,359 --> 01:49:59,918
So let's add projects

2219
01:49:56,960 --> 01:50:01,599
and uh in this projects I'll write

2220
01:49:59,920 --> 01:50:05,439
include

2221
01:50:01,600 --> 01:50:07,678
and here we'll add the task property. So

2222
01:50:05,439 --> 01:50:11,599
just add task

2223
01:50:07,679 --> 01:50:14,159
and uh in this task I'll add include

2224
01:50:11,600 --> 01:50:18,040
and provide the

2225
01:50:14,158 --> 01:50:18,038
assigne true.

2226
01:50:18,319 --> 01:50:23,637
Then we'll provide the comments property

2227
01:50:20,639 --> 01:50:23,639
here.

2228
01:50:24,000 --> 01:50:29,799
And in this comments property, let's add

2229
01:50:26,800 --> 01:50:29,800
include.

2230
01:50:30,238 --> 01:50:35,959
And uh here we'll add user true.

2231
01:50:36,079 --> 01:50:41,039
After this task here we'll provide the

2232
01:50:38,639 --> 01:50:45,679
members.

2233
01:50:41,039 --> 01:50:48,638
In this members just add include

2234
01:50:45,679 --> 01:50:53,119
user true. That's it.

2235
01:50:48,639 --> 01:50:55,280
And uh after that here we'll add

2236
01:50:53,118 --> 01:51:00,318
comma

2237
01:50:55,279 --> 01:51:03,599
owner property and let's make it true

2238
01:51:00,319 --> 01:51:05,197
and uh after that here simply add

2239
01:51:03,600 --> 01:51:07,760
response

2240
01:51:05,198 --> 01:51:13,079
dot JSON

2241
01:51:07,760 --> 01:51:13,080
and uh simply provide this workspaces.

2242
01:51:13,118 --> 01:51:16,638
So in this response we will return the

2243
01:51:15,118 --> 01:51:18,638
workspaces.

2244
01:51:16,639 --> 01:51:20,639
After that

2245
01:51:18,639 --> 01:51:22,879
let's come to the catch block. If any

2246
01:51:20,639 --> 01:51:25,360
error occurs in the try block then catch

2247
01:51:22,880 --> 01:51:28,158
block will be executed. So here we will

2248
01:51:25,359 --> 01:51:31,278
display the message in console. So just

2249
01:51:28,158 --> 01:51:32,959
add console log and provide this error.

2250
01:51:31,279 --> 01:51:36,157
After that we will send the response

2251
01:51:32,960 --> 01:51:39,280
also. So just add response dot

2252
01:51:36,158 --> 01:51:42,318
a status.

2253
01:51:39,279 --> 01:51:43,918
And in the status let's add the code

2254
01:51:42,319 --> 01:51:47,597
500.

2255
01:51:43,920 --> 01:51:50,238
Then we'll add dot JSON

2256
01:51:47,599 --> 01:51:53,280
and uh here we will add the message. So

2257
01:51:50,238 --> 01:51:57,039
I'll write message property. It will be

2258
01:51:53,279 --> 01:51:59,918
error doc code or error dossage.

2259
01:51:57,039 --> 01:52:02,157
That's it. So here we have created the

2260
01:51:59,920 --> 01:52:05,198
controller function. Using that we can

2261
01:52:02,158 --> 01:52:08,879
get the workspaces for a particular

2262
01:52:05,198 --> 01:52:11,039
user. Right? Now we'll add one more

2263
01:52:08,880 --> 01:52:14,239
controller function. So here we'll add

2264
01:52:11,039 --> 01:52:17,117
the comment first that is add member to

2265
01:52:14,238 --> 01:52:19,039
workspace and here let's create the

2266
01:52:17,118 --> 01:52:21,839
function with the name add member. So

2267
01:52:19,039 --> 01:52:24,638
just add export const add member equal

2268
01:52:21,840 --> 01:52:27,118
to asynchronous addo function and in the

2269
01:52:24,639 --> 01:52:30,320
function parameter let's get the request

2270
01:52:27,118 --> 01:52:33,198
and response. After that add the try

2271
01:52:30,319 --> 01:52:35,519
catch a statement and in this catch

2272
01:52:33,198 --> 01:52:38,238
block again we'll add the same code. So

2273
01:52:35,520 --> 01:52:41,119
just copy this one and paste it here. We

2274
01:52:38,238 --> 01:52:45,198
have added console log error and

2275
01:52:41,118 --> 01:52:46,879
response dot status 500 and then JSON

2276
01:52:45,198 --> 01:52:49,759
message property and the message

2277
01:52:46,880 --> 01:52:52,639
property will be either error docode or

2278
01:52:49,760 --> 01:52:55,519
error dot message.

2279
01:52:52,639 --> 01:52:58,480
Now come to this try block. Now in this

2280
01:52:55,520 --> 01:53:01,359
try block again we need the user ID. So

2281
01:52:58,479 --> 01:53:04,318
I'll just copy this statement and paste

2282
01:53:01,359 --> 01:53:09,839
it here. So first we'll get the user id

2283
01:53:04,319 --> 01:53:15,358
from the request dot o function. After

2284
01:53:09,840 --> 01:53:18,879
that let's add const email ro workspace

2285
01:53:15,359 --> 01:53:23,198
id and message. Let's get all these data

2286
01:53:18,880 --> 01:53:26,158
from request dot body because we are

2287
01:53:23,198 --> 01:53:29,518
adding the user right. So for adding the

2288
01:53:26,158 --> 01:53:31,438
user we need the email role workspace ID

2289
01:53:29,520 --> 01:53:33,520
and the message.

2290
01:53:31,439 --> 01:53:37,919
Now after that let's add the comment

2291
01:53:33,520 --> 01:53:40,399
here that is check if user exist. So

2292
01:53:37,920 --> 01:53:44,479
I'll write const

2293
01:53:40,399 --> 01:53:51,279
user equal to await and here we will use

2294
01:53:44,479 --> 01:53:53,998
prisma dot user table dot find unique

2295
01:53:51,279 --> 01:53:55,678
and after that let's add the where

2296
01:53:54,000 --> 01:53:58,719
property

2297
01:53:55,679 --> 01:54:01,039
and provide the email. So we have

2298
01:53:58,719 --> 01:54:04,159
provided the email so that we will get

2299
01:54:01,039 --> 01:54:06,878
to know that user exist or not. So here

2300
01:54:04,158 --> 01:54:09,999
we'll add the if statement and write not

2301
01:54:06,880 --> 01:54:12,880
of user. Suppose the user does not exist

2302
01:54:10,000 --> 01:54:16,799
with this email id. So in this case we

2303
01:54:12,880 --> 01:54:20,239
will return the response. So just add

2304
01:54:16,800 --> 01:54:21,1000
return response do a status and provide

2305
01:54:20,238 --> 01:54:25,678
4.4.

2306
01:54:22,000 --> 01:54:31,759
then dot JSON method and here we'll add

2307
01:54:25,679 --> 01:54:34,320
the message that is user not found.

2308
01:54:31,760 --> 01:54:37,119
Now suppose the user is available. So

2309
01:54:34,319 --> 01:54:41,118
here we will check for the

2310
01:54:37,118 --> 01:54:43,438
workspace and role. So let's add the if

2311
01:54:41,118 --> 01:54:49,999
statement

2312
01:54:43,439 --> 01:54:53,759
if not of workspace ID or

2313
01:54:50,000 --> 01:54:57,118
not of role. So if we are not getting

2314
01:54:53,760 --> 01:55:00,080
the workspace ID or ro data in the

2315
01:54:57,118 --> 01:55:02,637
request body. So in that case we cannot

2316
01:55:00,079 --> 01:55:04,958
add the user. Right? So here also we'll

2317
01:55:02,639 --> 01:55:09,520
add this statement

2318
01:55:04,960 --> 01:55:12,080
return response do a status 400

2319
01:55:09,520 --> 01:55:14,560
and then we'll add the JSON and provide

2320
01:55:12,079 --> 01:55:17,559
the message that is missing required

2321
01:55:14,560 --> 01:55:17,560
parameters.

2322
01:55:18,880 --> 01:55:24,080
Now suppose the user is available,

2323
01:55:21,118 --> 01:55:26,959
workspace ID is available, role is also

2324
01:55:24,079 --> 01:55:30,718
available. After that here we'll add

2325
01:55:26,960 --> 01:55:33,360
another if statement. if

2326
01:55:30,719 --> 01:55:36,320
not of

2327
01:55:33,359 --> 01:55:40,637
and then we'll add the array and in this

2328
01:55:36,319 --> 01:55:43,918
one we'll add the admin and member.

2329
01:55:40,639 --> 01:55:48,320
There are two elements admin and member

2330
01:55:43,920 --> 01:55:51,679
and here we'll add dot includes

2331
01:55:48,319 --> 01:55:54,718
and ro

2332
01:55:51,679 --> 01:55:59,119
right. So the role which is provided

2333
01:55:54,719 --> 01:56:01,760
here does not includes either admin or

2334
01:55:59,118 --> 01:56:04,558
member. In that case we cannot add it.

2335
01:56:01,760 --> 01:56:07,199
So here we'll add the statement called

2336
01:56:04,560 --> 01:56:10,319
this one. So I'll just copy and paste it

2337
01:56:07,198 --> 01:56:13,518
here. And here also we'll add the status

2338
01:56:10,319 --> 01:56:16,958
400 then JSON and in the message we'll

2339
01:56:13,520 --> 01:56:19,920
add invalid role. So if the role is

2340
01:56:16,960 --> 01:56:22,559
neither admin or member then we will

2341
01:56:19,920 --> 01:56:25,360
return this response. Now suppose the

2342
01:56:22,560 --> 01:56:28,960
role is also correct either role is

2343
01:56:25,359 --> 01:56:31,839
admin or member. So in that case

2344
01:56:28,960 --> 01:56:37,199
we will fetch the workspace. So I'll

2345
01:56:31,840 --> 01:56:42,359
write the comment here fetch workspace

2346
01:56:37,198 --> 01:56:42,358
and after that let's add const

2347
01:56:42,800 --> 01:56:51,839
workspace equal to await

2348
01:56:47,520 --> 01:56:55,119
then prisma dot workspace

2349
01:56:51,840 --> 01:56:57,679
dot find unique

2350
01:56:55,118 --> 01:57:00,637
and in this one let's add the where

2351
01:56:57,679 --> 01:57:06,239
property and provide

2352
01:57:00,639 --> 01:57:08,799
ID ID and the id will be workspace ID.

2353
01:57:06,238 --> 01:57:12,319
Right? And after this object provide the

2354
01:57:08,800 --> 01:57:17,598
comma and provide includes or include

2355
01:57:12,319 --> 01:57:20,319
and in this one just add the members

2356
01:57:17,599 --> 01:57:23,360
true.

2357
01:57:20,319 --> 01:57:25,359
So here we'll get the workspace and

2358
01:57:23,359 --> 01:57:29,519
after that we'll add the if statement

2359
01:57:25,359 --> 01:57:32,399
and write not of workspace.

2360
01:57:29,520 --> 01:57:35,678
Suppose we could not find the workspace.

2361
01:57:32,399 --> 01:57:38,958
So let's send the response here. So I'll

2362
01:57:35,679 --> 01:57:40,879
write return response do a status for

2363
01:57:38,960 --> 01:57:43,1000
not four.

2364
01:57:40,880 --> 01:57:46,639
Then JSON and the message is workspace

2365
01:57:44,000 --> 01:57:50,238
not found.

2366
01:57:46,639 --> 01:57:54,719
After that here we'll add the another

2367
01:57:50,238 --> 01:57:57,198
comment check creator has admin role.

2368
01:57:54,719 --> 01:57:59,440
Now suppose the workspace is available

2369
01:57:57,198 --> 01:58:02,398
then we have to check the creator is

2370
01:57:59,439 --> 01:58:05,038
admin or not. If the creator is admin

2371
01:58:02,399 --> 01:58:07,278
then only they can add the member. So

2372
01:58:05,039 --> 01:58:10,079
here let's add the if statement and

2373
01:58:07,279 --> 01:58:12,559
provide not of

2374
01:58:10,079 --> 01:58:15,678
workspace dot

2375
01:58:12,560 --> 01:58:18,718
members dot

2376
01:58:15,679 --> 01:58:20,639
and here we'll use the find method.

2377
01:58:18,719 --> 01:58:23,638
In this one, let's add the add a

2378
01:58:20,639 --> 01:58:23,639
function

2379
01:58:25,039 --> 01:58:33,118
and provide the individual member here.

2380
01:58:29,359 --> 01:58:36,479
And then it will return the member dot

2381
01:58:33,118 --> 01:58:39,839
user ID

2382
01:58:36,479 --> 01:58:45,718
equal to user ID.

2383
01:58:39,840 --> 01:58:45,718
Then operator and here we will add

2384
01:58:46,000 --> 01:58:52,080
member dot ro

2385
01:58:49,359 --> 01:58:54,637
equal to

2386
01:58:52,079 --> 01:58:58,559
admin.

2387
01:58:54,639 --> 01:59:00,320
So when it is true in that case just add

2388
01:58:58,560 --> 01:59:02,718
return

2389
01:59:00,319 --> 01:59:07,759
and let me just copy this one paste it

2390
01:59:02,719 --> 01:59:10,159
here response do a status 4 not one and

2391
01:59:07,760 --> 01:59:12,319
then we'll add the JSON and provide the

2392
01:59:10,158 --> 01:59:14,799
message

2393
01:59:12,319 --> 01:59:17,838
that is

2394
01:59:14,800 --> 01:59:21,599
you don't have admin privileges

2395
01:59:17,840 --> 01:59:25,359
here we have added not operator right

2396
01:59:21,599 --> 01:59:29,198
now suppose the user have the admin

2397
01:59:25,359 --> 01:59:32,637
permission. So in this case

2398
01:59:29,198 --> 01:59:34,799
let me add another comment. So I'll

2399
01:59:32,639 --> 01:59:37,520
write

2400
01:59:34,800 --> 01:59:39,678
check if user is already a member.

2401
01:59:37,520 --> 01:59:43,359
Suppose we are trying to add a user in

2402
01:59:39,679 --> 01:59:46,560
the organization and that user is

2403
01:59:43,359 --> 01:59:48,559
already member in that organization. So

2404
01:59:46,560 --> 01:59:50,080
first we have to check that. So just add

2405
01:59:48,560 --> 01:59:53,520
const

2406
01:59:50,079 --> 01:59:56,878
and provide existing member

2407
01:59:53,520 --> 01:59:58,638
equal to workspace

2408
01:59:56,880 --> 02:00:02,719
dot

2409
01:59:58,639 --> 02:00:04,959
members dot find method. And here we'll

2410
02:00:02,719 --> 02:00:08,238
add the add function and provide the

2411
02:00:04,960 --> 02:00:11,280
individual member in the parameter.

2412
02:00:08,238 --> 02:00:17,998
And after that here we'll add the member

2413
02:00:11,279 --> 02:00:20,157
dot user id equal to user id like this.

2414
02:00:18,000 --> 02:00:24,799
And after that here we'll add the if

2415
02:00:20,158 --> 02:00:27,358
statement. If this existing member is

2416
02:00:24,800 --> 02:00:29,678
true in this case again we will return

2417
02:00:27,359 --> 02:00:34,399
this response. So just copy and paste it

2418
02:00:29,679 --> 02:00:37,839
here. that is return dot a status 400

2419
02:00:34,399 --> 02:00:42,399
then JSON and in the message we'll add

2420
02:00:37,840 --> 02:00:44,960
user is already a member

2421
02:00:42,399 --> 02:00:47,759
like this. Now suppose the user is not

2422
02:00:44,960 --> 02:00:51,280
the member of this organization then we

2423
02:00:47,760 --> 02:00:55,119
have to add it in the members list. For

2424
02:00:51,279 --> 02:00:59,038
that here let's add con

2425
02:00:55,118 --> 02:01:01,759
member equal to

2426
02:00:59,039 --> 02:01:04,399
await and after that let's add the

2427
02:01:01,760 --> 02:01:06,080
prisma

2428
02:01:04,399 --> 02:01:10,078
dot

2429
02:01:06,079 --> 02:01:13,519
workspace member table dot create. Here

2430
02:01:10,079 --> 02:01:15,678
we'll create a new data or entry. Now

2431
02:01:13,520 --> 02:01:20,079
here we'll add the data property and in

2432
02:01:15,679 --> 02:01:23,919
this data property provide the user ID.

2433
02:01:20,079 --> 02:01:26,079
In this user id just add the user dot

2434
02:01:23,920 --> 02:01:28,799
id. After that we have to provide the

2435
02:01:26,079 --> 02:01:31,519
workspace ID.

2436
02:01:28,800 --> 02:01:34,080
Then we will provide the role

2437
02:01:31,520 --> 02:01:35,598
and after that we will provide the

2438
02:01:34,079 --> 02:01:38,559
message.

2439
02:01:35,599 --> 02:01:40,639
That's it. So this data will get saved

2440
02:01:38,560 --> 02:01:46,598
in the database and after that we can

2441
02:01:40,639 --> 02:01:46,599
send the response. So let's add this

2442
02:01:46,960 --> 02:01:51,599
response status. I'll just copy this

2443
02:01:49,039 --> 02:01:54,157
paste it here. We will write response a

2444
02:01:51,599 --> 02:01:57,520
status or let me remove this a status.

2445
02:01:54,158 --> 02:02:01,677
We will simply add response dot JSON and

2446
02:01:57,520 --> 02:02:03,678
in this one we have to provide the

2447
02:02:01,679 --> 02:02:05,839
member. Let me just copy this member.

2448
02:02:03,679 --> 02:02:07,760
Paste it here. Then add comma. So we

2449
02:02:05,840 --> 02:02:09,840
have provided the member and with that

2450
02:02:07,760 --> 02:02:13,439
we'll also add the message and in the

2451
02:02:09,840 --> 02:02:16,479
message let's type member added

2452
02:02:13,439 --> 02:02:19,118
successfully. So we have created this

2453
02:02:16,479 --> 02:02:22,479
controller function that will add a new

2454
02:02:19,118 --> 02:02:24,158
member in the workspace

2455
02:02:22,479 --> 02:02:27,677
and here we have created another

2456
02:02:24,158 --> 02:02:31,118
function to get all workspaces of any

2457
02:02:27,679 --> 02:02:33,999
user. Now for these controller function

2458
02:02:31,118 --> 02:02:37,677
we have to create the API endpoint. For

2459
02:02:34,000 --> 02:02:41,440
that we have to create the routes right.

2460
02:02:37,679 --> 02:02:43,360
So here we have to create a folder. So

2461
02:02:41,439 --> 02:02:48,439
in this server folder we'll create

2462
02:02:43,359 --> 02:02:48,439
another folder called routes.

2463
02:02:49,520 --> 02:02:53,439
In this routes folder we'll create a

2464
02:02:51,439 --> 02:02:58,519
file. So we'll create a new file and

2465
02:02:53,439 --> 02:02:58,519
write the file name workspace routes.js.

2466
02:03:02,079 --> 02:03:09,878
Now in this one first we have to import

2467
02:03:05,118 --> 02:03:09,879
the express. So let's add import

2468
02:03:10,560 --> 02:03:16,479
express from the express package. Using

2469
02:03:13,039 --> 02:03:20,878
this express package we will create the

2470
02:03:16,479 --> 02:03:23,677
router. So I'll write const workspace

2471
02:03:20,880 --> 02:03:27,519
router equal to

2472
02:03:23,679 --> 02:03:29,360
express dot router.

2473
02:03:27,520 --> 02:03:31,040
Now we have created a router. In this

2474
02:03:29,359 --> 02:03:33,359
router we will define different

2475
02:03:31,039 --> 02:03:36,798
endpoint. So let's write workspace

2476
02:03:33,359 --> 02:03:38,637
router dot get method and in this one

2477
02:03:36,800 --> 02:03:40,800
first we have to provide the path it

2478
02:03:38,639 --> 02:03:42,239
will be slash and after that we'll add

2479
02:03:40,800 --> 02:03:46,718
the controller function. So the

2480
02:03:42,238 --> 02:03:50,318
controller function name is get

2481
02:03:46,719 --> 02:03:52,560
user workspaces and it has been imported

2482
02:03:50,319 --> 02:03:56,799
from this controllers folder. Write the

2483
02:03:52,560 --> 02:03:59,359
file name extension js.

2484
02:03:56,800 --> 02:04:01,840
Right after that let me just duplicate

2485
02:03:59,359 --> 02:04:05,998
this line. And in this one we will

2486
02:04:01,840 --> 02:04:08,080
change the type. It will be post.

2487
02:04:06,000 --> 02:04:10,320
This is the get method and this one is

2488
02:04:08,079 --> 02:04:15,079
the post method. Here we'll add the

2489
02:04:10,319 --> 02:04:15,078
path. So the path will be add member

2490
02:04:15,439 --> 02:04:20,958
/ add member. And here we'll add the

2491
02:04:17,840 --> 02:04:22,718
controller function that is add member.

2492
02:04:20,960 --> 02:04:25,440
Add member controller function has been

2493
02:04:22,719 --> 02:04:27,598
imported here.

2494
02:04:25,439 --> 02:04:30,238
After that we have to export this router

2495
02:04:27,599 --> 02:04:34,400
from this file. So let's add export

2496
02:04:30,238 --> 02:04:36,638
default and workspace router. That's it.

2497
02:04:34,399 --> 02:04:39,677
Now we have to add this workspace router

2498
02:04:36,639 --> 02:04:44,719
in our main file that is server.js file.

2499
02:04:39,679 --> 02:04:48,320
So let's open server.js. Scroll down

2500
02:04:44,719 --> 02:04:52,638
and uh in this one you can see here we

2501
02:04:48,319 --> 02:04:55,038
have this inest route. So after that

2502
02:04:52,639 --> 02:04:56,559
let's add other routes. So here we'll

2503
02:04:55,039 --> 02:04:59,039
add

2504
02:04:56,560 --> 02:05:03,678
comment

2505
02:04:59,039 --> 02:05:08,999
routes and we'll add app dot use and uh

2506
02:05:03,679 --> 02:05:08,999
let's add the path here that is / API/

2507
02:05:10,479 --> 02:05:13,479
workspaces

2508
02:05:14,158 --> 02:05:21,518
and after that let's provide this

2509
02:05:18,319 --> 02:05:23,918
workspace router and now you can see

2510
02:05:21,520 --> 02:05:26,718
this workspace router has been imported

2511
02:05:23,920 --> 02:05:30,158
here

2512
02:05:26,719 --> 02:05:32,560
right now. In this one, we have to add a

2513
02:05:30,158 --> 02:05:35,759
middleware also. We will create a custom

2514
02:05:32,560 --> 02:05:37,840
middleware that will protect this route.

2515
02:05:35,760 --> 02:05:42,080
For that, let's come here in this

2516
02:05:37,840 --> 02:05:44,080
sidebar. And uh after that, here

2517
02:05:42,079 --> 02:05:46,237
in this server folder, we'll create a

2518
02:05:44,079 --> 02:05:49,237
new folder and type the folder name

2519
02:05:46,238 --> 02:05:49,238
middlewares.

2520
02:05:51,520 --> 02:05:57,119
In this middleware folder, we'll create

2521
02:05:53,520 --> 02:06:00,119
a new file and write the file name o

2522
02:05:57,118 --> 02:06:00,118
middleware.js.

2523
02:06:02,158 --> 02:06:05,519
And here we'll create the middleware

2524
02:06:03,760 --> 02:06:08,800
function with the name protect. So just

2525
02:06:05,520 --> 02:06:11,279
add export const protect equal to

2526
02:06:08,800 --> 02:06:13,519
asynchronous add function. And in this

2527
02:06:11,279 --> 02:06:17,197
function parameter we'll get request

2528
02:06:13,520 --> 02:06:19,760
response and next function. After that

2529
02:06:17,198 --> 02:06:22,319
here we'll add the try catch statement.

2530
02:06:19,760 --> 02:06:25,279
Now in this try block first we'll get

2531
02:06:22,319 --> 02:06:30,717
the user ID. So let's add const curly

2532
02:06:25,279 --> 02:06:34,157
braces user id equal to await. And here

2533
02:06:30,719 --> 02:06:38,039
we will use the request

2534
02:06:34,158 --> 02:06:38,038
and from this request

2535
02:06:39,279 --> 02:06:44,559
we will get the user ID using this o

2536
02:06:42,639 --> 02:06:46,959
function.

2537
02:06:44,560 --> 02:06:49,279
Right now we'll add the if statement

2538
02:06:46,960 --> 02:06:52,960
that will check the user ID is available

2539
02:06:49,279 --> 02:06:55,279
or not. So just add not of user ID. It

2540
02:06:52,960 --> 02:06:58,479
means when the user ID is not available

2541
02:06:55,279 --> 02:07:01,279
in that case we will stop this function.

2542
02:06:58,479 --> 02:07:04,637
So just add return and we'll send the

2543
02:07:01,279 --> 02:07:07,759
response using response a status for not

2544
02:07:04,639 --> 02:07:10,320
one. And then we'll add the JSON

2545
02:07:07,760 --> 02:07:12,960
and in this JSON we'll add the message

2546
02:07:10,319 --> 02:07:15,678
that is unauthorized.

2547
02:07:12,960 --> 02:07:18,799
And suppose the user ID is available. In

2548
02:07:15,679 --> 02:07:21,999
that case we will add return

2549
02:07:18,800 --> 02:07:25,199
and it will call the next function.

2550
02:07:22,000 --> 02:07:28,320
That's it. Now come to this catch block.

2551
02:07:25,198 --> 02:07:31,919
So here we'll add the same console log

2552
02:07:28,319 --> 02:07:36,158
error and after that we'll add return

2553
02:07:31,920 --> 02:07:38,238
dot a status 4.1 and then JSON and here

2554
02:07:36,158 --> 02:07:40,959
we'll add the message. It will be error

2555
02:07:38,238 --> 02:07:43,919
docode or error dot message. That's it.

2556
02:07:40,960 --> 02:07:47,040
So we have created a protect middleware.

2557
02:07:43,920 --> 02:07:49,280
So what will happen when we will hit any

2558
02:07:47,039 --> 02:07:51,598
route then this protect middleware will

2559
02:07:49,279 --> 02:07:54,078
be executed first and it will check when

2560
02:07:51,599 --> 02:07:56,480
we have the user ID available then only

2561
02:07:54,078 --> 02:07:58,879
it will execute our controller function.

2562
02:07:56,479 --> 02:08:01,358
If I come here in this server.js you can

2563
02:07:58,880 --> 02:08:04,078
see we have this path and after that we

2564
02:08:01,359 --> 02:08:05,839
have this router right. So before

2565
02:08:04,078 --> 02:08:07,998
executing the controller function on

2566
02:08:05,840 --> 02:08:10,479
this router we have to add that protect

2567
02:08:08,000 --> 02:08:14,480
middleware that will protect this route.

2568
02:08:10,479 --> 02:08:16,879
So here let's add

2569
02:08:14,479 --> 02:08:19,919
protect. Let's import it from the

2570
02:08:16,880 --> 02:08:21,840
middleares folder. Add the comma here.

2571
02:08:19,920 --> 02:08:23,598
And after that you can see this protect

2572
02:08:21,840 --> 02:08:25,118
has been imported from this o

2573
02:08:23,599 --> 02:08:27,599
middleware.js.

2574
02:08:25,118 --> 02:08:29,839
Now what is happening here when we hit

2575
02:08:27,599 --> 02:08:31,759
this route first it will execute this

2576
02:08:29,840 --> 02:08:34,559
protect middleware and it will check for

2577
02:08:31,760 --> 02:08:37,040
the user ID. If the user ID is available

2578
02:08:34,560 --> 02:08:39,040
then only it will come to the controller

2579
02:08:37,039 --> 02:08:40,478
function. Like we have this controller

2580
02:08:39,039 --> 02:08:42,237
function here. In this controller

2581
02:08:40,479 --> 02:08:44,479
function you can see we need this user

2582
02:08:42,238 --> 02:08:46,077
ID. Right? So if the user ID is not

2583
02:08:44,479 --> 02:08:48,157
available it will not come to this

2584
02:08:46,078 --> 02:08:50,478
controller function. It will return the

2585
02:08:48,158 --> 02:08:52,959
response that is unauthorized using this

2586
02:08:50,479 --> 02:08:55,677
protect middleware. So we have created

2587
02:08:52,960 --> 02:08:58,960
the controller function and we have

2588
02:08:55,679 --> 02:09:03,440
created the API to get the workspaces

2589
02:08:58,960 --> 02:09:06,719
data and add the member in workspace.

2590
02:09:03,439 --> 02:09:09,038
After creating the API for workspaces.

2591
02:09:06,719 --> 02:09:12,480
Now let's enable the workspace

2592
02:09:09,039 --> 02:09:14,958
functionality in our front end. For that

2593
02:09:12,479 --> 02:09:17,759
let me close all these files. So I'll

2594
02:09:14,960 --> 02:09:20,400
right click and select close saved. It

2595
02:09:17,760 --> 02:09:22,960
will close all the files. And here we

2596
02:09:20,399 --> 02:09:25,918
have the server folder. Let's collapse

2597
02:09:22,960 --> 02:09:29,280
it. And now we will expand the client

2598
02:09:25,920 --> 02:09:33,280
folder where we have the front end. Now

2599
02:09:29,279 --> 02:09:36,798
in this client folder if I open the src

2600
02:09:33,279 --> 02:09:39,597
and then we will open the features and

2601
02:09:36,800 --> 02:09:43,760
in this features we have workspace

2602
02:09:39,599 --> 02:09:47,280
slice.js file. Let's open it.

2603
02:09:43,760 --> 02:09:49,920
Now in this file you can see

2604
02:09:47,279 --> 02:09:52,638
here we have the initial state for

2605
02:09:49,920 --> 02:09:56,238
workspaces. So in this one we have added

2606
02:09:52,639 --> 02:09:59,119
the dummy data right you can see dummy

2607
02:09:56,238 --> 02:10:03,039
workspaces that is available in our

2608
02:09:59,118 --> 02:10:05,358
asset right. So let me just remove it

2609
02:10:03,039 --> 02:10:07,197
here we will initialize it using empty

2610
02:10:05,359 --> 02:10:09,759
array.

2611
02:10:07,198 --> 02:10:12,077
Then we have the current workspaces or

2612
02:10:09,760 --> 02:10:14,479
current workspace. So in this current

2613
02:10:12,078 --> 02:10:17,999
workspace we have added the workspaces

2614
02:10:14,479 --> 02:10:20,158
index one. So I will remove it and here

2615
02:10:18,000 --> 02:10:22,960
we will add null. So the current

2616
02:10:20,158 --> 02:10:26,879
workspace will be null and the loading

2617
02:10:22,960 --> 02:10:29,040
will be false. Right?

2618
02:10:26,880 --> 02:10:32,559
Now in this file we'll add the reducer

2619
02:10:29,039 --> 02:10:36,558
function. Using that we can add the data

2620
02:10:32,560 --> 02:10:39,439
in the workspaces state. Right? So here

2621
02:10:36,560 --> 02:10:42,399
you can see we have the workspaces or

2622
02:10:39,439 --> 02:10:45,278
workspace slice where we have the name

2623
02:10:42,399 --> 02:10:47,198
initial state and reducers. So here we

2624
02:10:45,279 --> 02:10:50,718
have multiple reducers like set

2625
02:10:47,198 --> 02:10:54,158
workspaces, set current workspace, add

2626
02:10:50,719 --> 02:10:57,520
workspace, update workspace,

2627
02:10:54,158 --> 02:10:59,919
then delete workspace and add project,

2628
02:10:57,520 --> 02:11:03,039
then add task.

2629
02:10:59,920 --> 02:11:06,238
After that here we have the update task

2630
02:11:03,039 --> 02:11:07,999
and then we have the delete task. So we

2631
02:11:06,238 --> 02:11:10,959
have these

2632
02:11:08,000 --> 02:11:14,719
functions in the reducer. Now we'll add

2633
02:11:10,960 --> 02:11:17,679
one extra reducer. So

2634
02:11:14,719 --> 02:11:21,039
let's come here and uh we'll add the

2635
02:11:17,679 --> 02:11:23,119
comma here and provide the

2636
02:11:21,039 --> 02:11:25,678
extra reducers

2637
02:11:23,118 --> 02:11:28,677
and in this one we'll add the add a

2638
02:11:25,679 --> 02:11:28,679
function

2639
02:11:28,960 --> 02:11:33,599
like this.

2640
02:11:30,880 --> 02:11:35,1000
Now in this parameter we will get

2641
02:11:33,599 --> 02:11:37,919
builder

2642
02:11:36,000 --> 02:11:43,879
and after that within this function

2643
02:11:37,920 --> 02:11:43,880
let's add the builder dot add case.

2644
02:11:44,158 --> 02:11:52,318
Now in this one let's add

2645
02:11:48,960 --> 02:11:54,479
fetch work spaces.

2646
02:11:52,319 --> 02:11:56,878
But before that we have to create this

2647
02:11:54,479 --> 02:11:59,519
function fetch workspaces. So let me

2648
02:11:56,880 --> 02:12:01,599
scroll up. We will create a function

2649
02:11:59,520 --> 02:12:04,800
here using that we can fetch the

2650
02:12:01,599 --> 02:12:07,839
workspaces from the back end. Right? So

2651
02:12:04,800 --> 02:12:09,1000
here before initializing this state

2652
02:12:07,840 --> 02:12:12,239
let's add

2653
02:12:10,000 --> 02:12:14,639
export

2654
02:12:12,238 --> 02:12:16,718
con

2655
02:12:14,639 --> 02:12:18,639
fetch workspaces

2656
02:12:16,719 --> 02:12:22,320
equal to

2657
02:12:18,639 --> 02:12:24,400
create a sync thunk. This create a sync

2658
02:12:22,319 --> 02:12:27,399
thunk has been imported from

2659
02:12:24,399 --> 02:12:27,399
reduxjs/toolkit.

2660
02:12:28,078 --> 02:12:32,959
Now in this one

2661
02:12:30,880 --> 02:12:35,519
let's add the text called

2662
02:12:32,960 --> 02:12:38,519
workspace/fetch

2663
02:12:35,520 --> 02:12:38,520
workspaces.

2664
02:12:38,639 --> 02:12:44,719
After that we'll add the comma here and

2665
02:12:41,520 --> 02:12:47,678
provide the asynchronous add function.

2666
02:12:44,719 --> 02:12:51,840
Now in this function parameter we will

2667
02:12:47,679 --> 02:12:53,360
add the get token. So let's add curly

2668
02:12:51,840 --> 02:12:56,479
braces

2669
02:12:53,359 --> 02:12:58,878
get token and within this function we

2670
02:12:56,479 --> 02:13:01,358
will add the try catch a statement. Now

2671
02:12:58,880 --> 02:13:03,840
in this try block we will make the API

2672
02:13:01,359 --> 02:13:05,918
call to

2673
02:13:03,840 --> 02:13:08,800
get the

2674
02:13:05,920 --> 02:13:13,360
workspaces data right and to make the

2675
02:13:08,800 --> 02:13:14,880
API call here we are going to use the

2676
02:13:13,359 --> 02:13:17,198
Axio's

2677
02:13:14,880 --> 02:13:20,799
package right so first we have to

2678
02:13:17,198 --> 02:13:23,759
install it we will open the terminal

2679
02:13:20,800 --> 02:13:26,399
and uh you can see this is the backend

2680
02:13:23,760 --> 02:13:29,359
terminal right let me change it I'll

2681
02:13:26,399 --> 02:13:32,399
come to front end terminal

2682
02:13:29,359 --> 02:13:35,359
Now in this one the project is running.

2683
02:13:32,399 --> 02:13:38,078
So just add Ctrl C to stop it. And after

2684
02:13:35,359 --> 02:13:40,878
that we'll add npm

2685
02:13:38,078 --> 02:13:43,278
install

2686
02:13:40,880 --> 02:13:48,439
and we will write the package name. So

2687
02:13:43,279 --> 02:13:48,439
the package name is Axios

2688
02:13:48,639 --> 02:13:55,999
npm install Axios and let's press enter.

2689
02:13:54,078 --> 02:13:58,717
So this exhaust package has been

2690
02:13:56,000 --> 02:14:01,839
installed and after that we have to add

2691
02:13:58,719 --> 02:14:05,440
the back end URL also. So let me start

2692
02:14:01,840 --> 02:14:09,280
the project again using npm rundev

2693
02:14:05,439 --> 02:14:12,399
and uh after that

2694
02:14:09,279 --> 02:14:14,718
we will come here in this client folder

2695
02:14:12,399 --> 02:14:17,918
we'll create a file. So create a new

2696
02:14:14,719 --> 02:14:19,520
file and write the file name

2697
02:14:17,920 --> 02:14:22,519
where we will store the environment

2698
02:14:19,520 --> 02:14:22,520
variables.

2699
02:14:23,679 --> 02:14:29,039
So this env file is already available

2700
02:14:26,639 --> 02:14:31,440
here. So we cannot create it. Let's open

2701
02:14:29,039 --> 02:14:34,319
this env file. It is already available.

2702
02:14:31,439 --> 02:14:36,559
We have added the color publishable key

2703
02:14:34,319 --> 02:14:39,038
in this file. Now in this one we have to

2704
02:14:36,560 --> 02:14:41,279
add the base URL or backend URL. So

2705
02:14:39,039 --> 02:14:44,077
let's add wheat_base

2706
02:14:41,279 --> 02:14:47,519
URL equal to and you can see the backend

2707
02:14:44,078 --> 02:14:50,238
server is running at this URL localhost

2708
02:14:47,520 --> 02:14:53,279
col 5,000. So just copy and paste it

2709
02:14:50,238 --> 02:14:55,279
here. Now in this one we have this

2710
02:14:53,279 --> 02:14:57,439
forward slash at the end. So make sure

2711
02:14:55,279 --> 02:15:00,319
to remove this. It should end with this

2712
02:14:57,439 --> 02:15:04,399
number. Save the changes. So now we have

2713
02:15:00,319 --> 02:15:07,838
the base URL. And after that

2714
02:15:04,399 --> 02:15:09,677
we will create a file here where we will

2715
02:15:07,840 --> 02:15:13,519
add the

2716
02:15:09,679 --> 02:15:17,598
axios and in that axio we will add the

2717
02:15:13,520 --> 02:15:19,840
base URL. So in this src folder let's

2718
02:15:17,599 --> 02:15:23,198
create a new folder and write the folder

2719
02:15:19,840 --> 02:15:26,320
name config

2720
02:15:23,198 --> 02:15:32,399
and in this configs folder let's create

2721
02:15:26,319 --> 02:15:35,438
file and write the file name api dot js.

2722
02:15:32,399 --> 02:15:39,519
Now in this file we have to import the

2723
02:15:35,439 --> 02:15:42,399
axios. So let's add import Axios from

2724
02:15:39,520 --> 02:15:48,078
Axio package and after that we'll add

2725
02:15:42,399 --> 02:15:51,838
const API equal to Axio

2726
02:15:48,078 --> 02:15:54,717
dot create

2727
02:15:51,840 --> 02:15:59,040
and in this one let's provide the base

2728
02:15:54,719 --> 02:16:00,879
URL and in this base URL let's add

2729
02:15:59,039 --> 02:16:04,319
import

2730
02:16:00,880 --> 02:16:08,719
dot meta dot

2731
02:16:04,319 --> 02:16:11,678
env that is environment variable file.

2732
02:16:08,719 --> 02:16:15,760
Then we'll add dot and then we'll add

2733
02:16:11,679 --> 02:16:18,800
the environment variable name wheat base

2734
02:16:15,760 --> 02:16:21,519
URL. Let's add it here. So now we have

2735
02:16:18,800 --> 02:16:24,078
added the base URL in the AIOS and

2736
02:16:21,520 --> 02:16:28,880
created the AIOS with the name API.

2737
02:16:24,078 --> 02:16:31,118
Let's export this API from this file.

2738
02:16:28,880 --> 02:16:33,1000
And after that we can use it in any

2739
02:16:31,118 --> 02:16:35,759
other file. So now I'll open the

2740
02:16:34,000 --> 02:16:39,040
workspace/js

2741
02:16:35,760 --> 02:16:40,880
file and here in this try block we'll

2742
02:16:39,040 --> 02:16:45,599
add const

2743
02:16:40,879 --> 02:16:48,079
curly braces data equal to await and

2744
02:16:45,599 --> 02:16:50,240
here we will use this API import this

2745
02:16:48,079 --> 02:16:53,039
API from the config folder that we have

2746
02:16:50,239 --> 02:16:55,758
just created and after importing this

2747
02:16:53,040 --> 02:17:00,719
API from this config folder here we can

2748
02:16:55,760 --> 02:17:02,638
use dot get method

2749
02:17:00,718 --> 02:17:06,998
and provide the path path. So let's add

2750
02:17:02,638 --> 02:17:06,998
the path here that is / API/workspaces

2751
02:17:08,079 --> 02:17:13,678
and here we have to provide the headers

2752
02:17:10,959 --> 02:17:16,239
to authenticate our request. So let's

2753
02:17:13,679 --> 02:17:19,280
add the headers property and in this

2754
02:17:16,239 --> 02:17:21,838
headers property just add the object. In

2755
02:17:19,280 --> 02:17:23,839
this object we'll add the authorization

2756
02:17:21,840 --> 02:17:25,1000
and in this authorization we have to add

2757
02:17:23,840 --> 02:17:28,160
the token. So first we'll add the

2758
02:17:26,000 --> 02:17:30,799
authorization property here and then

2759
02:17:28,159 --> 02:17:33,838
we'll add the back tick. In this back

2760
02:17:30,799 --> 02:17:36,239
text we'll add beer and then we have to

2761
02:17:33,840 --> 02:17:39,840
insert the token. For that we'll add

2762
02:17:36,239 --> 02:17:42,878
dollar sign curly braces and here we'll

2763
02:17:39,840 --> 02:17:47,519
add await

2764
02:17:42,879 --> 02:17:50,718
and use this get token function

2765
02:17:47,519 --> 02:17:52,959
like this. So it will add the token here

2766
02:17:50,718 --> 02:17:54,718
and it will authenticate the request.

2767
02:17:52,959 --> 02:17:57,279
After that we will get the data. So

2768
02:17:54,718 --> 02:17:59,038
let's add the return statement that is

2769
02:17:57,280 --> 02:18:02,478
return

2770
02:17:59,040 --> 02:18:06,399
data dot workspaces

2771
02:18:02,478 --> 02:18:08,239
or we'll add the empty array.

2772
02:18:06,398 --> 02:18:10,558
If we don't have the data then we'll add

2773
02:18:08,239 --> 02:18:12,718
the empty array. It means there will be

2774
02:18:10,558 --> 02:18:14,638
no workspace. Right? Now come to this

2775
02:18:12,718 --> 02:18:16,477
catch block and here we'll add console

2776
02:18:14,638 --> 02:18:20,718
log

2777
02:18:16,478 --> 02:18:22,638
and in this console log let's add the

2778
02:18:20,718 --> 02:18:25,759
error. So we have added this error

2779
02:18:22,638 --> 02:18:28,557
response data message or error dot

2780
02:18:25,760 --> 02:18:33,279
message. Now here also we'll add the

2781
02:18:28,558 --> 02:18:37,518
return and it will return the empty

2782
02:18:33,280 --> 02:18:40,079
array like this.

2783
02:18:37,519 --> 02:18:42,639
So here we have added fetch workspaces

2784
02:18:40,079 --> 02:18:44,558
that will fetch the workspace data. If

2785
02:18:42,638 --> 02:18:47,357
it is available it will return the list

2786
02:18:44,558 --> 02:18:52,878
of workspaces or it will return the

2787
02:18:47,359 --> 02:18:56,160
empty array. Now let's come here in the

2788
02:18:52,879 --> 02:18:59,119
extra reducers

2789
02:18:56,159 --> 02:19:02,798
and here we have the first case right

2790
02:18:59,120 --> 02:19:05,438
that is add case and in this add case

2791
02:19:02,799 --> 02:19:09,677
let's add this function

2792
02:19:05,439 --> 02:19:12,160
fetch work spaces and then we'll add dot

2793
02:19:09,679 --> 02:19:14,478
pending

2794
02:19:12,159 --> 02:19:17,437
right so then we'll add the comma and

2795
02:19:14,478 --> 02:19:21,638
provide the arrow function

2796
02:19:17,439 --> 02:19:21,639
and here we'll the estate

2797
02:19:21,840 --> 02:19:26,559
and in this add a function we'll add the

2798
02:19:24,959 --> 02:19:29,518
estate

2799
02:19:26,558 --> 02:19:32,159
dot loading and we'll set the loading

2800
02:19:29,519 --> 02:19:34,799
true

2801
02:19:32,159 --> 02:19:36,718
right so if I come here you can see we

2802
02:19:34,799 --> 02:19:38,879
have this

2803
02:19:36,718 --> 02:19:41,357
initial state and in this state we have

2804
02:19:38,879 --> 02:19:45,039
the loading false so we will make it

2805
02:19:41,359 --> 02:19:47,920
true when the state is pending right

2806
02:19:45,040 --> 02:19:50,879
after that again come here we will add

2807
02:19:47,920 --> 02:19:53,359
the next case. Right? So, let me just

2808
02:19:50,879 --> 02:19:55,438
duplicate this.

2809
02:19:53,359 --> 02:19:57,120
We'll add semicolon here and duplicate

2810
02:19:55,439 --> 02:19:59,200
this.

2811
02:19:57,120 --> 02:20:01,919
So, now we have the another case. So,

2812
02:19:59,200 --> 02:20:06,879
just add builder dot add case fetch

2813
02:20:01,920 --> 02:20:09,439
workspaces dot fulfilled.

2814
02:20:06,879 --> 02:20:12,718
Right? Then here we'll add the function

2815
02:20:09,439 --> 02:20:15,120
where we'll get the estate and action.

2816
02:20:12,719 --> 02:20:20,159
So, just add a state and action in the

2817
02:20:15,120 --> 02:20:26,799
parameter. After that here let's add

2818
02:20:20,159 --> 02:20:29,357
a state dot workspaces equal to action

2819
02:20:26,799 --> 02:20:32,558
dot payload.

2820
02:20:29,359 --> 02:20:35,200
So it will set the workspaces. Right now

2821
02:20:32,559 --> 02:20:39,118
we'll add the if statement here. We'll

2822
02:20:35,200 --> 02:20:40,640
add if and we'll add action.p payload

2823
02:20:39,120 --> 02:20:44,560
do.length

2824
02:20:40,639 --> 02:20:47,518
if it is greater than zero. Right? So in

2825
02:20:44,559 --> 02:20:51,118
this case just add const

2826
02:20:47,520 --> 02:20:55,359
and we'll add the local storage here

2827
02:20:51,120 --> 02:20:59,200
right. So let's add con local storage

2828
02:20:55,359 --> 02:21:02,399
current workspace id

2829
02:20:59,200 --> 02:21:05,999
equal to local storage

2830
02:21:02,398 --> 02:21:09,199
dot get item

2831
02:21:06,000 --> 02:21:13,040
and in this one let's add current

2832
02:21:09,200 --> 02:21:17,359
workspace ID. After that here we'll add

2833
02:21:13,040 --> 02:21:19,599
another if statement. So let's add if

2834
02:21:17,359 --> 02:21:22,479
and here we will check for this local

2835
02:21:19,600 --> 02:21:25,920
storage current workspace ID if it is

2836
02:21:22,478 --> 02:21:29,998
available. So in this case we have to

2837
02:21:25,920 --> 02:21:34,240
find the workspace. So let's add the if

2838
02:21:30,000 --> 02:21:37,559
statement here that is const

2839
02:21:34,239 --> 02:21:37,558
find workspace

2840
02:21:37,600 --> 02:21:47,760
equal to action dot payload

2841
02:21:43,840 --> 02:21:51,519
dot find. And in this one let's add the

2842
02:21:47,760 --> 02:21:55,760
add function. Here we'll get the

2843
02:21:51,520 --> 02:21:58,960
individual workspace and it will return

2844
02:21:55,760 --> 02:22:03,040
workspace do ID

2845
02:21:58,959 --> 02:22:04,638
equal to local storage current workspace

2846
02:22:03,040 --> 02:22:06,959
ID.

2847
02:22:04,639 --> 02:22:09,839
Right now here we'll add another if

2848
02:22:06,959 --> 02:22:13,438
statement. So just add if

2849
02:22:09,840 --> 02:22:17,120
this find workspace is true. So in this

2850
02:22:13,439 --> 02:22:19,1000
case let's add the estate dot current

2851
02:22:17,120 --> 02:22:23,039
workspace and in this current workspace

2852
02:22:20,000 --> 02:22:25,120
we will set the

2853
02:22:23,040 --> 02:22:27,040
find workspace.

2854
02:22:25,120 --> 02:22:30,318
So this

2855
02:22:27,040 --> 02:22:32,879
statement will set the current workspace

2856
02:22:30,318 --> 02:22:34,798
in this state. Right? After that we'll

2857
02:22:32,879 --> 02:22:37,119
add the else statement also. Let's add

2858
02:22:34,799 --> 02:22:39,039
the else statement here. In this one,

2859
02:22:37,120 --> 02:22:42,318
we'll add

2860
02:22:39,040 --> 02:22:45,759
a state dot current workspace

2861
02:22:42,318 --> 02:22:47,279
equal to action

2862
02:22:45,760 --> 02:22:50,319
dot

2863
02:22:47,280 --> 02:22:52,879
payload. And from this one, we will find

2864
02:22:50,318 --> 02:22:55,919
the first workspace. So just add the

2865
02:22:52,879 --> 02:22:58,478
index zero. That's it. Now let's add the

2866
02:22:55,920 --> 02:23:01,120
else statement for this if. So here

2867
02:22:58,478 --> 02:23:04,397
we'll add else statement. And in this

2868
02:23:01,120 --> 02:23:05,919
one we'll add the state dot current

2869
02:23:04,398 --> 02:23:12,239
workspace

2870
02:23:05,920 --> 02:23:15,359
equal to action dot payload and provide

2871
02:23:12,239 --> 02:23:17,679
the index zero. Suppose this local

2872
02:23:15,359 --> 02:23:19,519
storage current workspace id is not

2873
02:23:17,680 --> 02:23:22,720
available. In that case also we'll set

2874
02:23:19,520 --> 02:23:25,920
the current workspace equal to action

2875
02:23:22,719 --> 02:23:28,478
dot payload index0. Right? And after

2876
02:23:25,920 --> 02:23:33,599
that we have to set the loading state.

2877
02:23:28,478 --> 02:23:37,679
Right? So here let's add the estate dot

2878
02:23:33,600 --> 02:23:40,640
loading property and equal to false. So

2879
02:23:37,680 --> 02:23:43,120
the loading will become false.

2880
02:23:40,639 --> 02:23:47,039
Right? After that we'll add one more

2881
02:23:43,120 --> 02:23:50,240
case. So I'll just copy this one and

2882
02:23:47,040 --> 02:23:52,639
paste it here.

2883
02:23:50,239 --> 02:23:56,239
In this one we'll add builder dot add

2884
02:23:52,639 --> 02:23:59,358
case which workspaces dot and then we'll

2885
02:23:56,239 --> 02:24:01,679
add the rejected

2886
02:23:59,359 --> 02:24:03,839
right and here we have added the add

2887
02:24:01,680 --> 02:24:07,760
function with a state and here we'll add

2888
02:24:03,840 --> 02:24:10,479
a state dot loading and make it false.

2889
02:24:07,760 --> 02:24:14,319
So just add the false here save the

2890
02:24:10,478 --> 02:24:17,199
changes. So we have added this extra

2891
02:24:14,318 --> 02:24:20,239
reducer using that we will get the

2892
02:24:17,200 --> 02:24:23,680
workspaces data from the database using

2893
02:24:20,239 --> 02:24:26,397
the backend API. Next we have to load

2894
02:24:23,680 --> 02:24:29,599
the workspaces data when we load the

2895
02:24:26,398 --> 02:24:32,079
layout file. So let's open the sidebar

2896
02:24:29,600 --> 02:24:36,560
and open the

2897
02:24:32,079 --> 02:24:38,718
pages and open layout.jsx file. Now in

2898
02:24:36,559 --> 02:24:42,559
this file you can see we have this is

2899
02:24:38,719 --> 02:24:46,398
sidebar open. Then we have the loading

2900
02:24:42,559 --> 02:24:49,437
and we are getting this loading from

2901
02:24:46,398 --> 02:24:51,358
use selector estate workspace right. So

2902
02:24:49,439 --> 02:24:54,240
with this loading we will also get the

2903
02:24:51,359 --> 02:24:55,759
workspaces. So let's add comma here and

2904
02:24:54,239 --> 02:24:58,397
provide

2905
02:24:55,760 --> 02:25:02,479
workspaces. So we'll get the workspaces

2906
02:24:58,398 --> 02:25:06,159
data from this state. Right? And after

2907
02:25:02,478 --> 02:25:08,878
that here we are getting the dispatch

2908
02:25:06,159 --> 02:25:14,239
from use dispatch. And after that we

2909
02:25:08,879 --> 02:25:17,599
have user from use user right and after

2910
02:25:14,239 --> 02:25:20,719
that here we'll get the token. So let's

2911
02:25:17,600 --> 02:25:22,640
add con

2912
02:25:20,719 --> 02:25:25,199
curly braces

2913
02:25:22,639 --> 02:25:27,919
get token

2914
02:25:25,200 --> 02:25:32,079
equal to

2915
02:25:27,920 --> 02:25:33,599
use o. So use o will get imported from

2916
02:25:32,079 --> 02:25:35,838
the

2917
02:25:33,600 --> 02:25:38,319
color. You can see use has been imported

2918
02:25:35,840 --> 02:25:40,240
from the color/

2919
02:25:38,318 --> 02:25:43,919
color react

2920
02:25:40,239 --> 02:25:46,639
right and after that here you can see we

2921
02:25:43,920 --> 02:25:49,519
have this use effect that will load the

2922
02:25:46,639 --> 02:25:51,198
theme. So let it be after that here we

2923
02:25:49,520 --> 02:25:53,040
have the use effect that is checking if

2924
02:25:51,200 --> 02:25:56,079
the user is not logged in then it will

2925
02:25:53,040 --> 02:25:59,358
display the sign-in component right but

2926
02:25:56,079 --> 02:26:03,678
before that we will also add one more

2927
02:25:59,359 --> 02:26:06,080
use effect. So here let's add

2928
02:26:03,680 --> 02:26:09,760
comment

2929
02:26:06,079 --> 02:26:13,438
called initial load of workspaces. So

2930
02:26:09,760 --> 02:26:16,080
here we'll add use effect.

2931
02:26:13,439 --> 02:26:18,080
Then in this use effect I'll add the add

2932
02:26:16,079 --> 02:26:20,638
function

2933
02:26:18,079 --> 02:26:23,998
and then we'll add the dependency array.

2934
02:26:20,639 --> 02:26:28,158
So in this array just add the user

2935
02:26:24,000 --> 02:26:30,799
and after that we'll add is loaded.

2936
02:26:28,159 --> 02:26:34,159
Now come to this function and in this

2937
02:26:30,799 --> 02:26:36,239
function we'll add if statement if

2938
02:26:34,159 --> 02:26:41,279
is loaded

2939
02:26:36,239 --> 02:26:43,437
and user. So if is loaded is true and

2940
02:26:41,280 --> 02:26:45,760
user is available

2941
02:26:43,439 --> 02:26:48,080
and

2942
02:26:45,760 --> 02:26:51,679
this workspace

2943
02:26:48,079 --> 02:26:55,039
dot length

2944
02:26:51,680 --> 02:26:57,359
I mean workspaces do.tlength length is

2945
02:26:55,040 --> 02:27:00,719
equal to zero.

2946
02:26:57,359 --> 02:27:04,319
Right? So in this case we will call the

2947
02:27:00,719 --> 02:27:07,919
fetch workspaces. So just add dispatch

2948
02:27:04,318 --> 02:27:10,718
and here we'll add

2949
02:27:07,920 --> 02:27:14,240
fetch workspaces and import it from the

2950
02:27:10,719 --> 02:27:17,358
features folder. And in this one let's

2951
02:27:14,239 --> 02:27:20,639
add the curly braces and provide the get

2952
02:27:17,359 --> 02:27:23,120
token that is here. So if the workspaces

2953
02:27:20,639 --> 02:27:25,999
length is zero then it will call this

2954
02:27:23,120 --> 02:27:28,959
fetch workspaces to get the workspaces

2955
02:27:26,000 --> 02:27:32,318
data it will initialize the workspaces

2956
02:27:28,959 --> 02:27:35,279
right now after that we have the

2957
02:27:32,318 --> 02:27:37,678
workspaces data whenever we load our web

2958
02:27:35,280 --> 02:27:40,240
page next we have to add one more

2959
02:27:37,680 --> 02:27:42,960
functionality right now if I open the

2960
02:27:40,239 --> 02:27:45,838
web page

2961
02:27:42,959 --> 02:27:49,039
it is not loaded yet

2962
02:27:45,840 --> 02:27:51,840
here you can see we have this user

2963
02:27:49,040 --> 02:27:55,439
Right? User is logged in. Right? But

2964
02:27:51,840 --> 02:27:58,559
after login, we don't have any

2965
02:27:55,439 --> 02:28:01,120
organization or workspace. So whenever

2966
02:27:58,559 --> 02:28:03,437
we will create a new account or we log

2967
02:28:01,120 --> 02:28:05,759
into our account without any

2968
02:28:03,439 --> 02:28:09,120
organization, then it will display a

2969
02:28:05,760 --> 02:28:11,920
popup or component to create an

2970
02:28:09,120 --> 02:28:15,600
organization. for that. Let me just come

2971
02:28:11,920 --> 02:28:17,519
back and uh

2972
02:28:15,600 --> 02:28:20,159
here

2973
02:28:17,520 --> 02:28:23,119
we have this

2974
02:28:20,159 --> 02:28:25,678
loading right it will display the

2975
02:28:23,120 --> 02:28:28,318
loading animation. So after that let's

2976
02:28:25,680 --> 02:28:31,040
add another if statement and it will

2977
02:28:28,318 --> 02:28:34,079
check for the user if the user is logged

2978
02:28:31,040 --> 02:28:36,719
in then we'll add the and operator and

2979
02:28:34,079 --> 02:28:40,397
provide the workspaces.length

2980
02:28:36,719 --> 02:28:42,719
is zero. So let's add workspaces.length

2981
02:28:40,398 --> 02:28:45,758
is zero. It means the user is logged in

2982
02:28:42,719 --> 02:28:48,558
and they don't have any workspaces. So

2983
02:28:45,760 --> 02:28:52,639
in this case we'll add return

2984
02:28:48,559 --> 02:28:56,078
and in this return let's add a div. Now

2985
02:28:52,639 --> 02:28:58,719
in this div let me add some telvin

2986
02:28:56,079 --> 02:29:00,958
classes. So I'll add the class name

2987
02:28:58,719 --> 02:29:03,839
property provide the minimum height a

2988
02:29:00,959 --> 02:29:05,598
screen then flex justify center and item

2989
02:29:03,840 --> 02:29:07,359
center so that the component will be

2990
02:29:05,600 --> 02:29:09,760
aligned in the center. whatever we will

2991
02:29:07,359 --> 02:29:12,160
place in this div. So in this div we

2992
02:29:09,760 --> 02:29:16,399
have to add the component that will

2993
02:29:12,159 --> 02:29:19,437
display a organization signup form or

2994
02:29:16,398 --> 02:29:22,079
create organization form. So let's add

2995
02:29:19,439 --> 02:29:25,439
the component here

2996
02:29:22,079 --> 02:29:27,357
create organization and import it from

2997
02:29:25,439 --> 02:29:28,720
the color. We are getting the suggestion

2998
02:29:27,359 --> 02:29:30,720
here. Just click here create

2999
02:29:28,719 --> 02:29:33,518
organization.

3000
02:29:30,719 --> 02:29:35,999
That's it. If I scroll up, you can see

3001
02:29:33,520 --> 02:29:39,600
the create organization has been

3002
02:29:36,000 --> 02:29:42,080
imported from the color/color react.

3003
02:29:39,600 --> 02:29:45,359
That's it. Now we will save the changes

3004
02:29:42,079 --> 02:29:48,079
and open our web page. So you can see it

3005
02:29:45,359 --> 02:29:51,839
is displaying this create organization

3006
02:29:48,079 --> 02:29:54,239
component where we can upload the image.

3007
02:29:51,840 --> 02:29:57,1000
For the organization, we have to add the

3008
02:29:54,239 --> 02:30:00,158
organization name and slug. slug will be

3009
02:29:58,000 --> 02:30:03,519
added automatically according to the

3010
02:30:00,159 --> 02:30:07,279
name. Right? So whenever we will log it

3011
02:30:03,520 --> 02:30:09,680
will display this popup to create an

3012
02:30:07,280 --> 02:30:12,159
organization when we don't have any

3013
02:30:09,680 --> 02:30:17,239
organization. So let me create an

3014
02:30:12,159 --> 02:30:17,239
organization here. I'll upload one logo.

3015
02:30:18,398 --> 02:30:23,918
Then we will add the name. So I'll write

3016
02:30:20,398 --> 02:30:26,317
the organization name

3017
02:30:23,920 --> 02:30:28,080
create a stack

3018
02:30:26,318 --> 02:30:30,558
dev

3019
02:30:28,079 --> 02:30:32,798
and after that I'll click on this button

3020
02:30:30,559 --> 02:30:35,118
create organization.

3021
02:30:32,799 --> 02:30:37,358
So as you can see once we have created

3022
02:30:35,120 --> 02:30:40,799
the organization we are redirected to

3023
02:30:37,359 --> 02:30:42,879
this homepage or dashboard page and you

3024
02:30:40,799 --> 02:30:44,959
can see the organization logo and

3025
02:30:42,879 --> 02:30:47,518
organization name and we have total one

3026
02:30:44,959 --> 02:30:49,598
workspace right.

3027
02:30:47,520 --> 02:30:52,960
So this is the workspace or organization

3028
02:30:49,600 --> 02:30:55,040
name great stack dev and if you don't

3029
02:30:52,959 --> 02:30:59,119
have any organization it will display

3030
02:30:55,040 --> 02:31:02,559
the create organization window or popup

3031
02:30:59,120 --> 02:31:04,639
right now after that let me verify the

3032
02:31:02,559 --> 02:31:06,959
organization data is saved in the

3033
02:31:04,639 --> 02:31:08,799
database or not and this organization

3034
02:31:06,959 --> 02:31:11,838
data will get saved in the database

3035
02:31:08,799 --> 02:31:14,398
using the ingest function. So let's open

3036
02:31:11,840 --> 02:31:16,960
the ingest dashboard first. So in this

3037
02:31:14,398 --> 02:31:20,558
ingest dashboard you can see we have the

3038
02:31:16,959 --> 02:31:23,438
event called sync workspace from clerk.

3039
02:31:20,559 --> 02:31:26,158
If I open it you can see it is executed

3040
02:31:23,439 --> 02:31:28,240
successfully. Right? So whenever we'll

3041
02:31:26,159 --> 02:31:31,357
create the organization the organization

3042
02:31:28,239 --> 02:31:34,357
data will be available in the color

3043
02:31:31,359 --> 02:31:34,359
behavgest

3044
02:31:34,959 --> 02:31:38,718
function right and you can see this

3045
02:31:37,120 --> 02:31:40,800
ingest function is executed

3046
02:31:38,719 --> 02:31:43,438
successfully. This ingest function will

3047
02:31:40,799 --> 02:31:46,638
add the data in database. So now let me

3048
02:31:43,439 --> 02:31:49,439
open the neon database and in this one

3049
02:31:46,639 --> 02:31:52,158
come to this workspace table and you can

3050
02:31:49,439 --> 02:31:56,799
see here we have the workspace data

3051
02:31:52,159 --> 02:31:58,477
right that is the ID name slug we don't

3052
02:31:56,799 --> 02:32:01,919
have any description and here we have

3053
02:31:58,478 --> 02:32:04,878
the settings this is the empty object so

3054
02:32:01,920 --> 02:32:07,759
we have successfully created the new

3055
02:32:04,879 --> 02:32:11,279
workspace or organization here we have

3056
02:32:07,760 --> 02:32:13,519
the image URL also that we have uploaded

3057
02:32:11,280 --> 02:32:15,999
it is working fine Now again come back

3058
02:32:13,520 --> 02:32:17,920
to the dashboard that is the project

3059
02:32:16,000 --> 02:32:21,759
manager dashboard that we are creating.

3060
02:32:17,920 --> 02:32:24,559
So in this one we have this workspace or

3061
02:32:21,760 --> 02:32:26,800
organization data in the top left corner

3062
02:32:24,559 --> 02:32:28,959
and if I click on this dropdown here we

3063
02:32:26,799 --> 02:32:31,039
have the dummy data right. So I'm going

3064
02:32:28,959 --> 02:32:34,159
to replace this dummy data here will

3065
02:32:31,040 --> 02:32:36,799
display the list of workspace available

3066
02:32:34,159 --> 02:32:38,639
for this particular user. And when user

3067
02:32:36,799 --> 02:32:41,759
will click on this create workspace, it

3068
02:32:38,639 --> 02:32:44,318
will again display that popup to create

3069
02:32:41,760 --> 02:32:47,200
a new workspace. For that, let me just

3070
02:32:44,318 --> 02:32:51,279
come back to the VS code. And here we

3071
02:32:47,200 --> 02:32:53,200
will open sidebar. And in this sidebar,

3072
02:32:51,280 --> 02:32:55,280
we have the components. In this

3073
02:32:53,200 --> 02:32:58,640
components, you will find workspace

3074
02:32:55,280 --> 02:33:01,438
drop-down. JSX file.

3075
02:32:58,639 --> 02:33:03,839
Right now, in this one, we need the list

3076
02:33:01,439 --> 02:33:06,639
of organizations. For that we are going

3077
02:33:03,840 --> 02:33:09,840
to use use organization list. Right? So

3078
02:33:06,639 --> 02:33:11,839
just add const

3079
02:33:09,840 --> 02:33:16,960
curly braces

3080
02:33:11,840 --> 02:33:19,359
equal to use organization list.

3081
02:33:16,959 --> 02:33:23,039
So use organization list has been

3082
02:33:19,359 --> 02:33:25,759
imported from the color/color react. Now

3083
02:33:23,040 --> 02:33:28,759
in this one let's add the object and

3084
02:33:25,760 --> 02:33:28,760
provide

3085
02:33:28,879 --> 02:33:35,199
user membership

3086
02:33:32,478 --> 02:33:39,279
and let's make it true. So here we have

3087
02:33:35,200 --> 02:33:44,398
added user memberships pro and after

3088
02:33:39,280 --> 02:33:48,959
that here we will get set active

3089
02:33:44,398 --> 02:33:53,519
after that we will get user memberships

3090
02:33:48,959 --> 02:33:56,318
after that we will get is loaded

3091
02:33:53,520 --> 02:34:00,239
like this. Now in this one also we have

3092
02:33:56,318 --> 02:34:02,879
to add the functionality to display the

3093
02:34:00,239 --> 02:34:05,199
create organization popup right. So

3094
02:34:02,879 --> 02:34:08,478
let's add con

3095
02:34:05,200 --> 02:34:10,719
curly braces

3096
02:34:08,478 --> 02:34:12,638
equal to

3097
02:34:10,719 --> 02:34:15,039
use color.

3098
02:34:12,639 --> 02:34:18,879
Use color has been imported and from

3099
02:34:15,040 --> 02:34:21,120
this use color we can get open

3100
02:34:18,879 --> 02:34:24,159
create organization.

3101
02:34:21,120 --> 02:34:26,160
That's it. Now here we have these data

3102
02:34:24,159 --> 02:34:29,838
and this

3103
02:34:26,159 --> 02:34:32,239
component. Right after that here we have

3104
02:34:29,840 --> 02:34:36,160
this dispatch navigate and then we have

3105
02:34:32,239 --> 02:34:38,639
this on select workspace. Right. So in

3106
02:34:36,159 --> 02:34:42,078
this on select workspace we have to set

3107
02:34:38,639 --> 02:34:46,079
the active workspace. So let's add set

3108
02:34:42,079 --> 02:34:48,718
active and provide the object and in

3109
02:34:46,079 --> 02:34:50,798
this object we'll add the organization

3110
02:34:48,719 --> 02:34:55,039
property. In this organization property

3111
02:34:50,799 --> 02:34:57,839
we'll add the organization ID.

3112
02:34:55,040 --> 02:35:00,318
That's it. After that scroll down here

3113
02:34:57,840 --> 02:35:03,359
you can see we have this

3114
02:35:00,318 --> 02:35:05,919
comment close drop-down on outside

3115
02:35:03,359 --> 02:35:08,319
click. So let it be and after that we'll

3116
02:35:05,920 --> 02:35:11,839
add another use effect. So let's add use

3117
02:35:08,318 --> 02:35:14,079
effect. In this one we'll add the add

3118
02:35:11,840 --> 02:35:16,399
function and then we'll add the

3119
02:35:14,079 --> 02:35:19,039
dependency array. In this dependency

3120
02:35:16,398 --> 02:35:22,079
array we'll add the current workspace

3121
02:35:19,040 --> 02:35:24,959
and we'll also add is loaded.

3122
02:35:22,079 --> 02:35:27,838
Right now come to this function and here

3123
02:35:24,959 --> 02:35:32,558
we'll add the if statement if

3124
02:35:27,840 --> 02:35:36,879
the current workspace is available and

3125
02:35:32,559 --> 02:35:38,959
is loaded is true. So in this case

3126
02:35:36,879 --> 02:35:42,398
we will use

3127
02:35:38,959 --> 02:35:44,239
set active and in this set active again

3128
02:35:42,398 --> 02:35:46,398
add the object and provide the

3129
02:35:44,239 --> 02:35:48,798
organization property and in this

3130
02:35:46,398 --> 02:35:51,519
organization property let's add the

3131
02:35:48,799 --> 02:35:54,799
current workspace

3132
02:35:51,520 --> 02:35:57,119
dot id

3133
02:35:54,799 --> 02:35:59,919
that's it so it will set the current

3134
02:35:57,120 --> 02:36:02,560
workspace and after that we have to

3135
02:35:59,920 --> 02:36:05,1000
display the list of workspaces in the

3136
02:36:02,559 --> 02:36:08,477
drop-down for that let's scroll down and

3137
02:36:06,000 --> 02:36:10,399
here you will find this is open estate

3138
02:36:08,478 --> 02:36:13,519
when it is true we are displaying the

3139
02:36:10,398 --> 02:36:16,558
list of workspaces right so here we have

3140
02:36:13,520 --> 02:36:18,640
the dummy workspace data right so let me

3141
02:36:16,559 --> 02:36:22,398
remove it instead of this dummy

3142
02:36:18,639 --> 02:36:25,039
workspaces I'll provide

3143
02:36:22,398 --> 02:36:26,959
user memberships

3144
02:36:25,040 --> 02:36:29,120
dot

3145
02:36:26,959 --> 02:36:32,318
data

3146
02:36:29,120 --> 02:36:36,719
right so it will display the list of

3147
02:36:32,318 --> 02:36:39,758
workspaces where this user is a member.

3148
02:36:36,719 --> 02:36:43,079
Correct? And after that we'll add the on

3149
02:36:39,760 --> 02:36:43,079
click property

3150
02:36:43,520 --> 02:36:49,840
on this div. Right? So here we have the

3151
02:36:47,439 --> 02:36:52,160
text called create workspace. When we

3152
02:36:49,840 --> 02:36:54,399
click on this button, it will open the

3153
02:36:52,159 --> 02:36:57,357
component to create a new workspace. So

3154
02:36:54,398 --> 02:36:59,279
let's add on click property. Here in

3155
02:36:57,359 --> 02:37:03,759
this on click, we'll add the arrow

3156
02:36:59,280 --> 02:37:06,799
function. And here let's add open create

3157
02:37:03,760 --> 02:37:08,639
organization function. Right? Then we

3158
02:37:06,799 --> 02:37:13,919
will add the semicolon. And here we will

3159
02:37:08,639 --> 02:37:15,518
add set is open. And let's make it

3160
02:37:13,920 --> 02:37:19,759
false.

3161
02:37:15,520 --> 02:37:22,640
So it will close that drop-down.

3162
02:37:19,760 --> 02:37:25,120
Correct. After updating it, save the

3163
02:37:22,639 --> 02:37:26,719
changes and let's open the web page. So

3164
02:37:25,120 --> 02:37:29,200
now you can see if I click on this

3165
02:37:26,719 --> 02:37:31,598
dropdown here, we have only one

3166
02:37:29,200 --> 02:37:34,079
workspace.

3167
02:37:31,600 --> 02:37:36,880
And this workspace image is not visible.

3168
02:37:34,079 --> 02:37:39,039
So I'll correct it. And here we have the

3169
02:37:36,879 --> 02:37:42,398
button create workspace. If I click

3170
02:37:39,040 --> 02:37:45,040
here, it is opening this

3171
02:37:42,398 --> 02:37:47,039
component to create another workspace.

3172
02:37:45,040 --> 02:37:50,399
Right?

3173
02:37:47,040 --> 02:37:54,399
So to fix this issue of workspace name

3174
02:37:50,398 --> 02:37:56,798
and image, I'll just come back here.

3175
02:37:54,398 --> 02:38:00,398
And in this map you can see we have

3176
02:37:56,799 --> 02:38:04,159
added WS that is workspace. So instead

3177
02:38:00,398 --> 02:38:06,558
of this one we'll add one object so that

3178
02:38:04,159 --> 02:38:09,199
we can dstructure the properties and in

3179
02:38:06,559 --> 02:38:10,719
this one we'll add the organization.

3180
02:38:09,200 --> 02:38:12,559
So in this data we'll get the

3181
02:38:10,719 --> 02:38:14,719
organization property and in that

3182
02:38:12,559 --> 02:38:17,679
organization property we will get the

3183
02:38:14,719 --> 02:38:20,318
name, image and number of user. Right?

3184
02:38:17,680 --> 02:38:23,760
So let's update it here. We will add

3185
02:38:20,318 --> 02:38:27,199
organization do ID. Then we'll add

3186
02:38:23,760 --> 02:38:29,840
organization do id here also. Then we'll

3187
02:38:27,200 --> 02:38:33,200
add organization dot image url. Here

3188
02:38:29,840 --> 02:38:35,840
we'll add organization dotname.

3189
02:38:33,200 --> 02:38:38,160
And after that let's add organization

3190
02:38:35,840 --> 02:38:42,960
dot name. And here we'll add

3191
02:38:38,159 --> 02:38:48,039
organization dot members count.

3192
02:38:42,959 --> 02:38:48,039
And here we'll add organization do ID.

3193
02:38:48,959 --> 02:38:52,318
That's it. Save the changes and come

3194
02:38:50,879 --> 02:38:55,518
back here.

3195
02:38:52,318 --> 02:38:57,678
Now let me refresh it. I'll just click

3196
02:38:55,520 --> 02:39:00,319
here. Still the image is not visible. So

3197
02:38:57,680 --> 02:39:05,120
I'll just come back and here let me

3198
02:39:00,318 --> 02:39:06,959
update it. It will be image URL

3199
02:39:05,120 --> 02:39:08,959
like this.

3200
02:39:06,959 --> 02:39:11,119
Now it is correct. Save the changes and

3201
02:39:08,959 --> 02:39:14,718
come back here. Now you can see we have

3202
02:39:11,120 --> 02:39:17,358
the list of organizations with the logo,

3203
02:39:14,719 --> 02:39:20,159
name and number of members. And when we

3204
02:39:17,359 --> 02:39:22,879
click on anyone from the list that will

3205
02:39:20,159 --> 02:39:25,199
become the active organization right or

3206
02:39:22,879 --> 02:39:27,438
active workspace and when we click here

3207
02:39:25,200 --> 02:39:30,398
it will open the component to create a

3208
02:39:27,439 --> 02:39:34,479
new workspace. So let me create another

3209
02:39:30,398 --> 02:39:37,999
workspace here. I'll write greater stack

3210
02:39:34,478 --> 02:39:40,638
marketing. I'll write MKT.

3211
02:39:38,000 --> 02:39:43,359
And here we'll add any other image. So

3212
02:39:40,639 --> 02:39:45,999
let me use this one white image and

3213
02:39:43,359 --> 02:39:48,160
click on create organization.

3214
02:39:46,000 --> 02:39:51,439
So now another organization has been

3215
02:39:48,159 --> 02:39:53,998
created and it is asking to invite new

3216
02:39:51,439 --> 02:39:56,639
members. So we can add a new member also

3217
02:39:54,000 --> 02:39:59,519
or we can skip this one. We will invite

3218
02:39:56,639 --> 02:40:02,079
the members later.

3219
02:39:59,520 --> 02:40:04,159
So we have created another organization.

3220
02:40:02,079 --> 02:40:06,718
So now you can see in this dropdown we

3221
02:40:04,159 --> 02:40:08,718
have two workspaces that is greatest

3222
02:40:06,719 --> 02:40:12,159
stack dev and greatest stack marketing

3223
02:40:08,719 --> 02:40:13,919
and we have the name, image and total

3224
02:40:12,159 --> 02:40:15,598
number of members. If I click on the

3225
02:40:13,920 --> 02:40:18,639
second one, you can see it will become

3226
02:40:15,600 --> 02:40:21,359
the active workspace, right? And you can

3227
02:40:18,639 --> 02:40:23,839
see the workspace image here, the name

3228
02:40:21,359 --> 02:40:26,160
and here we have total two workspaces.

3229
02:40:23,840 --> 02:40:29,200
We can switch from here. And if I click

3230
02:40:26,159 --> 02:40:31,599
on this one, it will open the

3231
02:40:29,200 --> 02:40:33,680
component to create a new organization

3232
02:40:31,600 --> 02:40:35,519
or workspace.

3233
02:40:33,680 --> 02:40:37,599
So we have added the functionality for

3234
02:40:35,520 --> 02:40:39,920
user authentication. And with that we

3235
02:40:37,600 --> 02:40:41,920
have also added the functionality to

3236
02:40:39,920 --> 02:40:45,359
create an organization and switch

3237
02:40:41,920 --> 02:40:47,1000
between different organization.

3238
02:40:45,359 --> 02:40:50,160
After adding the authentication and

3239
02:40:48,000 --> 02:40:52,399
organization feature and connecting it

3240
02:40:50,159 --> 02:40:55,437
with the front end. Next we have to

3241
02:40:52,398 --> 02:40:58,959
create the APIs for the project so that

3242
02:40:55,439 --> 02:41:01,1000
we can add a new project. We can add the

3243
02:40:58,959 --> 02:41:05,279
task in the project. Right? So for that

3244
02:41:02,000 --> 02:41:08,639
let me just come back to the VS code and

3245
02:41:05,280 --> 02:41:12,240
let me close all these files.

3246
02:41:08,639 --> 02:41:15,759
Close saved. Now open the sidebar and

3247
02:41:12,239 --> 02:41:17,599
let's come here in this server folder

3248
02:41:15,760 --> 02:41:20,240
because we have created the back end in

3249
02:41:17,600 --> 02:41:22,800
this server. Now in this server folder

3250
02:41:20,239 --> 02:41:24,798
we have the controllers folder. So in

3251
02:41:22,799 --> 02:41:27,839
this controllers folder we'll create a

3252
02:41:24,799 --> 02:41:30,839
new file and write the file name project

3253
02:41:27,840 --> 02:41:30,840
controller.js.

3254
02:41:34,000 --> 02:41:39,200
In this one, let me add the comment. So

3255
02:41:36,959 --> 02:41:41,518
here we'll add

3256
02:41:39,200 --> 02:41:43,600
create project. So here we will add the

3257
02:41:41,520 --> 02:41:47,039
controller function. Using that we can

3258
02:41:43,600 --> 02:41:50,640
create a new project. So just add export

3259
02:41:47,040 --> 02:41:52,959
con create project equal to

3260
02:41:50,639 --> 02:41:54,959
async arrow function. In this function

3261
02:41:52,959 --> 02:41:57,959
parameter we will get request and

3262
02:41:54,959 --> 02:41:57,959
response

3263
02:41:58,000 --> 02:42:03,919
like this. So we have created the

3264
02:42:01,439 --> 02:42:06,799
function called create project. In this

3265
02:42:03,920 --> 02:42:10,319
function we'll add the try catch

3266
02:42:06,799 --> 02:42:12,638
statement right and in this catch block

3267
02:42:10,318 --> 02:42:14,718
let's add

3268
02:42:12,639 --> 02:42:18,079
console log

3269
02:42:14,719 --> 02:42:20,638
and here we'll provide this error and

3270
02:42:18,079 --> 02:42:24,958
after that here we'll add the response.

3271
02:42:20,639 --> 02:42:27,278
So just add response dot a status

3272
02:42:24,959 --> 02:42:29,678
500.

3273
02:42:27,280 --> 02:42:33,999
Then we'll add the message using JSON

3274
02:42:29,680 --> 02:42:35,840
method. So in this JSON let's add

3275
02:42:34,000 --> 02:42:40,000
message property. It will be error

3276
02:42:35,840 --> 02:42:42,559
docode or error dot message. So we have

3277
02:42:40,000 --> 02:42:44,318
added the function with try catch block.

3278
02:42:42,559 --> 02:42:46,879
And in the catch block we have added

3279
02:42:44,318 --> 02:42:50,079
this code and the try block is empty.

3280
02:42:46,879 --> 02:42:51,758
Now let me just duplicate this function.

3281
02:42:50,079 --> 02:42:55,678
But before that we'll add the comment

3282
02:42:51,760 --> 02:42:58,559
also. So let me add the comment here.

3283
02:42:55,680 --> 02:43:01,439
update project and copy this function.

3284
02:42:58,559 --> 02:43:03,599
Paste it here. So we have another

3285
02:43:01,439 --> 02:43:05,599
function called update project and here

3286
02:43:03,600 --> 02:43:09,600
we'll add the function name update

3287
02:43:05,600 --> 02:43:12,960
project. Right now let's add the comment

3288
02:43:09,600 --> 02:43:15,439
called add member to project. So let's

3289
02:43:12,959 --> 02:43:18,798
add the comment and after that again

3290
02:43:15,439 --> 02:43:21,120
copy this function here

3291
02:43:18,799 --> 02:43:24,159
and in this one let's add the function

3292
02:43:21,120 --> 02:43:26,959
name add member. So you can see we have

3293
02:43:24,159 --> 02:43:31,038
created three functions that is create

3294
02:43:26,959 --> 02:43:33,279
project, update project and add member.

3295
02:43:31,040 --> 02:43:35,679
Now let me complete the functions one by

3296
02:43:33,280 --> 02:43:39,119
one. So I start with the first one that

3297
02:43:35,680 --> 02:43:42,319
is create project. Now in this one first

3298
02:43:39,120 --> 02:43:45,839
we need the user ID. So let's add const

3299
02:43:42,318 --> 02:43:48,318
curly braces user ID and we will get

3300
02:43:45,840 --> 02:43:52,880
this user ID from the request. Right? So

3301
02:43:48,318 --> 02:43:55,919
just add equal to await

3302
02:43:52,879 --> 02:43:59,119
request dot.

3303
02:43:55,920 --> 02:44:02,559
So this o function is added using the

3304
02:43:59,120 --> 02:44:06,080
color. After that we need the data from

3305
02:44:02,559 --> 02:44:08,318
the request body. So whenever we are

3306
02:44:06,079 --> 02:44:11,199
creating a project we need the project

3307
02:44:08,318 --> 02:44:14,079
data like workspace ID, project

3308
02:44:11,200 --> 02:44:17,278
description, project name, a status, a

3309
02:44:14,079 --> 02:44:20,718
start date, end date, team members, team

3310
02:44:17,279 --> 02:44:23,359
lead, progress and priority. So let's

3311
02:44:20,719 --> 02:44:27,598
add const

3312
02:44:23,359 --> 02:44:29,120
curly braces and here let's get these

3313
02:44:27,600 --> 02:44:31,439
data

3314
02:44:29,120 --> 02:44:37,200
like

3315
02:44:31,439 --> 02:44:40,240
workspace ID description name a status a

3316
02:44:37,200 --> 02:44:44,398
start date end date team members team

3317
02:44:40,239 --> 02:44:47,599
lead progress and priority equal to our

3318
02:44:44,398 --> 02:44:50,718
request dot body. So we have to send

3319
02:44:47,600 --> 02:44:53,1000
these data on this API.

3320
02:44:50,719 --> 02:44:56,238
After that we'll add the

3321
02:44:54,000 --> 02:45:01,799
comment. So let's add the comment. Check

3322
02:44:56,239 --> 02:45:01,798
if user has admin role for workspace.

3323
02:45:01,920 --> 02:45:07,439
So if the user is admin in this

3324
02:45:04,719 --> 02:45:10,558
workspace then only they can create the

3325
02:45:07,439 --> 02:45:13,040
project. So I'll write

3326
02:45:10,559 --> 02:45:15,358
const

3327
02:45:13,040 --> 02:45:17,1000
workspace equal to await and here we

3328
02:45:15,359 --> 02:45:20,160
will use Prisma. So we are not getting

3329
02:45:18,000 --> 02:45:22,559
the suggestion for the Prisma, right? So

3330
02:45:20,159 --> 02:45:25,277
I'll open this sidebar and here you can

3331
02:45:22,559 --> 02:45:28,559
see we have the configs folder where we

3332
02:45:25,279 --> 02:45:32,799
have the Prisma.js file. Let's open it.

3333
02:45:28,559 --> 02:45:34,398
And after that here if I type

3334
02:45:32,799 --> 02:45:36,799
Prisma, we are getting the suggestion.

3335
02:45:34,398 --> 02:45:38,959
So just import the Prisma from config

3336
02:45:36,799 --> 02:45:43,438
folder. And here we'll add the file name

3337
02:45:38,959 --> 02:45:47,278
extension js like this. Now from this

3338
02:45:43,439 --> 02:45:51,278
Prisma we will find the

3339
02:45:47,279 --> 02:45:53,439
workspace table. Then we'll add dot find

3340
02:45:51,279 --> 02:45:55,920
unique.

3341
02:45:53,439 --> 02:45:58,479
In this one we have to add the object

3342
02:45:55,920 --> 02:46:02,639
and provide the where property and

3343
02:45:58,478 --> 02:46:05,438
provide the object ID and the id is

3344
02:46:02,639 --> 02:46:07,358
workspace ID.

3345
02:46:05,439 --> 02:46:09,919
Then we will add comma and here we will

3346
02:46:07,359 --> 02:46:12,879
add include property. In this include

3347
02:46:09,920 --> 02:46:15,1000
property let's add the

3348
02:46:12,879 --> 02:46:17,678
members. And in this one let's add

3349
02:46:16,000 --> 02:46:20,160
include

3350
02:46:17,680 --> 02:46:22,160
and provide the object where we will

3351
02:46:20,159 --> 02:46:23,998
provide user

3352
02:46:22,159 --> 02:46:27,119
true.

3353
02:46:24,000 --> 02:46:30,160
So it will add the user data in this

3354
02:46:27,120 --> 02:46:34,479
workspace. Right now let's add the if

3355
02:46:30,159 --> 02:46:36,159
statement if not of workspace.

3356
02:46:34,478 --> 02:46:38,317
Suppose we could not find this

3357
02:46:36,159 --> 02:46:42,559
workspace. In that case, we'll return

3358
02:46:38,318 --> 02:46:46,239
the response. So let's add return

3359
02:46:42,559 --> 02:46:48,398
response dot status 4.4. Then we'll add

3360
02:46:46,239 --> 02:46:51,437
the message using JSON method. So just

3361
02:46:48,398 --> 02:46:54,398
add JSON. Message is workspace not

3362
02:46:51,439 --> 02:46:56,799
found. After that we'll add the if

3363
02:46:54,398 --> 02:46:59,277
statement. And here we'll add not of

3364
02:46:56,799 --> 02:47:01,199
workspace

3365
02:46:59,279 --> 02:47:04,559
dot

3366
02:47:01,200 --> 02:47:08,640
members dot sum.

3367
02:47:04,559 --> 02:47:10,398
And uh here let's provide the add a

3368
02:47:08,639 --> 02:47:13,839
function

3369
02:47:10,398 --> 02:47:17,039
where we'll add the member.

3370
02:47:13,840 --> 02:47:20,479
Let me just close this if

3371
02:47:17,040 --> 02:47:24,080
and uh create the arrow function here.

3372
02:47:20,478 --> 02:47:27,519
Then we'll add member dot user id is

3373
02:47:24,079 --> 02:47:31,357
equal to user id

3374
02:47:27,520 --> 02:47:34,680
and operator and provide member. equal

3375
02:47:31,359 --> 02:47:34,680
to admin.

3376
02:47:34,879 --> 02:47:40,318
So in this if statement we are checking

3377
02:47:37,120 --> 02:47:42,719
if this user is not admin because we

3378
02:47:40,318 --> 02:47:46,079
have added not operator here. So here

3379
02:47:42,719 --> 02:47:48,959
we'll add return. So let me just copy

3380
02:47:46,079 --> 02:47:51,998
this one. Copy and paste it here. return

3381
02:47:48,959 --> 02:47:53,919
response a status 4 not three and after

3382
02:47:52,000 --> 02:47:56,479
that we'll add the JSON and here we'll

3383
02:47:53,920 --> 02:48:00,080
add the message so let me add the

3384
02:47:56,478 --> 02:48:03,758
message called you don't have permission

3385
02:48:00,079 --> 02:48:07,838
to create project in this workspace

3386
02:48:03,760 --> 02:48:12,240
after that let's add the comment so I'll

3387
02:48:07,840 --> 02:48:17,759
write get team lead using email

3388
02:48:12,239 --> 02:48:21,918
right so here we'll add con team lead

3389
02:48:17,760 --> 02:48:28,799
equal equal to await and here we'll add

3390
02:48:21,920 --> 02:48:31,679
Prisma dot user dot find unique

3391
02:48:28,799 --> 02:48:35,678
and in this one let's add the where

3392
02:48:31,680 --> 02:48:38,160
property and provide the email here in

3393
02:48:35,680 --> 02:48:40,800
this email just provide

3394
02:48:38,159 --> 02:48:43,519
team lead that we are getting from the

3395
02:48:40,799 --> 02:48:47,358
body after that we'll add select and

3396
02:48:43,520 --> 02:48:51,039
here we'll add curly braces id equal to

3397
02:48:47,359 --> 02:48:54,160
true id colon true

3398
02:48:51,040 --> 02:48:56,559
right so now we have the team lead next

3399
02:48:54,159 --> 02:48:59,838
we can create the project so let's add

3400
02:48:56,559 --> 02:49:04,158
con project equal to await

3401
02:48:59,840 --> 02:49:11,519
and here let's add

3402
02:49:04,159 --> 02:49:13,518
prisma dot project dot create method

3403
02:49:11,520 --> 02:49:16,640
now let's add the object here and

3404
02:49:13,520 --> 02:49:20,800
provide the data now in this data we

3405
02:49:16,639 --> 02:49:24,558
will store the workspace ID.

3406
02:49:20,799 --> 02:49:26,159
After that we will store the name. Then

3407
02:49:24,559 --> 02:49:30,158
description.

3408
02:49:26,159 --> 02:49:34,318
Then we will add the status.

3409
02:49:30,159 --> 02:49:37,678
After that we will store the priority.

3410
02:49:34,318 --> 02:49:41,358
Then we will store progress.

3411
02:49:37,680 --> 02:49:44,319
After that we will store team lead. In

3412
02:49:41,359 --> 02:49:48,080
this team lead, let's add

3413
02:49:44,318 --> 02:49:50,318
team lead dot id. Here we'll add the

3414
02:49:48,079 --> 02:49:52,718
question mark. If it is available, it

3415
02:49:50,318 --> 02:49:56,079
will be added here. After that, let's

3416
02:49:52,719 --> 02:49:59,278
add the start date. So, just add a start

3417
02:49:56,079 --> 02:50:01,758
date and it will be

3418
02:49:59,279 --> 02:50:06,519
a start date question mark if it is

3419
02:50:01,760 --> 02:50:06,519
available. Let's add new date

3420
02:50:06,639 --> 02:50:14,719
and provide the start date

3421
02:50:11,040 --> 02:50:16,959
and then we'll add colon null.

3422
02:50:14,719 --> 02:50:20,159
So if it is available it will convert it

3423
02:50:16,959 --> 02:50:23,039
into date. Else it will add null. After

3424
02:50:20,159 --> 02:50:25,437
that we'll add the end date also. So

3425
02:50:23,040 --> 02:50:27,200
let's add end date.

3426
02:50:25,439 --> 02:50:30,080
And here also we'll add the same thing.

3427
02:50:27,200 --> 02:50:32,318
So just copy this.

3428
02:50:30,079 --> 02:50:36,159
Paste it here.

3429
02:50:32,318 --> 02:50:39,438
Here we will add end date and end date.

3430
02:50:36,159 --> 02:50:42,718
That's it. So we have created a project.

3431
02:50:39,439 --> 02:50:45,278
It will be added in the database. After

3432
02:50:42,719 --> 02:50:51,357
that we have to add members to project

3433
02:50:45,279 --> 02:50:54,318
if they are in the workspace. So here

3434
02:50:51,359 --> 02:50:57,839
let's add the comment.

3435
02:50:54,318 --> 02:51:00,879
We will write add members to project if

3436
02:50:57,840 --> 02:51:05,759
they are in the workspace. So we'll add

3437
02:51:00,879 --> 02:51:08,079
the if statement and here we'll add the

3438
02:51:05,760 --> 02:51:11,1000
team members

3439
02:51:08,079 --> 02:51:17,239
question mark dot length.

3440
02:51:12,000 --> 02:51:17,240
So if the length is greater than zero.

3441
02:51:18,000 --> 02:51:23,839
So in this case we have to find the

3442
02:51:21,200 --> 02:51:26,879
members list to be added right. So just

3443
02:51:23,840 --> 02:51:29,759
add con

3444
02:51:26,879 --> 02:51:34,478
members to add

3445
02:51:29,760 --> 02:51:39,119
and it will be one empty array.

3446
02:51:34,478 --> 02:51:44,478
After that here we'll add the workspace

3447
02:51:39,120 --> 02:51:47,200
dot members dot for each

3448
02:51:44,478 --> 02:51:51,798
and here we'll add the arrow function.

3449
02:51:47,200 --> 02:51:51,799
So let's add the individual member

3450
02:51:52,559 --> 02:51:57,437
and create the add function. Then add

3451
02:51:54,559 --> 02:52:02,078
the function here and write if statement

3452
02:51:57,439 --> 02:52:03,599
if the team members

3453
02:52:02,079 --> 02:52:05,357
dot

3454
02:52:03,600 --> 02:52:08,080
includes

3455
02:52:05,359 --> 02:52:13,359
and here we'll add the

3456
02:52:08,079 --> 02:52:15,838
member dot user dot email. So if this

3457
02:52:13,359 --> 02:52:18,639
individual member email id is included

3458
02:52:15,840 --> 02:52:22,719
in this team members then it should be

3459
02:52:18,639 --> 02:52:26,398
added in the project right. So here

3460
02:52:22,719 --> 02:52:32,959
we'll add the if statement. So just add

3461
02:52:26,398 --> 02:52:38,398
the members to add and then add dot push

3462
02:52:32,959 --> 02:52:41,679
and here we'll add the member dot user

3463
02:52:38,398 --> 02:52:43,598
dot id. So we have to find the user ID.

3464
02:52:41,680 --> 02:52:47,040
it will be added in this one that is

3465
02:52:43,600 --> 02:52:49,359
members to add right this is an array

3466
02:52:47,040 --> 02:52:52,318
that's why we have added push so now we

3467
02:52:49,359 --> 02:52:55,920
have the list of team members with their

3468
02:52:52,318 --> 02:52:59,999
ID to be added in the project now to add

3469
02:52:55,920 --> 02:53:02,639
the project member we have to add a new

3470
02:53:00,000 --> 02:53:06,318
entry in the database if I open our

3471
02:53:02,639 --> 02:53:10,158
Prisma schema file you can see here we

3472
02:53:06,318 --> 02:53:11,999
have user workspace then workspace

3473
02:53:10,159 --> 02:53:15,437
member

3474
02:53:12,000 --> 02:53:17,919
Right? So in this one we have to add

3475
02:53:15,439 --> 02:53:21,278
these data but this is the workspace

3476
02:53:17,920 --> 02:53:23,519
member. Then we have the project. Right?

3477
02:53:21,279 --> 02:53:25,1000
And uh after that we have the project

3478
02:53:23,520 --> 02:53:28,560
member. Right? So we have to add the

3479
02:53:26,000 --> 02:53:31,120
data in this one that is project member.

3480
02:53:28,559 --> 02:53:34,477
We have to provide the

3481
02:53:31,120 --> 02:53:36,560
user ID and then we have to provide the

3482
02:53:34,478 --> 02:53:39,357
project ID.

3483
02:53:36,559 --> 02:53:42,158
Correct? And these are the relations

3484
02:53:39,359 --> 02:53:44,639
with other table and this ID is

3485
02:53:42,159 --> 02:53:46,878
autogenerated. So we have to provide the

3486
02:53:44,639 --> 02:53:49,999
user ID and project ID only in the

3487
02:53:46,879 --> 02:53:52,638
project member. So I'll just come here

3488
02:53:50,000 --> 02:53:55,519
and uh

3489
02:53:52,639 --> 02:54:00,198
here let's add

3490
02:53:55,520 --> 02:54:00,199
await and provide

3491
02:54:00,318 --> 02:54:07,119
Prisma dot

3492
02:54:03,680 --> 02:54:08,960
project member. Let me add it inside

3493
02:54:07,120 --> 02:54:12,240
this

3494
02:54:08,959 --> 02:54:17,718
if block.

3495
02:54:12,239 --> 02:54:17,719
Right. So let me move it here

3496
02:54:19,040 --> 02:54:25,358
like this. So we have added a weight

3497
02:54:22,079 --> 02:54:27,277
prisma.p project member

3498
02:54:25,359 --> 02:54:29,439
dot

3499
02:54:27,279 --> 02:54:33,040
create many

3500
02:54:29,439 --> 02:54:35,919
and uh after that let's add the object

3501
02:54:33,040 --> 02:54:39,358
here where we'll add the data property

3502
02:54:35,920 --> 02:54:43,120
and in this data property let's add the

3503
02:54:39,359 --> 02:54:47,200
members to add then we'll add dot map

3504
02:54:43,120 --> 02:54:51,680
method and here we'll add the individual

3505
02:54:47,200 --> 02:54:54,719
member id and create the arrow function

3506
02:54:51,680 --> 02:54:57,359
now Here let's add parenthesis then

3507
02:54:54,719 --> 02:55:00,318
object and it will be

3508
02:54:57,359 --> 02:55:03,278
project id

3509
02:55:00,318 --> 02:55:06,678
and uh in this project id let's store

3510
02:55:03,279 --> 02:55:06,679
the project

3511
02:55:07,120 --> 02:55:14,398
dot id after that we will store the user

3512
02:55:11,040 --> 02:55:17,040
ID and in this user ID let's add the

3513
02:55:14,398 --> 02:55:19,838
member ID

3514
02:55:17,040 --> 02:55:22,799
that's it so it will add the data in the

3515
02:55:19,840 --> 02:55:26,639
database that will add the project

3516
02:55:22,799 --> 02:55:29,518
member. Right? Now, here we have the

3517
02:55:26,639 --> 02:55:31,919
project and here we have the project

3518
02:55:29,520 --> 02:55:34,720
member.

3519
02:55:31,920 --> 02:55:36,880
Correct? Now, after that, we will add

3520
02:55:34,719 --> 02:55:40,159
one more variable where we will store

3521
02:55:36,879 --> 02:55:42,879
the project data with the member also

3522
02:55:40,159 --> 02:55:46,918
and that will be sent in the response.

3523
02:55:42,879 --> 02:55:46,919
So just add const

3524
02:55:47,279 --> 02:55:56,160
project with members

3525
02:55:50,559 --> 02:56:01,519
equal to await and here we'll add Prisma

3526
02:55:56,159 --> 02:56:03,678
dot project dot find unique

3527
02:56:01,520 --> 02:56:05,840
and here we'll add the object and

3528
02:56:03,680 --> 02:56:09,279
provide where

3529
02:56:05,840 --> 02:56:11,599
and let's add the ID. So the id is

3530
02:56:09,279 --> 02:56:15,599
project

3531
02:56:11,600 --> 02:56:18,319
dot id. After that let's add includes.

3532
02:56:15,600 --> 02:56:20,640
So it will include the other data. So

3533
02:56:18,318 --> 02:56:24,638
let's add include. And in this one just

3534
02:56:20,639 --> 02:56:29,519
add the member property

3535
02:56:24,639 --> 02:56:34,398
or members property. And here let's add

3536
02:56:29,520 --> 02:56:37,1000
include and provide the user property.

3537
02:56:34,398 --> 02:56:41,039
And in this user just add true.

3538
02:56:38,000 --> 02:56:46,398
After that let's add the

3539
02:56:41,040 --> 02:56:48,080
tasks also and in this task let's add

3540
02:56:46,398 --> 02:56:51,199
include

3541
02:56:48,079 --> 02:56:55,598
and after that let's provide the

3542
02:56:51,200 --> 02:56:57,999
assigne and here let's make it true

3543
02:56:55,600 --> 02:57:02,159
and after that we'll add the comments

3544
02:56:58,000 --> 02:57:06,080
also. So let's add comments

3545
02:57:02,159 --> 02:57:11,039
and in this comments again add includes

3546
02:57:06,079 --> 02:57:13,918
and uh let's add the user and make it

3547
02:57:11,040 --> 02:57:16,559
true

3548
02:57:13,920 --> 02:57:19,120
like this. And after that we have to add

3549
02:57:16,559 --> 02:57:21,278
the owner property.

3550
02:57:19,120 --> 02:57:23,679
In this owner property let's make it

3551
02:57:21,279 --> 02:57:25,1000
true.

3552
02:57:23,680 --> 02:57:28,479
That's it. So here we have the project

3553
02:57:26,000 --> 02:57:31,359
with members and with that we have also

3554
02:57:28,478 --> 02:57:34,878
added the task and in this task we have

3555
02:57:31,359 --> 02:57:36,799
added the comments right and after that

3556
02:57:34,879 --> 02:57:38,959
we can send this projects with members

3557
02:57:36,799 --> 02:57:43,678
in the response so let's add the

3558
02:57:38,959 --> 02:57:46,079
response dot JSON

3559
02:57:43,680 --> 02:57:48,239
now here we have to add the project

3560
02:57:46,079 --> 02:57:50,638
property so let's add the project

3561
02:57:48,239 --> 02:57:52,798
property and it will be this project

3562
02:57:50,639 --> 02:57:54,397
with members

3563
02:57:52,799 --> 02:57:57,398
after that we'll add the message

3564
02:57:54,398 --> 02:57:57,398
property

3565
02:57:57,600 --> 02:58:04,159
and in this message property let's add

3566
02:57:59,840 --> 02:58:06,240
the string that is project created

3567
02:58:04,159 --> 02:58:08,718
successfully.

3568
02:58:06,239 --> 02:58:10,958
That's it. So now we have created a

3569
02:58:08,719 --> 02:58:14,959
controller function using that we can

3570
02:58:10,959 --> 02:58:17,919
create a new project. Right? Next let's

3571
02:58:14,959 --> 02:58:20,558
come to the second function that is

3572
02:58:17,920 --> 02:58:23,040
update project.

3573
02:58:20,559 --> 02:58:25,278
Now in this one we have this try block.

3574
02:58:23,040 --> 02:58:28,399
So in this try block again we need the

3575
02:58:25,279 --> 02:58:30,160
user id. So I'll write

3576
02:58:28,398 --> 02:58:34,317
const

3577
02:58:30,159 --> 02:58:36,397
user id it will be await request do

3578
02:58:34,318 --> 02:58:38,638
after that again we need the data from

3579
02:58:36,398 --> 02:58:43,598
the body. So here also we'll add con

3580
02:58:38,639 --> 02:58:46,079
curly braces and we will get the ID

3581
02:58:43,600 --> 02:58:48,319
then workspace ID description name

3582
02:58:46,079 --> 02:58:51,678
status a start date end date progress

3583
02:58:48,318 --> 02:58:54,718
and priority right and here we have the

3584
02:58:51,680 --> 02:58:56,800
ID also so that we can update the

3585
02:58:54,719 --> 02:58:59,999
particular project and we will get this

3586
02:58:56,799 --> 02:59:03,039
data from the request dobody after that

3587
02:59:00,000 --> 02:59:04,960
let's add

3588
02:59:03,040 --> 02:59:07,520
comment here

3589
02:59:04,959 --> 02:59:10,079
check if user has admin role control for

3590
02:59:07,520 --> 02:59:13,359
workspace. So again we will add the same

3591
02:59:10,079 --> 02:59:16,998
thing. Let me just come here,

3592
02:59:13,359 --> 02:59:16,1000
copy this one

3593
02:59:17,840 --> 02:59:21,639
and paste it here.

3594
02:59:22,000 --> 02:59:29,919
that is const workspace equal to update

3595
02:59:25,520 --> 02:59:34,799
prisma dotworkspace dotfind where id is

3596
02:59:29,920 --> 02:59:36,880
workspace id includes members include

3597
02:59:34,799 --> 02:59:40,799
user true

3598
02:59:36,879 --> 02:59:43,678
right and after that let's add the if

3599
02:59:40,799 --> 02:59:48,239
statement

3600
02:59:43,680 --> 02:59:50,239
not of workspace so if we could not find

3601
02:59:48,239 --> 02:59:53,357
the workspace we will send the response

3602
02:59:50,239 --> 02:59:55,838
so just add return response a status for

3603
02:59:53,359 --> 02:59:58,879
not four and the message is workspace

3604
02:59:55,840 --> 03:00:01,1000
not found. So here you can see we have

3605
02:59:58,879 --> 03:00:03,999
added if statement not of workspace.

3606
03:00:02,000 --> 03:00:05,680
Suppose if the workspace is not

3607
03:00:04,000 --> 03:00:08,080
available we will send this message in

3608
03:00:05,680 --> 03:00:09,1000
the response. Now suppose the workspace

3609
03:00:08,079 --> 03:00:13,918
is available. So here we'll add the

3610
03:00:10,000 --> 03:00:16,919
another if statement and write not of

3611
03:00:13,920 --> 03:00:16,920
workspace

3612
03:00:17,040 --> 03:00:24,559
dot members dot sum.

3613
03:00:21,680 --> 03:00:28,160
Then we will add the add function here.

3614
03:00:24,559 --> 03:00:32,318
And here we'll add the

3615
03:00:28,159 --> 03:00:34,639
individual member and provide member dot

3616
03:00:32,318 --> 03:00:38,478
user id

3617
03:00:34,639 --> 03:00:42,879
equal to user ID

3618
03:00:38,478 --> 03:00:45,918
and operator we will add the member

3619
03:00:42,879 --> 03:00:48,798
dot ro

3620
03:00:45,920 --> 03:00:51,519
equal to

3621
03:00:48,799 --> 03:00:54,159
admin.

3622
03:00:51,520 --> 03:00:56,478
So what is happening here? It will check

3623
03:00:54,159 --> 03:00:58,798
the

3624
03:00:56,478 --> 03:01:03,357
user is the member

3625
03:00:58,799 --> 03:01:07,039
and user is admin in this workspace.

3626
03:01:03,359 --> 03:01:09,120
Right? But suppose the user is not admin

3627
03:01:07,040 --> 03:01:11,040
in this workspace then what will happen?

3628
03:01:09,120 --> 03:01:14,160
So here we have added not operator. It

3629
03:01:11,040 --> 03:01:16,479
means when the user is not admin in that

3630
03:01:14,159 --> 03:01:19,357
case we will find the project and we

3631
03:01:16,478 --> 03:01:22,317
will check the user is the team lead in

3632
03:01:19,359 --> 03:01:24,399
this project or not. Right? Now suppose

3633
03:01:22,318 --> 03:01:26,478
the user is already admin then we will

3634
03:01:24,398 --> 03:01:29,678
come to this line and here we will

3635
03:01:26,478 --> 03:01:32,559
simply update the project right but if

3636
03:01:29,680 --> 03:01:37,199
the user is not admin so here let's find

3637
03:01:32,559 --> 03:01:40,198
the project first so just add const

3638
03:01:37,200 --> 03:01:40,200
project

3639
03:01:40,639 --> 03:01:51,519
equal to await and then write the Prisma

3640
03:01:45,279 --> 03:01:51,519
dot project dot find unique

3641
03:01:51,840 --> 03:01:58,080
And let's add the where property and

3642
03:01:55,040 --> 03:02:00,559
provide the id.

3643
03:01:58,079 --> 03:02:03,438
So it will find the project. After that

3644
03:02:00,559 --> 03:02:05,759
here let's add the if statement if not

3645
03:02:03,439 --> 03:02:07,358
of project. Suppose the project is not

3646
03:02:05,760 --> 03:02:09,760
available

3647
03:02:07,359 --> 03:02:12,879
with this id. Right? So just add the

3648
03:02:09,760 --> 03:02:17,439
return statement and provide this

3649
03:02:12,879 --> 03:02:20,798
response dot status 4.4 four and the

3650
03:02:17,439 --> 03:02:23,439
message is project not found. Right? Now

3651
03:02:20,799 --> 03:02:25,919
we'll add the else statement.

3652
03:02:23,439 --> 03:02:32,119
If the project is available then we will

3653
03:02:25,920 --> 03:02:32,120
check the role. So let's add else if

3654
03:02:32,639 --> 03:02:41,918
and in this else if let me write

3655
03:02:37,279 --> 03:02:44,719
project dot team lead

3656
03:02:41,920 --> 03:02:47,040
not equal to

3657
03:02:44,719 --> 03:02:50,719
user ID

3658
03:02:47,040 --> 03:02:53,278
right so if it is not the team lead so

3659
03:02:50,719 --> 03:02:55,358
let's add the return

3660
03:02:53,279 --> 03:02:58,799
and here we'll add the response so just

3661
03:02:55,359 --> 03:03:01,839
add response dot a status

3662
03:02:58,799 --> 03:03:04,478
4.3 then we'll add the message you don't

3663
03:03:01,840 --> 03:03:06,559
have permission to update projects in

3664
03:03:04,478 --> 03:03:10,718
this workspace

3665
03:03:06,559 --> 03:03:13,679
right now if the user is admin then they

3666
03:03:10,719 --> 03:03:16,679
can directly come here and we'll write

3667
03:03:13,680 --> 03:03:16,680
const

3668
03:03:16,719 --> 03:03:19,719
project

3669
03:03:19,840 --> 03:03:29,519
equal to await and we'll use prisma

3670
03:03:24,639 --> 03:03:31,599
dot project dot update. We will use the

3671
03:03:29,520 --> 03:03:34,319
update method here to update the

3672
03:03:31,600 --> 03:03:38,319
project. So in this object we'll add the

3673
03:03:34,318 --> 03:03:40,879
where property and provide the ID.

3674
03:03:38,318 --> 03:03:43,999
Then we'll add comma and provide the

3675
03:03:40,879 --> 03:03:47,839
data. So in this data let's add the

3676
03:03:44,000 --> 03:03:49,359
object and provide the workspace ID.

3677
03:03:47,840 --> 03:03:52,719
Then

3678
03:03:49,359 --> 03:03:55,359
let's provide the description.

3679
03:03:52,719 --> 03:03:59,039
Then we will provide the name. After

3680
03:03:55,359 --> 03:04:01,1000
that we will provide the status.

3681
03:03:59,040 --> 03:04:03,1000
Then let's provide the

3682
03:04:02,000 --> 03:04:08,000
priority.

3683
03:04:04,000 --> 03:04:11,278
After that we will provide the progress.

3684
03:04:08,000 --> 03:04:14,879
Then provide a start date and end date.

3685
03:04:11,279 --> 03:04:17,840
So I'll just copy from here a start and

3686
03:04:14,879 --> 03:04:20,638
end date.

3687
03:04:17,840 --> 03:04:22,639
Paste it here.

3688
03:04:20,639 --> 03:04:24,799
So again you can see we have the

3689
03:04:22,639 --> 03:04:27,759
workspace ID, description, name, a

3690
03:04:24,799 --> 03:04:31,199
status, priority, progress, a start date

3691
03:04:27,760 --> 03:04:34,800
and end date. Right after that we will

3692
03:04:31,200 --> 03:04:39,1000
send the response. So let's add response

3693
03:04:34,799 --> 03:04:42,478
dot JSON and here let's add the project

3694
03:04:40,000 --> 03:04:45,599
that is updated here. So just add the

3695
03:04:42,478 --> 03:04:48,159
project and then we'll add comma message

3696
03:04:45,600 --> 03:04:51,920
property and here we'll add the message

3697
03:04:48,159 --> 03:04:54,239
project updated successfully. That's it.

3698
03:04:51,920 --> 03:04:57,359
So here we have created the function

3699
03:04:54,239 --> 03:04:59,357
using that we can update the project.

3700
03:04:57,359 --> 03:05:02,160
Now we have the third function here that

3701
03:04:59,359 --> 03:05:04,960
is add member to project. So let's

3702
03:05:02,159 --> 03:05:08,878
complete this function also. So in this

3703
03:05:04,959 --> 03:05:11,518
try block let's add con

3704
03:05:08,879 --> 03:05:13,119
curly braces. we will get the user id

3705
03:05:11,520 --> 03:05:15,840
from

3706
03:05:13,120 --> 03:05:19,839
request. So just add user id equal to

3707
03:05:15,840 --> 03:05:22,800
await request do.

3708
03:05:19,840 --> 03:05:24,800
After that let's add const project id.

3709
03:05:22,799 --> 03:05:28,079
We will get the project ID from the

3710
03:05:24,799 --> 03:05:30,638
body. So just add

3711
03:05:28,079 --> 03:05:33,199
request or instead of body we will get

3712
03:05:30,639 --> 03:05:35,198
it from the parameter. So let's add dot

3713
03:05:33,200 --> 03:05:37,600
paradams.

3714
03:05:35,200 --> 03:05:40,079
So we will get it from the URL paradoms

3715
03:05:37,600 --> 03:05:41,920
and after that we'll add email and we

3716
03:05:40,079 --> 03:05:44,159
will get the email from the body. So

3717
03:05:41,920 --> 03:05:45,759
let's add con curly braces email equal

3718
03:05:44,159 --> 03:05:49,397
to

3719
03:05:45,760 --> 03:05:49,398
request dobody.

3720
03:05:49,840 --> 03:05:53,1000
So you can see we are getting the user

3721
03:05:51,760 --> 03:05:55,920
ID.

3722
03:05:54,000 --> 03:05:58,559
So this is the user ID who will add the

3723
03:05:55,920 --> 03:06:02,080
member. Then we have the project ID. We

3724
03:05:58,559 --> 03:06:05,679
will get this project ID from the URL

3725
03:06:02,079 --> 03:06:08,239
path or the URL parameters. After that

3726
03:06:05,680 --> 03:06:11,040
we will get the email id and this email

3727
03:06:08,239 --> 03:06:13,758
id will be sent in the request in the

3728
03:06:11,040 --> 03:06:18,318
body. Now after that let's add the

3729
03:06:13,760 --> 03:06:21,519
comment check if user is project lead.

3730
03:06:18,318 --> 03:06:24,558
So let's add con project equal to await

3731
03:06:21,520 --> 03:06:30,240
and here we will use prisma

3732
03:06:24,559 --> 03:06:33,357
dot project dot find unique

3733
03:06:30,239 --> 03:06:36,397
and let's add the where property and

3734
03:06:33,359 --> 03:06:39,040
provide the id here. So the ID is

3735
03:06:36,398 --> 03:06:40,959
project ID.

3736
03:06:39,040 --> 03:06:43,839
After that let's add the comma and

3737
03:06:40,959 --> 03:06:45,358
include. In this include let's add the

3738
03:06:43,840 --> 03:06:49,599
member

3739
03:06:45,359 --> 03:06:53,1000
and in this members property let's add

3740
03:06:49,600 --> 03:06:56,399
include and provide the user and let's

3741
03:06:54,000 --> 03:07:00,080
make it true. So it will add the user

3742
03:06:56,398 --> 03:07:02,718
data also in this project.

3743
03:07:00,079 --> 03:07:08,198
After that here let's add the if

3744
03:07:02,719 --> 03:07:08,199
statement if not of project.

3745
03:07:09,279 --> 03:07:13,920
So in this case we will send the

3746
03:07:10,959 --> 03:07:16,478
response. So just add response

3747
03:07:13,920 --> 03:07:19,040
dot a status 44 and the message is

3748
03:07:16,478 --> 03:07:21,758
project not found. After that we'll add

3749
03:07:19,040 --> 03:07:23,520
another if statement.

3750
03:07:21,760 --> 03:07:27,760
If

3751
03:07:23,520 --> 03:07:31,680
the project dot team lead not equal to

3752
03:07:27,760 --> 03:07:35,760
user id right so if the user is not the

3753
03:07:31,680 --> 03:07:39,359
team lead so in this case we'll add

3754
03:07:35,760 --> 03:07:41,359
return response do a status 44 and then

3755
03:07:39,359 --> 03:07:44,479
we'll add the message here using JSON

3756
03:07:41,359 --> 03:07:47,359
method so it will be only project lead

3757
03:07:44,478 --> 03:07:50,958
can add members

3758
03:07:47,359 --> 03:07:53,278
now suppose the user is team lead so in

3759
03:07:50,959 --> 03:07:56,239
this case let's add the comment check if

3760
03:07:53,279 --> 03:07:58,719
the user is already a member. So if we

3761
03:07:56,239 --> 03:08:01,838
are trying to add a user in the project

3762
03:07:58,719 --> 03:08:07,039
and this user is already a member on

3763
03:08:01,840 --> 03:08:13,160
this project. So here let's add con

3764
03:08:07,040 --> 03:08:13,160
existing member equal to project

3765
03:08:14,639 --> 03:08:24,558
dot members dot find method

3766
03:08:20,879 --> 03:08:26,638
and here we'll add the add a function

3767
03:08:24,559 --> 03:08:29,679
and in this function parameter we'll get

3768
03:08:26,639 --> 03:08:32,879
the individual member

3769
03:08:29,680 --> 03:08:36,080
and after that let's add member do email

3770
03:08:32,879 --> 03:08:38,798
id equal to email id

3771
03:08:36,079 --> 03:08:40,878
right after that let's add the if

3772
03:08:38,799 --> 03:08:44,879
statement

3773
03:08:40,879 --> 03:08:46,959
if existing member is true right so in

3774
03:08:44,879 --> 03:08:50,798
this case we will send the response so

3775
03:08:46,959 --> 03:08:53,678
let's add return response do a status

3776
03:08:50,799 --> 03:08:56,718
400 json and the message is user is

3777
03:08:53,680 --> 03:08:59,199
already a member now after that let's

3778
03:08:56,719 --> 03:09:01,199
add

3779
03:08:59,200 --> 03:09:02,160
con

3780
03:09:01,200 --> 03:09:04,478
user

3781
03:09:02,159 --> 03:09:08,958
equal to await.

3782
03:09:04,478 --> 03:09:10,478
Then we'll add the Prisma dot user

3783
03:09:08,959 --> 03:09:13,438
dot

3784
03:09:10,478 --> 03:09:15,678
find unique

3785
03:09:13,439 --> 03:09:21,120
and in this one we'll add the where

3786
03:09:15,680 --> 03:09:23,760
property and provide the email id.

3787
03:09:21,120 --> 03:09:26,080
So using this email id we will get the

3788
03:09:23,760 --> 03:09:29,840
particular user and after that let's add

3789
03:09:26,079 --> 03:09:32,878
the if statement not of user. Suppose we

3790
03:09:29,840 --> 03:09:35,439
could not find the user with this email

3791
03:09:32,879 --> 03:09:38,398
id. So let's add the return statement.

3792
03:09:35,439 --> 03:09:40,318
And here we'll add a status 4.4 and the

3793
03:09:38,398 --> 03:09:42,239
message is user not found. Now suppose

3794
03:09:40,318 --> 03:09:46,239
the user is available with this email

3795
03:09:42,239 --> 03:09:50,559
id. Then we will add the

3796
03:09:46,239 --> 03:09:53,199
data in database. So let's add const

3797
03:09:50,559 --> 03:09:55,999
member

3798
03:09:53,200 --> 03:09:58,959
equal to await. Then we will add the

3799
03:09:56,000 --> 03:10:01,040
Prisma

3800
03:09:58,959 --> 03:10:03,039
dot

3801
03:10:01,040 --> 03:10:07,599
project member

3802
03:10:03,040 --> 03:10:10,559
dot create. And after that let's add the

3803
03:10:07,600 --> 03:10:12,880
data. And in this data simply add the

3804
03:10:10,559 --> 03:10:15,039
user ID

3805
03:10:12,879 --> 03:10:17,839
right. And in this user ID let's add the

3806
03:10:15,040 --> 03:10:21,200
user dot id property. After that we'll

3807
03:10:17,840 --> 03:10:24,800
add the project ID.

3808
03:10:21,200 --> 03:10:27,680
That's it. We need only these two data.

3809
03:10:24,799 --> 03:10:29,999
So this user will be added in this

3810
03:10:27,680 --> 03:10:32,319
project. It means the member is added in

3811
03:10:30,000 --> 03:10:37,080
the project. After that let's send the

3812
03:10:32,318 --> 03:10:37,079
response. So let's add response.json.

3813
03:10:37,279 --> 03:10:42,479
And in this one let's add the object and

3814
03:10:40,318 --> 03:10:44,798
provide this member

3815
03:10:42,478 --> 03:10:46,718
who is added. After that we'll add the

3816
03:10:44,799 --> 03:10:49,598
comma and provide the message here. So

3817
03:10:46,719 --> 03:10:51,759
the message is member added

3818
03:10:49,600 --> 03:10:53,840
successfully. That's it. So here we have

3819
03:10:51,760 --> 03:11:00,080
created three controller function that

3820
03:10:53,840 --> 03:11:02,318
is add member then update project and

3821
03:11:00,079 --> 03:11:04,958
create project. Now using these

3822
03:11:02,318 --> 03:11:08,239
controller function we'll create the API

3823
03:11:04,959 --> 03:11:12,239
endpoint. So let's create the routes. So

3824
03:11:08,239 --> 03:11:14,639
I'll open the sidebar. Here we have the

3825
03:11:12,239 --> 03:11:16,477
routes folder. In this one create a new

3826
03:11:14,639 --> 03:11:19,478
file and write the file name project

3827
03:11:16,478 --> 03:11:19,478
routes.js.

3828
03:11:20,959 --> 03:11:26,478
Now in this one we'll create the router.

3829
03:11:24,239 --> 03:11:30,239
So just add import express from the

3830
03:11:26,478 --> 03:11:34,397
express package and then we'll add con

3831
03:11:30,239 --> 03:11:37,758
project router equal to express dot

3832
03:11:34,398 --> 03:11:40,878
router. So we have created the project

3833
03:11:37,760 --> 03:11:43,920
router. Now in this project router let's

3834
03:11:40,879 --> 03:11:46,798
add different path. So we'll add the API

3835
03:11:43,920 --> 03:11:48,719
type that is post

3836
03:11:46,799 --> 03:11:51,438
and then we'll provide the path. it is

3837
03:11:48,719 --> 03:11:53,759
slash and then provide comma and here

3838
03:11:51,439 --> 03:11:56,799
we'll add the controller function name

3839
03:11:53,760 --> 03:11:59,200
that is create

3840
03:11:56,799 --> 03:12:01,278
project.

3841
03:11:59,200 --> 03:12:03,039
So you can see the create project has

3842
03:12:01,279 --> 03:12:05,840
been imported from this controllers

3843
03:12:03,040 --> 03:12:09,599
folder project controller.js file write

3844
03:12:05,840 --> 03:12:11,759
the file name extension js.

3845
03:12:09,600 --> 03:12:15,119
So here we have added create project.

3846
03:12:11,760 --> 03:12:18,160
Now let me just duplicate this and here

3847
03:12:15,120 --> 03:12:20,879
it will change the type it will be put

3848
03:12:18,159 --> 03:12:22,878
like this and the path will be same.

3849
03:12:20,879 --> 03:12:25,999
Here we will update the controller

3850
03:12:22,879 --> 03:12:29,199
function. So it will be

3851
03:12:26,000 --> 03:12:33,439
update project. So update project has

3852
03:12:29,200 --> 03:12:35,438
been imported. Now let's duplicate it.

3853
03:12:33,439 --> 03:12:38,560
Here we will change the type. It will be

3854
03:12:35,439 --> 03:12:41,1000
post. And then we have to update the

3855
03:12:38,559 --> 03:12:44,959
path. So it will be / colon and provide

3856
03:12:42,000 --> 03:12:48,399
the project id.

3857
03:12:44,959 --> 03:12:52,798
So this project id will be added using

3858
03:12:48,398 --> 03:12:56,199
url padams. After that we'll add /

3859
03:12:52,799 --> 03:12:56,198
add member.

3860
03:12:56,239 --> 03:13:01,599
So first we'll add the project ID then

3861
03:12:59,359 --> 03:13:04,799
add member and after that here we have

3862
03:13:01,600 --> 03:13:07,519
to add the controller function that is

3863
03:13:04,799 --> 03:13:08,879
add member. So you can see the add

3864
03:13:07,520 --> 03:13:10,959
member controller function has been

3865
03:13:08,879 --> 03:13:13,039
imported. Next we have to export this

3866
03:13:10,959 --> 03:13:17,039
router from this file. So let's add

3867
03:13:13,040 --> 03:13:19,439
export default project router. Now let's

3868
03:13:17,040 --> 03:13:23,200
open our main file that is server.js

3869
03:13:19,439 --> 03:13:28,800
file. And in this one

3870
03:13:23,200 --> 03:13:34,318
here let's add app dot use and provide

3871
03:13:28,799 --> 03:13:36,879
the API path. It will be / API/ projects

3872
03:13:34,318 --> 03:13:39,438
like this. And after that we have to add

3873
03:13:36,879 --> 03:13:41,518
the middleware that is product. So the

3874
03:13:39,439 --> 03:13:45,120
product middleware has been added. And

3875
03:13:41,520 --> 03:13:48,239
after that we'll add the

3876
03:13:45,120 --> 03:13:50,160
project router. So the project router

3877
03:13:48,238 --> 03:13:52,478
has been imported. If I come here you

3878
03:13:50,159 --> 03:13:55,519
can see it has been imported. So here we

3879
03:13:52,478 --> 03:13:58,317
have created the APIs to add a new

3880
03:13:55,520 --> 03:14:01,520
project, update the project and add a

3881
03:13:58,318 --> 03:14:04,237
new member in the project.

3882
03:14:01,520 --> 03:14:07,279
Now we have to create the APIs to add

3883
03:14:04,238 --> 03:14:10,398
task in this project. For that we'll

3884
03:14:07,279 --> 03:14:13,920
create the controller file. So let's

3885
03:14:10,398 --> 03:14:16,159
open the sidebar and in this

3886
03:14:13,920 --> 03:14:19,040
controller folder we will create a new

3887
03:14:16,159 --> 03:14:22,038
file and write the file name task

3888
03:14:19,040 --> 03:14:22,040
controller.js.

3889
03:14:23,359 --> 03:14:28,160
Now in this one first we'll create the

3890
03:14:26,000 --> 03:14:31,040
controller function to create a new

3891
03:14:28,159 --> 03:14:34,078
task. So let's add the comment that is

3892
03:14:31,040 --> 03:14:37,679
create task and after that we'll create

3893
03:14:34,079 --> 03:14:41,438
the function here. So let's add export

3894
03:14:37,680 --> 03:14:43,1000
const create task equal to

3895
03:14:41,439 --> 03:14:46,479
async arrow function. Now in this

3896
03:14:44,000 --> 03:14:49,519
function parameter we will get request

3897
03:14:46,478 --> 03:14:52,638
and response and after that let's add

3898
03:14:49,520 --> 03:14:56,800
the try catch statement.

3899
03:14:52,639 --> 03:15:00,398
Now in this try block we will

3900
03:14:56,799 --> 03:15:02,879
use the request to get the user ID. So

3901
03:15:00,398 --> 03:15:04,959
let's add con

3902
03:15:02,879 --> 03:15:10,879
curly braces

3903
03:15:04,959 --> 03:15:12,959
user id and let's get this user id from

3904
03:15:10,879 --> 03:15:15,959
the request

3905
03:15:12,959 --> 03:15:15,959
dot

3906
03:15:16,000 --> 03:15:23,599
o function and before this we will add

3907
03:15:19,520 --> 03:15:27,920
the await also like this. So now we have

3908
03:15:23,600 --> 03:15:30,640
the user ID. After that we need the task

3909
03:15:27,920 --> 03:15:32,319
data that needs to be added in the

3910
03:15:30,639 --> 03:15:36,158
project.

3911
03:15:32,318 --> 03:15:39,598
So I'll write const curly braces.

3912
03:15:36,159 --> 03:15:43,357
First we need the project ID.

3913
03:15:39,600 --> 03:15:46,478
After that we need the title.

3914
03:15:43,359 --> 03:15:50,319
Then we need description.

3915
03:15:46,478 --> 03:15:54,079
After that we need type.

3916
03:15:50,318 --> 03:15:59,759
After that we will get the status

3917
03:15:54,079 --> 03:16:02,879
priority and assigne ID.

3918
03:15:59,760 --> 03:16:06,319
After that here we'll get the due date

3919
03:16:02,879 --> 03:16:08,798
also. So let's add the due date

3920
03:16:06,318 --> 03:16:12,237
equal to

3921
03:16:08,799 --> 03:16:15,999
request dobody. So

3922
03:16:12,238 --> 03:16:20,318
we have to send these data on this API.

3923
03:16:16,000 --> 03:16:22,160
After that let's add const origin equal

3924
03:16:20,318 --> 03:16:23,758
to

3925
03:16:22,159 --> 03:16:27,678
request

3926
03:16:23,760 --> 03:16:32,039
dot get method

3927
03:16:27,680 --> 03:16:32,040
and here we will add origin.

3928
03:16:33,040 --> 03:16:38,479
After that let's add the comment. So

3929
03:16:36,000 --> 03:16:41,120
I'll write

3930
03:16:38,478 --> 03:16:44,718
check if user has admin role for

3931
03:16:41,120 --> 03:16:47,600
project. So first we need to find the

3932
03:16:44,719 --> 03:16:51,438
project using this

3933
03:16:47,600 --> 03:16:53,439
project id. So I'll write con project

3934
03:16:51,439 --> 03:16:55,200
equal to

3935
03:16:53,439 --> 03:16:57,919
await

3936
03:16:55,200 --> 03:17:00,719
and then we'll use prisma.

3937
03:16:57,920 --> 03:17:04,839
import the prisma from config folder and

3938
03:17:00,719 --> 03:17:04,839
add the file name extension.js.

3939
03:17:04,959 --> 03:17:12,237
Now let's add prisma dot

3940
03:17:09,520 --> 03:17:14,880
project dot

3941
03:17:12,238 --> 03:17:18,558
find unique

3942
03:17:14,879 --> 03:17:21,119
in this one let's add the where property

3943
03:17:18,559 --> 03:17:24,158
and then we have to provide the id so

3944
03:17:21,120 --> 03:17:27,438
the id is project id that we are getting

3945
03:17:24,159 --> 03:17:31,277
from the request body after that let's

3946
03:17:27,439 --> 03:17:36,800
add the include property in this include

3947
03:17:31,279 --> 03:17:39,679
let's add the members and uh after that

3948
03:17:36,799 --> 03:17:43,199
let's add include

3949
03:17:39,680 --> 03:17:47,920
and here we'll and curly braces

3950
03:17:43,200 --> 03:17:53,680
user property true. So in the members it

3951
03:17:47,920 --> 03:17:56,959
will add the users data right after that

3952
03:17:53,680 --> 03:18:00,479
here we'll add another if statement and

3953
03:17:56,959 --> 03:18:03,119
write not of project suppose we could

3954
03:18:00,478 --> 03:18:05,998
not find any project with this project

3955
03:18:03,120 --> 03:18:09,120
id right so in this case we'll send the

3956
03:18:06,000 --> 03:18:12,479
response so let's add return response do

3957
03:18:09,120 --> 03:18:14,879
a status 44 and the message is project

3958
03:18:12,478 --> 03:18:17,599
not found

3959
03:18:14,879 --> 03:18:22,159
now suppose the project is available. So

3960
03:18:17,600 --> 03:18:29,398
here we'll add else if. So in this else

3961
03:18:22,159 --> 03:18:29,397
if let's add the project dot team lead

3962
03:18:29,840 --> 03:18:34,719
not equal to

3963
03:18:32,639 --> 03:18:39,278
user ID.

3964
03:18:34,719 --> 03:18:42,879
So if this user is not a team lead in

3965
03:18:39,279 --> 03:18:45,279
this project in this case let's add

3966
03:18:42,879 --> 03:18:48,758
return. So I'll just copy this statement

3967
03:18:45,279 --> 03:18:48,759
paste it here

3968
03:18:48,959 --> 03:18:56,558
and uh here we'll write response a

3969
03:18:52,719 --> 03:18:59,598
status 4 not3 and then we'll add the

3970
03:18:56,559 --> 03:19:02,719
message. So the message is

3971
03:18:59,600 --> 03:19:04,880
you don't have admin privileges for this

3972
03:19:02,719 --> 03:19:09,598
project.

3973
03:19:04,879 --> 03:19:13,998
Let me update this not equal to.

3974
03:19:09,600 --> 03:19:18,160
Right. After that again add

3975
03:19:14,000 --> 03:19:20,238
else if and here we'll add the assigne

3976
03:19:18,159 --> 03:19:25,277
id

3977
03:19:20,238 --> 03:19:27,758
and then we'll add not of project dot

3978
03:19:25,279 --> 03:19:30,080
members

3979
03:19:27,760 --> 03:19:34,319
dotfind.

3980
03:19:30,079 --> 03:19:38,079
And here let's add the add function

3981
03:19:34,318 --> 03:19:41,119
provide individual member

3982
03:19:38,079 --> 03:19:46,398
and it will return the member dot user

3983
03:19:41,120 --> 03:19:48,479
id. So we'll add user dot id

3984
03:19:46,398 --> 03:19:50,798
equal to

3985
03:19:48,478 --> 03:19:54,638
assigne id

3986
03:19:50,799 --> 03:19:56,879
right. So in this case

3987
03:19:54,639 --> 03:19:59,599
we have to send the response. So let's

3988
03:19:56,879 --> 03:20:01,199
add

3989
03:19:59,600 --> 03:20:04,159
return

3990
03:20:01,200 --> 03:20:06,238
response do a status for not three and

3991
03:20:04,159 --> 03:20:09,998
here we'll add the message. So the

3992
03:20:06,238 --> 03:20:13,919
message is assigne is not a member of

3993
03:20:10,000 --> 03:20:17,599
the project or workspace.

3994
03:20:13,920 --> 03:20:19,839
Right now after that we'll add const and

3995
03:20:17,600 --> 03:20:22,239
here we'll create the task. So let's add

3996
03:20:19,840 --> 03:20:24,960
task

3997
03:20:22,238 --> 03:20:26,558
equal to await. And now we will add the

3998
03:20:24,959 --> 03:20:28,237
Prisma

3999
03:20:26,559 --> 03:20:31,839
dot

4000
03:20:28,238 --> 03:20:35,039
task dot create method.

4001
03:20:31,840 --> 03:20:37,040
And here we have to add the data. So

4002
03:20:35,040 --> 03:20:40,799
let's add the data property and provide

4003
03:20:37,040 --> 03:20:43,358
the project ID first. Then we have to

4004
03:20:40,799 --> 03:20:44,959
provide the title.

4005
03:20:43,359 --> 03:20:46,960
After that we will provide the

4006
03:20:44,959 --> 03:20:51,119
description.

4007
03:20:46,959 --> 03:20:53,518
Then provide priority.

4008
03:20:51,120 --> 03:20:55,358
After that we will provide the assigne

4009
03:20:53,520 --> 03:21:00,960
id

4010
03:20:55,359 --> 03:21:03,599
and then let's provide the a status

4011
03:21:00,959 --> 03:21:07,919
right then add comma and here we'll add

4012
03:21:03,600 --> 03:21:10,159
the due date in this due date let's add

4013
03:21:07,920 --> 03:21:12,639
new

4014
03:21:10,159 --> 03:21:17,357
date and

4015
03:21:12,639 --> 03:21:20,719
here we'll provide the due date.

4016
03:21:17,359 --> 03:21:24,399
So here we have created a new task. This

4017
03:21:20,719 --> 03:21:27,598
task will be added in the database.

4018
03:21:24,398 --> 03:21:33,558
Now in this task we will add the assigne

4019
03:21:27,600 --> 03:21:33,560
details also. So here let's add const

4020
03:21:33,760 --> 03:21:37,800
task with assigne

4021
03:21:38,238 --> 03:21:44,438
equal to await and then provide Prisma

4022
03:21:44,559 --> 03:21:49,437
dot

4023
03:21:47,120 --> 03:21:52,318
task dot

4024
03:21:49,439 --> 03:21:54,799
find unique

4025
03:21:52,318 --> 03:21:58,798
and after that here let's add the where

4026
03:21:54,799 --> 03:22:03,519
property and provide the id. So the id

4027
03:21:58,799 --> 03:22:05,999
is task dot id. Then we will provide the

4028
03:22:03,520 --> 03:22:10,199
comma and provide include. In this

4029
03:22:06,000 --> 03:22:10,200
include just add the

4030
03:22:10,318 --> 03:22:17,039
assigne and it will be true.

4031
03:22:14,478 --> 03:22:19,758
So it will add the assigne data also.

4032
03:22:17,040 --> 03:22:22,238
Right? After that we can send the

4033
03:22:19,760 --> 03:22:25,040
response here. So let's add

4034
03:22:22,238 --> 03:22:29,039
response.json.

4035
03:22:25,040 --> 03:22:31,919
And here we have to add the task. So

4036
03:22:29,040 --> 03:22:34,399
let's add the task property.

4037
03:22:31,920 --> 03:22:36,880
And in this task provide this task with

4038
03:22:34,398 --> 03:22:38,798
assigne.

4039
03:22:36,879 --> 03:22:41,438
After that we have to add the message

4040
03:22:38,799 --> 03:22:44,638
also. So let's add the message property.

4041
03:22:41,439 --> 03:22:46,639
And the message text is task created

4042
03:22:44,639 --> 03:22:48,478
successfully. Now come to the catch

4043
03:22:46,639 --> 03:22:52,238
block. And in this catch block simply

4044
03:22:48,478 --> 03:22:55,758
add console log error. Then we'll add

4045
03:22:52,238 --> 03:22:59,358
response dot a status 500. Then we'll

4046
03:22:55,760 --> 03:23:02,559
add dot JSON method and provide the

4047
03:22:59,359 --> 03:23:04,960
message property that is error docode or

4048
03:23:02,559 --> 03:23:07,118
error dot message. So we have created

4049
03:23:04,959 --> 03:23:10,878
this controller function. Using that we

4050
03:23:07,120 --> 03:23:12,238
can create a new task. After that we

4051
03:23:10,879 --> 03:23:15,199
need to create another controller

4052
03:23:12,238 --> 03:23:18,638
function. Using that we can update the

4053
03:23:15,200 --> 03:23:20,640
task. Right? So scroll down add the

4054
03:23:18,639 --> 03:23:23,438
comment here

4055
03:23:20,639 --> 03:23:25,999
update task right now let me just copy

4056
03:23:23,439 --> 03:23:29,599
the same task from here

4057
03:23:26,000 --> 03:23:33,120
let's copy it

4058
03:23:29,600 --> 03:23:36,800
and paste it here.

4059
03:23:33,120 --> 03:23:39,278
Here we will change the name. So first

4060
03:23:36,799 --> 03:23:42,879
update the function name that is update

4061
03:23:39,279 --> 03:23:45,040
task. It is also a synchronous add

4062
03:23:42,879 --> 03:23:49,039
function with try catch block inside

4063
03:23:45,040 --> 03:23:53,1000
this function. Then here we need to get

4064
03:23:49,040 --> 03:23:58,879
the task right. So let's add const

4065
03:23:54,000 --> 03:24:02,640
task equal to await

4066
03:23:58,879 --> 03:24:08,318
and then we'll add the Prisma

4067
03:24:02,639 --> 03:24:10,318
dot task dot find unique.

4068
03:24:08,318 --> 03:24:11,838
And after that in this one just add

4069
03:24:10,318 --> 03:24:14,718
where

4070
03:24:11,840 --> 03:24:21,359
and here let's add the id. So the id

4071
03:24:14,719 --> 03:24:26,078
will be request dot paradams. So in the

4072
03:24:21,359 --> 03:24:30,560
API URL parameter we'll add the task id

4073
03:24:26,079 --> 03:24:33,678
right. So just add paradams dot id.

4074
03:24:30,559 --> 03:24:36,477
So here we'll get the task id and we

4075
03:24:33,680 --> 03:24:40,960
will find the task using this id using

4076
03:24:36,478 --> 03:24:43,599
the prisma dot task dotfind unique.

4077
03:24:40,959 --> 03:24:46,959
Right after that

4078
03:24:43,600 --> 03:24:51,080
here let's add the if statement if and

4079
03:24:46,959 --> 03:24:51,079
provide not of task.

4080
03:24:51,760 --> 03:24:56,080
So if we could not find the task in this

4081
03:24:54,398 --> 03:24:58,798
condition we'll add the return

4082
03:24:56,079 --> 03:25:04,238
statement. So let's add return

4083
03:24:58,799 --> 03:25:06,799
response status 44 and JSON message is

4084
03:25:04,238 --> 03:25:09,758
task not found. After that we will get

4085
03:25:06,799 --> 03:25:11,999
the user id from the request o it is

4086
03:25:09,760 --> 03:25:15,439
correct. Then let me remove the data

4087
03:25:12,000 --> 03:25:18,559
from the body. We will use it later and

4088
03:25:15,439 --> 03:25:21,040
remove the origin also.

4089
03:25:18,559 --> 03:25:24,398
So here we have the user ID that we are

4090
03:25:21,040 --> 03:25:28,479
getting from the request do method.

4091
03:25:24,398 --> 03:25:31,838
Right. And after that

4092
03:25:28,478 --> 03:25:34,317
here we have to find the project

4093
03:25:31,840 --> 03:25:37,759
right. So here we have project equal to

4094
03:25:34,318 --> 03:25:42,718
await then prisma dot project dotfind

4095
03:25:37,760 --> 03:25:47,519
unique where ID is

4096
03:25:42,719 --> 03:25:49,839
this particular task dot

4097
03:25:47,520 --> 03:25:52,560
project ID

4098
03:25:49,840 --> 03:25:54,719
and after that here we have include and

4099
03:25:52,559 --> 03:25:58,799
in this one we have added members

4100
03:25:54,719 --> 03:26:01,199
include user true right now here we have

4101
03:25:58,799 --> 03:26:04,079
added if not of project suppose the

4102
03:26:01,200 --> 03:26:06,799
project is not available

4103
03:26:04,079 --> 03:26:08,718
in this variable. Right? So here we'll

4104
03:26:06,799 --> 03:26:12,159
send the message that is project not

4105
03:26:08,719 --> 03:26:14,558
found. Then we have added else if

4106
03:26:12,159 --> 03:26:17,038
statement and here we have added you

4107
03:26:14,559 --> 03:26:19,198
don't have admin privileges

4108
03:26:17,040 --> 03:26:22,639
for this project.

4109
03:26:19,200 --> 03:26:24,640
Right? And remove this last if

4110
03:26:22,639 --> 03:26:27,759
statement.

4111
03:26:24,639 --> 03:26:31,518
So I'll remove this one.

4112
03:26:27,760 --> 03:26:35,1000
That's it. And after that

4113
03:26:31,520 --> 03:26:39,1000
here we'll add const

4114
03:26:36,000 --> 03:26:45,640
and let's add updated task

4115
03:26:40,000 --> 03:26:45,639
equal to await. And let's use the Prisma

4116
03:26:46,159 --> 03:26:53,199
dot task dot update method.

4117
03:26:51,040 --> 03:26:55,679
Using this we will update the task in

4118
03:26:53,200 --> 03:27:00,560
database. Right? And here we have the

4119
03:26:55,680 --> 03:27:04,080
previous task data. Let me remove it.

4120
03:27:00,559 --> 03:27:06,559
And uh let's remove this one also. So

4121
03:27:04,079 --> 03:27:09,357
here we have updated task. It is equal

4122
03:27:06,559 --> 03:27:12,318
to await prisma task update. Now here

4123
03:27:09,359 --> 03:27:15,759
let's add where

4124
03:27:12,318 --> 03:27:20,478
and provide the id. So it will be

4125
03:27:15,760 --> 03:27:22,479
request dot params dot id. So this is

4126
03:27:20,478 --> 03:27:24,397
the task id. After that we have to

4127
03:27:22,478 --> 03:27:26,397
update the data. So let's add the data

4128
03:27:24,398 --> 03:27:29,918
property and we will get it from the

4129
03:27:26,398 --> 03:27:34,718
request dot body. That's it. So it will

4130
03:27:29,920 --> 03:27:37,279
update the task right and uh after that

4131
03:27:34,719 --> 03:27:39,598
we will send the message also and we'll

4132
03:27:37,279 --> 03:27:42,399
also send the updated task right. So

4133
03:27:39,600 --> 03:27:44,800
just add response.json

4134
03:27:42,398 --> 03:27:48,718
task property and in this task property

4135
03:27:44,799 --> 03:27:50,959
provide this updated task correct and

4136
03:27:48,719 --> 03:27:52,879
then we have to add the message. So the

4137
03:27:50,959 --> 03:27:56,398
message is

4138
03:27:52,879 --> 03:27:58,718
task updated successfully and then we

4139
03:27:56,398 --> 03:28:00,478
have this catch block. So we have

4140
03:27:58,719 --> 03:28:03,358
created the controller function to

4141
03:28:00,478 --> 03:28:06,478
update any task. Next we have to create

4142
03:28:03,359 --> 03:28:09,278
a function using that we can delete any

4143
03:28:06,478 --> 03:28:12,559
task. Right? So let's come here add the

4144
03:28:09,279 --> 03:28:14,880
comment delete task and let me just copy

4145
03:28:12,559 --> 03:28:18,078
this function from here.

4146
03:28:14,879 --> 03:28:20,798
Let's copy and paste it here.

4147
03:28:18,079 --> 03:28:22,478
Right now in this one we have the try

4148
03:28:20,799 --> 03:28:25,358
catch block. We have the same statement

4149
03:28:22,478 --> 03:28:27,199
in the catch block. And here we have the

4150
03:28:25,359 --> 03:28:29,359
try block.

4151
03:28:27,200 --> 03:28:32,719
Let's start with the function name. So

4152
03:28:29,359 --> 03:28:36,799
the function name should be delete task.

4153
03:28:32,719 --> 03:28:40,238
Right now let's remove this and this one

4154
03:28:36,799 --> 03:28:43,039
also. First we will get the user ID from

4155
03:28:40,238 --> 03:28:46,318
the request.

4156
03:28:43,040 --> 03:28:49,1000
After that we need the task ID from the

4157
03:28:46,318 --> 03:28:53,919
body. So here we'll write

4158
03:28:50,000 --> 03:28:56,479
const curly braces

4159
03:28:53,920 --> 03:28:58,719
task ids

4160
03:28:56,478 --> 03:29:02,478
equal to

4161
03:28:58,719 --> 03:29:05,358
request dot body

4162
03:29:02,478 --> 03:29:09,918
right and after that let's find the

4163
03:29:05,359 --> 03:29:13,1000
task. So just add con task equal to

4164
03:29:09,920 --> 03:29:18,959
await and here we'll add Prisma

4165
03:29:14,000 --> 03:29:21,519
dot task dot find many

4166
03:29:18,959 --> 03:29:23,518
we can delete many task right so here

4167
03:29:21,520 --> 03:29:27,600
we'll add

4168
03:29:23,520 --> 03:29:30,239
this object and provide where and then

4169
03:29:27,600 --> 03:29:34,478
we will add curly braces

4170
03:29:30,238 --> 03:29:36,478
id and curly braces

4171
03:29:34,478 --> 03:29:40,478
in

4172
03:29:36,478 --> 03:29:43,199
task ids. So it will delete all the task

4173
03:29:40,478 --> 03:29:45,918
with this ids

4174
03:29:43,200 --> 03:29:48,318
right and after that let's add if

4175
03:29:45,920 --> 03:29:52,679
statement if

4176
03:29:48,318 --> 03:29:52,678
the task dotlength

4177
03:29:52,959 --> 03:30:00,758
is equal to zero. So in this case let's

4178
03:29:57,760 --> 03:30:00,760
add

4179
03:30:02,478 --> 03:30:07,838
return

4180
03:30:04,318 --> 03:30:11,678
response a status 44 JSON message and

4181
03:30:07,840 --> 03:30:15,800
the message is task not found.

4182
03:30:11,680 --> 03:30:15,800
So here we have the

4183
03:30:16,079 --> 03:30:21,199
task ids and using these ids we will

4184
03:30:18,799 --> 03:30:23,839
find all the tasks. Suppose we don't

4185
03:30:21,200 --> 03:30:26,560
find any task here. The task length is

4186
03:30:23,840 --> 03:30:29,519
zero. Then we'll display this message in

4187
03:30:26,559 --> 03:30:32,879
the response. Right? Now suppose the

4188
03:30:29,520 --> 03:30:35,359
task is available. This length is

4189
03:30:32,879 --> 03:30:38,358
greater than zero. Right? So in this

4190
03:30:35,359 --> 03:30:38,359
case,

4191
03:30:38,478 --> 03:30:43,199
let's add

4192
03:30:40,398 --> 03:30:44,959
con project equal to await prisma.

4193
03:30:43,200 --> 03:30:48,799
project.findique.

4194
03:30:44,959 --> 03:30:53,278
Then we'll add where id and in this id

4195
03:30:48,799 --> 03:30:55,919
let's add the task index zero dot

4196
03:30:53,279 --> 03:30:59,759
project id

4197
03:30:55,920 --> 03:31:02,238
it will be tasks like this and after

4198
03:30:59,760 --> 03:31:04,800
that we have added include let me remove

4199
03:31:02,238 --> 03:31:09,678
the comment from here we have added

4200
03:31:04,799 --> 03:31:13,759
include members include user true I'll

4201
03:31:09,680 --> 03:31:15,199
remove this comment from here also

4202
03:31:13,760 --> 03:31:17,920
so here we have added added this

4203
03:31:15,200 --> 03:31:19,919
project. Right? Now here we have added

4204
03:31:17,920 --> 03:31:22,238
not of project. If the project is not

4205
03:31:19,920 --> 03:31:26,399
available, we will return the response

4206
03:31:22,238 --> 03:31:28,318
project not found. And if the user is

4207
03:31:26,398 --> 03:31:30,959
not

4208
03:31:28,318 --> 03:31:33,598
team lead, right? Then we will return

4209
03:31:30,959 --> 03:31:37,039
this response. You don't have admin

4210
03:31:33,600 --> 03:31:41,920
privileges for this project.

4211
03:31:37,040 --> 03:31:44,919
Correct? After that here we'll add

4212
03:31:41,920 --> 03:31:44,920
await

4213
03:31:44,959 --> 03:31:52,638
prisma dot

4214
03:31:47,840 --> 03:31:54,719
task dot delete menu

4215
03:31:52,639 --> 03:31:59,599
right and after that here we'll add

4216
03:31:54,719 --> 03:32:04,078
where and provide the id and in this one

4217
03:31:59,600 --> 03:32:07,680
we'll add the object provide in

4218
03:32:04,079 --> 03:32:10,079
task ids so it will delete all the tasks

4219
03:32:07,680 --> 03:32:13,279
Right after that we'll send the response

4220
03:32:10,079 --> 03:32:16,559
using this response dojson and then

4221
03:32:13,279 --> 03:32:18,960
we'll add the message property. So the

4222
03:32:16,559 --> 03:32:21,679
message will be task deleted

4223
03:32:18,959 --> 03:32:24,718
successfully

4224
03:32:21,680 --> 03:32:27,1000
like this. So here we have created

4225
03:32:24,719 --> 03:32:29,999
another function to delete the task. Now

4226
03:32:28,000 --> 03:32:34,639
using these controller function we'll

4227
03:32:30,000 --> 03:32:38,398
create the APIs. Right? For that

4228
03:32:34,639 --> 03:32:40,238
let's create a new file. And uh here in

4229
03:32:38,398 --> 03:32:42,159
this

4230
03:32:40,238 --> 03:32:46,959
routes folder we'll create a new file

4231
03:32:42,159 --> 03:32:49,038
and write the file name task routes.js.

4232
03:32:46,959 --> 03:32:51,518
Here we'll create the router. So let's

4233
03:32:49,040 --> 03:32:55,040
add import express from the express

4234
03:32:51,520 --> 03:32:59,680
package. And after that let's add const

4235
03:32:55,040 --> 03:33:01,679
task router equal to express dot router.

4236
03:32:59,680 --> 03:33:05,359
So we have created a router. In this

4237
03:33:01,680 --> 03:33:11,039
router, we'll add the end point. So I'll

4238
03:33:05,359 --> 03:33:13,519
write this task router dot post method

4239
03:33:11,040 --> 03:33:15,919
and provide the path slash and then

4240
03:33:13,520 --> 03:33:17,920
we'll add the controller function create

4241
03:33:15,920 --> 03:33:20,238
task. Create task has been imported.

4242
03:33:17,920 --> 03:33:22,960
Here we'll add the file name extension

4243
03:33:20,238 --> 03:33:25,518
js in this line.

4244
03:33:22,959 --> 03:33:30,159
Correct? Now let me just duplicate this

4245
03:33:25,520 --> 03:33:33,520
line. Here we'll add the type put

4246
03:33:30,159 --> 03:33:36,078
like this. And now we'll add the id

4247
03:33:33,520 --> 03:33:38,398
here. Just add colon ID. That will be

4248
03:33:36,079 --> 03:33:41,678
the task ID. And here we have to provide

4249
03:33:38,398 --> 03:33:44,478
the controller function

4250
03:33:41,680 --> 03:33:47,199
update task. It has been imported. Now

4251
03:33:44,478 --> 03:33:50,159
duplicate this line. And here we will

4252
03:33:47,200 --> 03:33:52,160
add the type post.

4253
03:33:50,159 --> 03:33:55,159
Right? And here we'll add the path

4254
03:33:52,159 --> 03:33:55,159
delete

4255
03:33:55,760 --> 03:34:02,559
/ delete and provide the controller

4256
03:33:58,238 --> 03:34:04,879
function called delete task. So the

4257
03:34:02,559 --> 03:34:06,879
delete task function has been imported.

4258
03:34:04,879 --> 03:34:09,358
After that we have to export this router

4259
03:34:06,879 --> 03:34:12,159
from here. So just add export default

4260
03:34:09,359 --> 03:34:14,080
task router. Now let's open our main

4261
03:34:12,159 --> 03:34:16,397
file server.js.

4262
03:34:14,079 --> 03:34:17,998
And in this one just duplicate this

4263
03:34:16,398 --> 03:34:21,519
line.

4264
03:34:18,000 --> 03:34:24,879
Correct? And here we'll change the path.

4265
03:34:21,520 --> 03:34:26,560
So it will be / API/ task. Then we'll

4266
03:34:24,879 --> 03:34:29,518
add the product middleware. And after

4267
03:34:26,559 --> 03:34:31,999
that we'll add the

4268
03:34:29,520 --> 03:34:34,560
task router. So you can see the task

4269
03:34:32,000 --> 03:34:38,238
router has been imported. So we have

4270
03:34:34,559 --> 03:34:42,078
created the API to create a new task,

4271
03:34:38,238 --> 03:34:43,919
update the task and delete the task.

4272
03:34:42,079 --> 03:34:47,678
Now we have to create the controller

4273
03:34:43,920 --> 03:34:50,479
function for comments. It means when we

4274
03:34:47,680 --> 03:34:52,479
have created the task, user can add the

4275
03:34:50,478 --> 03:34:54,638
comments on the task. For that we have

4276
03:34:52,478 --> 03:34:56,958
to create the API. So let's create the

4277
03:34:54,639 --> 03:34:58,879
controller functions. So first we'll

4278
03:34:56,959 --> 03:35:01,119
create a file here. In this controllers

4279
03:34:58,879 --> 03:35:05,478
folder, create a new file and write the

4280
03:35:01,120 --> 03:35:05,479
file name comcontroller.js.

4281
03:35:05,840 --> 03:35:10,319
Now in this one first we'll add the

4282
03:35:08,398 --> 03:35:13,119
controller function to add comment. So

4283
03:35:10,318 --> 03:35:15,919
let's add the comment here. Add comment.

4284
03:35:13,120 --> 03:35:20,398
And then we'll add the function here

4285
03:35:15,920 --> 03:35:22,719
export con add comment equal to async

4286
03:35:20,398 --> 03:35:27,199
add arrow function. Then we'll add

4287
03:35:22,719 --> 03:35:29,199
request and response in this parameter.

4288
03:35:27,200 --> 03:35:32,079
After that let's add the try catch

4289
03:35:29,200 --> 03:35:33,999
statement. And after that in this catch

4290
03:35:32,079 --> 03:35:36,237
block we'll add the statement from

4291
03:35:34,000 --> 03:35:40,399
previous function. So I'll just copy

4292
03:35:36,238 --> 03:35:43,358
this and paste it here

4293
03:35:40,398 --> 03:35:47,519
like this. So here we have added console

4294
03:35:43,359 --> 03:35:49,1000
log and response status 500 JSON and the

4295
03:35:47,520 --> 03:35:51,600
message is error docode or error dot

4296
03:35:50,000 --> 03:35:54,160
message.

4297
03:35:51,600 --> 03:35:56,560
Now let's come here in the try block and

4298
03:35:54,159 --> 03:36:00,958
in this try block first we need the user

4299
03:35:56,559 --> 03:36:03,519
ID. So I'll write con user ID equal to a

4300
03:36:00,959 --> 03:36:06,718
request do

4301
03:36:03,520 --> 03:36:09,920
after that we'll add const curly braces.

4302
03:36:06,719 --> 03:36:13,119
Let's add the comment

4303
03:36:09,920 --> 03:36:15,519
and then we'll get the task ID and we'll

4304
03:36:13,120 --> 03:36:19,839
get these data from the request body. So

4305
03:36:15,520 --> 03:36:23,760
let's add request dot body.

4306
03:36:19,840 --> 03:36:26,719
Right after that we'll add check if user

4307
03:36:23,760 --> 03:36:28,720
is project member. So if the user is a

4308
03:36:26,719 --> 03:36:33,318
project member then only they can add

4309
03:36:28,719 --> 03:36:33,318
the comment. So I'll write const

4310
03:36:33,680 --> 03:36:40,479
task equal to await

4311
03:36:37,840 --> 03:36:42,479
prisma and here we'll add the file name

4312
03:36:40,478 --> 03:36:45,357
extension dot js in this import

4313
03:36:42,478 --> 03:36:48,237
statement. Then we'll add prisma dot

4314
03:36:45,359 --> 03:36:51,920
task dot

4315
03:36:48,238 --> 03:36:54,959
find unique and then we'll add the where

4316
03:36:51,920 --> 03:37:00,318
property and provide

4317
03:36:54,959 --> 03:37:03,119
id. So the id will be task id right. So

4318
03:37:00,318 --> 03:37:06,159
now we have the task here and after that

4319
03:37:03,120 --> 03:37:07,759
let's add const

4320
03:37:06,159 --> 03:37:10,078
project.

4321
03:37:07,760 --> 03:37:12,880
Let's find the project. So I'll write

4322
03:37:10,079 --> 03:37:14,559
project equal to await

4323
03:37:12,879 --> 03:37:20,638
prisma

4324
03:37:14,559 --> 03:37:24,398
dot project dot find unique.

4325
03:37:20,639 --> 03:37:29,519
And uh after that let's add the where.

4326
03:37:24,398 --> 03:37:33,999
And here let's add the ID. So the ID is

4327
03:37:29,520 --> 03:37:36,398
task dot project ID

4328
03:37:34,000 --> 03:37:37,919
like this. And after that let's add

4329
03:37:36,398 --> 03:37:41,718
include.

4330
03:37:37,920 --> 03:37:41,719
And here we'll add

4331
03:37:41,760 --> 03:37:46,479
members.

4332
03:37:43,279 --> 03:37:49,279
And again add include.

4333
03:37:46,478 --> 03:37:51,599
And here we'll add the user.

4334
03:37:49,279 --> 03:37:54,799
And let's make it true. So it will add

4335
03:37:51,600 --> 03:37:57,279
the user data in this project data. Now

4336
03:37:54,799 --> 03:38:01,278
suppose the project is not available. So

4337
03:37:57,279 --> 03:38:04,479
I'll write if not of project.

4338
03:38:01,279 --> 03:38:08,880
So in this case let's add the return and

4339
03:38:04,478 --> 03:38:12,317
provide response dot a status

4340
03:38:08,879 --> 03:38:16,238
4.4 and then JSON and message is project

4341
03:38:12,318 --> 03:38:18,638
not found. Now the project is available.

4342
03:38:16,238 --> 03:38:21,598
Then what will happen? Then we'll add

4343
03:38:18,639 --> 03:38:25,999
con member

4344
03:38:21,600 --> 03:38:30,318
equal to project dot

4345
03:38:26,000 --> 03:38:32,479
members dot find

4346
03:38:30,318 --> 03:38:34,398
and here we'll add the individual member

4347
03:38:32,478 --> 03:38:38,079
and create the add function. So I'll

4348
03:38:34,398 --> 03:38:40,638
write member and uh let's create the add

4349
03:38:38,079 --> 03:38:46,238
a function here. And after that let's

4350
03:38:40,639 --> 03:38:48,959
add the member dot user id

4351
03:38:46,238 --> 03:38:54,558
equal to

4352
03:38:48,959 --> 03:38:57,599
user id that we are getting here right

4353
03:38:54,559 --> 03:39:00,799
and uh after that

4354
03:38:57,600 --> 03:39:04,239
let's add the if statement. If not of

4355
03:39:00,799 --> 03:39:06,718
member it means this user is not the

4356
03:39:04,238 --> 03:39:09,278
project member. So in this case let's

4357
03:39:06,719 --> 03:39:14,478
add the return

4358
03:39:09,279 --> 03:39:16,960
and we'll add the a status 43 and the

4359
03:39:14,478 --> 03:39:19,357
message is you are not member of this

4360
03:39:16,959 --> 03:39:21,199
project. Right? Now suppose this member

4361
03:39:19,359 --> 03:39:24,080
is true. It means the user is the

4362
03:39:21,200 --> 03:39:26,478
project member. Right? So in this case

4363
03:39:24,079 --> 03:39:29,277
we can create the comment. So let's add

4364
03:39:26,478 --> 03:39:32,397
con

4365
03:39:29,279 --> 03:39:37,279
comment equal to

4366
03:39:32,398 --> 03:39:42,237
await and here we'll add

4367
03:39:37,279 --> 03:39:46,478
Prisma dot comment dot create

4368
03:39:42,238 --> 03:39:49,438
and after that let's add the data and in

4369
03:39:46,478 --> 03:39:55,278
this data simply add curly braces

4370
03:39:49,439 --> 03:39:59,040
provide the task ID and comment

4371
03:39:55,279 --> 03:40:03,640
And then we'll add the user ID also.

4372
03:39:59,040 --> 03:40:03,639
Let me move it in the new line

4373
03:40:04,478 --> 03:40:09,519
like this. So you can see we have added

4374
03:40:07,120 --> 03:40:13,120
data. In this data we have added task

4375
03:40:09,520 --> 03:40:17,239
ID, comment and user ID. Then we'll add

4376
03:40:13,120 --> 03:40:17,238
the comma here and provide

4377
03:40:17,520 --> 03:40:22,600
include. And here let's add

4378
03:40:23,520 --> 03:40:27,600
user

4379
03:40:25,040 --> 03:40:29,919
and make it true.

4380
03:40:27,600 --> 03:40:33,1000
That's it. Now after that we can send

4381
03:40:29,920 --> 03:40:36,880
the response. Right? So here we'll add

4382
03:40:34,000 --> 03:40:40,399
response.json

4383
03:40:36,879 --> 03:40:43,199
and let's add the comment here. So this

4384
03:40:40,398 --> 03:40:44,959
comment will be added in the response.

4385
03:40:43,200 --> 03:40:48,398
So we have created the controller

4386
03:40:44,959 --> 03:40:52,558
function. During that we can create a

4387
03:40:48,398 --> 03:40:55,438
new comment on the task.

4388
03:40:52,559 --> 03:40:58,078
If I come here you can see this content

4389
03:40:55,439 --> 03:41:01,278
is not used. So this is the comment

4390
03:40:58,079 --> 03:41:04,079
content right? So let's scroll down and

4391
03:41:01,279 --> 03:41:06,639
you can see in this database we are

4392
03:41:04,079 --> 03:41:10,237
adding task ID and then we have to add

4393
03:41:06,639 --> 03:41:13,839
this one content. Let's correct it. It

4394
03:41:10,238 --> 03:41:17,598
is task ID, content and user ID. That's

4395
03:41:13,840 --> 03:41:20,479
it. Save the changes. Now it is used.

4396
03:41:17,600 --> 03:41:23,279
Right? Next we have to add another

4397
03:41:20,478 --> 03:41:25,357
controller function. Using that we can

4398
03:41:23,279 --> 03:41:30,160
get comments

4399
03:41:25,359 --> 03:41:32,799
for individual task. Right? So here

4400
03:41:30,159 --> 03:41:34,958
we'll add one controller function. So

4401
03:41:32,799 --> 03:41:37,278
I'll write con

4402
03:41:34,959 --> 03:41:41,999
or we will export this function. So I'll

4403
03:41:37,279 --> 03:41:44,639
write export con get task comments equal

4404
03:41:42,000 --> 03:41:46,879
to async arrow function and in this

4405
03:41:44,639 --> 03:41:48,959
function parameter we'll get request and

4406
03:41:46,879 --> 03:41:51,039
response.

4407
03:41:48,959 --> 03:41:53,119
After that let's add the try catch

4408
03:41:51,040 --> 03:41:56,080
statement and in this catch block we'll

4409
03:41:53,120 --> 03:41:59,120
add this statement from here. After that

4410
03:41:56,079 --> 03:42:01,758
in this try block first we need the task

4411
03:41:59,120 --> 03:42:07,680
ID. So let's add con

4412
03:42:01,760 --> 03:42:12,318
curly braces task id equal to request

4413
03:42:07,680 --> 03:42:16,080
dot paradams. So from the

4414
03:42:12,318 --> 03:42:21,199
API padoms we will get the task id right

4415
03:42:16,079 --> 03:42:25,118
and after that let's add con

4416
03:42:21,200 --> 03:42:27,039
comments equal to await and provide the

4417
03:42:25,120 --> 03:42:29,438
prisma

4418
03:42:27,040 --> 03:42:32,160
dot

4419
03:42:29,439 --> 03:42:34,238
comment dot

4420
03:42:32,159 --> 03:42:38,078
find many

4421
03:42:34,238 --> 03:42:41,438
and in this one let's add the object

4422
03:42:38,079 --> 03:42:44,878
provide Here

4423
03:42:41,439 --> 03:42:49,1000
let's add the

4424
03:42:44,879 --> 03:42:54,398
task ID right then we'll add comma

4425
03:42:50,000 --> 03:42:58,160
include and here let's include the user

4426
03:42:54,398 --> 03:43:01,119
data. So let's add user true.

4427
03:42:58,159 --> 03:43:02,798
So here we have added this

4428
03:43:01,120 --> 03:43:05,278
statement using that we'll get the

4429
03:43:02,799 --> 03:43:09,759
comments right after that we can send

4430
03:43:05,279 --> 03:43:12,479
this comments in the response. So let's

4431
03:43:09,760 --> 03:43:14,880
add

4432
03:43:12,478 --> 03:43:17,758
response dojson

4433
03:43:14,879 --> 03:43:20,318
and in this JSON we'll add the object

4434
03:43:17,760 --> 03:43:22,160
and provide this comments.

4435
03:43:20,318 --> 03:43:24,558
That's it. So we have added the

4436
03:43:22,159 --> 03:43:28,317
controller function to get the comments

4437
03:43:24,559 --> 03:43:30,158
on a individual task. Now using these

4438
03:43:28,318 --> 03:43:32,318
controller function we have to create

4439
03:43:30,159 --> 03:43:35,998
the API endpoint. For that we have to

4440
03:43:32,318 --> 03:43:39,119
create the routes correct. So let's

4441
03:43:36,000 --> 03:43:41,519
create a new file in this routes folder

4442
03:43:39,120 --> 03:43:43,679
and write the file name comment

4443
03:43:41,520 --> 03:43:45,600
routes.js

4444
03:43:43,680 --> 03:43:48,319
and here we have to create the router.

4445
03:43:45,600 --> 03:43:52,478
So I'll write import express from the

4446
03:43:48,318 --> 03:43:54,798
express package. Then we'll add const

4447
03:43:52,478 --> 03:43:56,718
comment router

4448
03:43:54,799 --> 03:44:01,119
equal to

4449
03:43:56,719 --> 03:44:04,478
express dot router.

4450
03:44:01,120 --> 03:44:08,238
Now in this comment router we have to

4451
03:44:04,478 --> 03:44:10,718
add the method post and provide the

4452
03:44:08,238 --> 03:44:12,799
path. It will be slash and then we'll

4453
03:44:10,719 --> 03:44:15,119
add the add

4454
03:44:12,799 --> 03:44:16,638
comment controller function. So this add

4455
03:44:15,120 --> 03:44:19,438
comment controller function has been

4456
03:44:16,639 --> 03:44:22,879
imported. just add js file name

4457
03:44:19,439 --> 03:44:25,599
extension and uh after that let's

4458
03:44:22,879 --> 03:44:30,238
duplicate this line

4459
03:44:25,600 --> 03:44:33,199
here we'll add the path colon task id

4460
03:44:30,238 --> 03:44:35,999
right and here we'll add the type get so

4461
03:44:33,199 --> 03:44:39,920
this is the type get and here we'll add

4462
03:44:36,000 --> 03:44:43,359
the controller function get task

4463
03:44:39,920 --> 03:44:45,439
comments so this get task comments has

4464
03:44:43,359 --> 03:44:47,439
been imported after that we have to

4465
03:44:45,439 --> 03:44:50,479
export this comment route router. So

4466
03:44:47,439 --> 03:44:52,399
let's add export default comment router

4467
03:44:50,478 --> 03:44:55,197
and then we will add it in the main file

4468
03:44:52,398 --> 03:44:59,119
that is server.js. So duplicate this

4469
03:44:55,199 --> 03:45:03,279
line and here we'll add the path. So the

4470
03:44:59,120 --> 03:45:07,120
path will be / API/ comments then

4471
03:45:03,279 --> 03:45:09,679
protect middleware and here we'll add

4472
03:45:07,120 --> 03:45:12,639
comment router. So this comment router

4473
03:45:09,680 --> 03:45:16,080
has been imported from the comment

4474
03:45:12,639 --> 03:45:19,278
routes js file. So we have added the API

4475
03:45:16,079 --> 03:45:21,998
using that we can add the comment and we

4476
03:45:19,279 --> 03:45:25,040
can get the list of comments on any

4477
03:45:22,000 --> 03:45:27,759
task. Next we have to add one more

4478
03:45:25,040 --> 03:45:31,759
functionality here. Previously we have

4479
03:45:27,760 --> 03:45:33,679
created this task controller

4480
03:45:31,760 --> 03:45:36,160
and in this task controller you can see

4481
03:45:33,680 --> 03:45:38,720
we have this function create task. So

4482
03:45:36,159 --> 03:45:42,397
whenever a new task gets created we have

4483
03:45:38,719 --> 03:45:44,478
to send an email also to all users. For

4484
03:45:42,398 --> 03:45:47,678
that we are going to integrate the

4485
03:45:44,478 --> 03:45:49,758
sending email using ingest function. So

4486
03:45:47,680 --> 03:45:53,359
the ingest function will send the emails

4487
03:45:49,760 --> 03:45:55,760
to all user whenever a new task is

4488
03:45:53,359 --> 03:45:58,639
created.

4489
03:45:55,760 --> 03:46:01,359
To send an email we need a package

4490
03:45:58,639 --> 03:46:03,438
called node mailer. So let's open web

4491
03:46:01,359 --> 03:46:08,439
browser and in the new tab we will

4492
03:46:03,439 --> 03:46:08,439
search for node mailer.

4493
03:46:09,359 --> 03:46:12,920
Open this website.

4494
03:46:13,520 --> 03:46:18,560
And here you can see the command npm

4495
03:46:16,000 --> 03:46:21,120
install node mailer. We have to use this

4496
03:46:18,559 --> 03:46:24,078
to install this package. After that you

4497
03:46:21,120 --> 03:46:26,719
can see the step how to use it.

4498
03:46:24,079 --> 03:46:29,519
So to create the transporter we have to

4499
03:46:26,719 --> 03:46:31,999
add node miller.create transport. And in

4500
03:46:29,520 --> 03:46:34,880
this one we have to provide these data

4501
03:46:32,000 --> 03:46:37,519
where we'll add the SMTP details like

4502
03:46:34,879 --> 03:46:40,879
SMTP host and then username and

4503
03:46:37,520 --> 03:46:44,079
password. After that we will create the

4504
03:46:40,879 --> 03:46:47,119
sender using this transporter dot send

4505
03:46:44,079 --> 03:46:49,918
email or send mail. So we have this send

4506
03:46:47,120 --> 03:46:53,120
mail function where we will add the

4507
03:46:49,920 --> 03:46:55,920
email the sender email then receiver

4508
03:46:53,120 --> 03:46:57,438
email right and then we have to add the

4509
03:46:55,920 --> 03:46:59,120
subject

4510
03:46:57,439 --> 03:47:03,040
right and then we have to add the

4511
03:46:59,120 --> 03:47:05,999
message either in the HTML

4512
03:47:03,040 --> 03:47:07,759
or text. In this text, we can simply add

4513
03:47:06,000 --> 03:47:11,040
the text

4514
03:47:07,760 --> 03:47:15,840
or we can use the HTML to add the

4515
03:47:11,040 --> 03:47:17,599
formatted text like a HTML format. So to

4516
03:47:15,840 --> 03:47:20,239
use it, I'll just come back to the VS

4517
03:47:17,600 --> 03:47:22,159
code. Open the terminal

4518
03:47:20,238 --> 03:47:23,678
and uh let's come to the backend

4519
03:47:22,159 --> 03:47:27,437
terminal.

4520
03:47:23,680 --> 03:47:29,199
Here it is. This is the backend server.

4521
03:47:27,439 --> 03:47:31,919
So project is running. I'll write

4522
03:47:29,199 --> 03:47:35,679
control C to stop it. And here we'll add

4523
03:47:31,920 --> 03:47:38,160
this command npm install node mailer.

4524
03:47:35,680 --> 03:47:40,800
Press enter.

4525
03:47:38,159 --> 03:47:43,437
So it has been installed. After that I

4526
03:47:40,799 --> 03:47:45,278
start the project again using npm run

4527
03:47:43,439 --> 03:47:47,839
server.

4528
03:47:45,279 --> 03:47:52,080
So now the backend server is again

4529
03:47:47,840 --> 03:47:55,599
running. Now we will hide this terminal

4530
03:47:52,079 --> 03:47:57,918
and let's open the sidebar. In this

4531
03:47:55,600 --> 03:48:00,319
config folder we'll create a new file

4532
03:47:57,920 --> 03:48:03,319
and write the file name node mailer.js.

4533
03:48:00,318 --> 03:48:03,318
js.

4534
03:48:06,478 --> 03:48:13,119
So we have added node miller.js file in

4535
03:48:09,199 --> 03:48:14,880
this config folder and in this one first

4536
03:48:13,120 --> 03:48:17,120
we have to import the node miller

4537
03:48:14,879 --> 03:48:19,358
package. So just add import node miller

4538
03:48:17,120 --> 03:48:22,560
from node miller. After that we have to

4539
03:48:19,359 --> 03:48:27,398
create the transporter like this.

4540
03:48:22,559 --> 03:48:27,398
So I'll just come back and copy this.

4541
03:48:30,318 --> 03:48:34,197
and paste it here.

4542
03:48:36,478 --> 03:48:41,197
I'll remove this comment and remove this

4543
03:48:38,559 --> 03:48:45,437
secure property also.

4544
03:48:41,199 --> 03:48:48,960
So here we have the host port o then we

4545
03:48:45,439 --> 03:48:51,439
have the user and pass that is password.

4546
03:48:48,959 --> 03:48:53,758
So after creating this transporter here

4547
03:48:51,439 --> 03:48:56,318
we have to create a function that will

4548
03:48:53,760 --> 03:48:59,519
send the email. For that again come back

4549
03:48:56,318 --> 03:49:02,079
to the document on this node mailer and

4550
03:48:59,520 --> 03:49:04,560
we will copy this function.

4551
03:49:02,079 --> 03:49:07,277
Let's copy this one

4552
03:49:04,559 --> 03:49:13,158
and come here.

4553
03:49:07,279 --> 03:49:13,160
Let's paste it here. And after that

4554
03:49:14,639 --> 03:49:19,438
here I'll create a function. I'll write

4555
03:49:17,279 --> 03:49:21,759
const

4556
03:49:19,439 --> 03:49:23,1000
send email

4557
03:49:21,760 --> 03:49:26,639
equal to

4558
03:49:24,000 --> 03:49:30,000
asynchronous add a function.

4559
03:49:26,639 --> 03:49:32,318
Now within this function let's move this

4560
03:49:30,000 --> 03:49:34,799
code.

4561
03:49:32,318 --> 03:49:38,079
So it will send an email and it will

4562
03:49:34,799 --> 03:49:41,478
return some data. Right? So here I'll

4563
03:49:38,079 --> 03:49:41,478
write const

4564
03:49:42,000 --> 03:49:45,000
response

4565
03:49:45,279 --> 03:49:53,519
equal to await transporter dot send

4566
03:49:50,000 --> 03:49:57,040
mail. Right now here we have to add the

4567
03:49:53,520 --> 03:50:00,159
sender email id. After that we have to

4568
03:49:57,040 --> 03:50:02,719
provide the receiver email id. Then

4569
03:50:00,159 --> 03:50:06,078
subject and then we will provide the

4570
03:50:02,719 --> 03:50:08,719
html. So instead of this text we will

4571
03:50:06,079 --> 03:50:11,598
simply provide the HTML

4572
03:50:08,719 --> 03:50:15,679
remove this comment. Now let me remove

4573
03:50:11,600 --> 03:50:19,439
this dummy data from here.

4574
03:50:15,680 --> 03:50:23,279
And here we will get these data

4575
03:50:19,439 --> 03:50:27,040
from our parameters. Right? So here in

4576
03:50:23,279 --> 03:50:30,319
this parameter let's add curly braces.

4577
03:50:27,040 --> 03:50:33,278
We will get the two that is the receiver

4578
03:50:30,318 --> 03:50:35,438
email id. Then we'll add

4579
03:50:33,279 --> 03:50:38,880
subject

4580
03:50:35,439 --> 03:50:43,800
and after that we'll get the body data.

4581
03:50:38,879 --> 03:50:43,798
Right? So let's provide the two here.

4582
03:50:44,079 --> 03:50:49,197
After that we will provide the subject

4583
03:50:46,719 --> 03:50:51,598
and provide the comma and then provide

4584
03:50:49,199 --> 03:50:55,679
the body.

4585
03:50:51,600 --> 03:50:58,319
We will provide this body in HTML.

4586
03:50:55,680 --> 03:51:01,1000
Right? And here we have to add the

4587
03:50:58,318 --> 03:51:06,478
sendered email id. So to get the sender

4588
03:51:02,000 --> 03:51:09,599
email id and these SMTP data we have to

4589
03:51:06,478 --> 03:51:11,599
use any SMTP provider. For that let's

4590
03:51:09,600 --> 03:51:13,840
come back to the web browser and here we

4591
03:51:11,600 --> 03:51:18,080
will open

4592
03:51:13,840 --> 03:51:20,880
Bravo. You can use any SMTP provider.

4593
03:51:18,079 --> 03:51:22,958
So I'm going to use this

4594
03:51:20,879 --> 03:51:24,798
and uh

4595
03:51:22,959 --> 03:51:29,119
here you need to create an account. So,

4596
03:51:24,799 --> 03:51:31,119
I'll click on sign up for free

4597
03:51:29,120 --> 03:51:34,120
and let me continue with my Google

4598
03:51:31,120 --> 03:51:34,120
account.

4599
03:51:36,478 --> 03:51:42,079
After that, in the right side, you will

4600
03:51:39,359 --> 03:51:47,198
find your profile name. Let's click

4601
03:51:42,079 --> 03:51:49,519
here. And uh then I'll go to settings.

4602
03:51:47,199 --> 03:51:54,080
And in the left side, you will find this

4603
03:51:49,520 --> 03:51:58,959
SMTP and API. Let's click here.

4604
03:51:54,079 --> 03:52:02,559
So here you will find the SMTP server or

4605
03:51:58,959 --> 03:52:05,678
host name, then port number and then

4606
03:52:02,559 --> 03:52:08,799
your SMTP email.

4607
03:52:05,680 --> 03:52:12,399
Right? So we need to store these data in

4608
03:52:08,799 --> 03:52:15,598
the environment variable. Right? So I'll

4609
03:52:12,398 --> 03:52:19,678
just come back to the VS code

4610
03:52:15,600 --> 03:52:23,840
and let's open the server folder. Then

4611
03:52:19,680 --> 03:52:25,1000
open env file in this backend server.

4612
03:52:23,840 --> 03:52:28,319
Here we have these

4613
03:52:26,000 --> 03:52:30,639
environment variables. Right? And after

4614
03:52:28,318 --> 03:52:32,159
that here we'll add a space. And let's

4615
03:52:30,639 --> 03:52:35,119
add

4616
03:52:32,159 --> 03:52:38,159
sender email. So the sender email will

4617
03:52:35,120 --> 03:52:42,560
be the email id that we have used to

4618
03:52:38,159 --> 03:52:46,639
create the brao account. Right? So I'll

4619
03:52:42,559 --> 03:52:49,679
write the email id here that is

4620
03:52:46,639 --> 03:52:52,158
user.grad greatest stack@gmail.com.

4621
03:52:49,680 --> 03:52:55,840
I have used this email

4622
03:52:52,159 --> 03:52:58,718
and after that we will store the

4623
03:52:55,840 --> 03:53:03,040
username. So I'll write SMTP

4624
03:52:58,719 --> 03:53:06,318
user and this is the SMTP user. I'll

4625
03:53:03,040 --> 03:53:09,599
just copy and paste it here.

4626
03:53:06,318 --> 03:53:12,879
After that we'll add the SMTP pass that

4627
03:53:09,600 --> 03:53:14,800
is password. So here we have this

4628
03:53:12,879 --> 03:53:16,879
password

4629
03:53:14,799 --> 03:53:21,198
right. So we have multiple passwords

4630
03:53:16,879 --> 03:53:23,278
here. I'll create one more here. So

4631
03:53:21,199 --> 03:53:27,359
I'll click on this button generate new

4632
03:53:23,279 --> 03:53:30,479
SMTP key. Here we'll add the name. So

4633
03:53:27,359 --> 03:53:34,439
this is the project management

4634
03:53:30,478 --> 03:53:34,438
and click on generate.

4635
03:53:34,639 --> 03:53:40,639
So here we have the key. I'll just copy

4636
03:53:37,680 --> 03:53:43,279
this and paste it here.

4637
03:53:40,639 --> 03:53:46,158
So we have added the sender email id,

4638
03:53:43,279 --> 03:53:49,599
smtp user and password. Now just come

4639
03:53:46,159 --> 03:53:51,599
back here in the node mailer and here we

4640
03:53:49,600 --> 03:53:54,399
will get the sender email from the

4641
03:53:51,600 --> 03:53:57,840
environment file that is environment

4642
03:53:54,398 --> 03:54:03,039
variable file. So I'll write

4643
03:53:57,840 --> 03:54:06,318
process dot env dot

4644
03:54:03,040 --> 03:54:08,238
and the environment variable name sender

4645
03:54:06,318 --> 03:54:12,638
email

4646
03:54:08,238 --> 03:54:14,318
right and after that let's add the

4647
03:54:12,639 --> 03:54:16,799
username and password in this

4648
03:54:14,318 --> 03:54:19,197
transporter. So first we'll add this

4649
03:54:16,799 --> 03:54:22,478
SMTP host.

4650
03:54:19,199 --> 03:54:26,239
Let's just copy it.

4651
03:54:22,478 --> 03:54:30,397
Copy and paste it here.

4652
03:54:26,238 --> 03:54:32,318
then provide the email and password

4653
03:54:30,398 --> 03:54:35,277
right so it is also added in the

4654
03:54:32,318 --> 03:54:39,838
environment variable so I'll remove this

4655
03:54:35,279 --> 03:54:41,679
and provide process dot env

4656
03:54:39,840 --> 03:54:43,439
dot

4657
03:54:41,680 --> 03:54:46,439
SMTP

4658
03:54:43,439 --> 03:54:46,439
user

4659
03:54:47,279 --> 03:54:56,318
and uh let's just copy this paste it

4660
03:54:49,840 --> 03:54:59,199
here and here we'll add SMTP pass.

4661
03:54:56,318 --> 03:55:02,237
So we have configured this node mailer

4662
03:54:59,199 --> 03:55:04,319
to send an email. After that let's

4663
03:55:02,238 --> 03:55:07,039
export this send email function from

4664
03:55:04,318 --> 03:55:10,638
this file. So I'll write

4665
03:55:07,040 --> 03:55:13,679
export default send email and using this

4666
03:55:10,639 --> 03:55:16,238
function we can send the email right and

4667
03:55:13,680 --> 03:55:18,720
here we have the response. So this

4668
03:55:16,238 --> 03:55:21,198
function will return the response. So

4669
03:55:18,719 --> 03:55:23,119
here let's add

4670
03:55:21,199 --> 03:55:24,800
return

4671
03:55:23,120 --> 03:55:27,438
response.

4672
03:55:24,799 --> 03:55:31,039
So whenever we will call the send email

4673
03:55:27,439 --> 03:55:33,599
and provide the

4674
03:55:31,040 --> 03:55:35,839
receiver email id, subject and body, it

4675
03:55:33,600 --> 03:55:38,319
will send the email and return the

4676
03:55:35,840 --> 03:55:40,639
response. And we can call this function

4677
03:55:38,318 --> 03:55:44,638
from any file because we have exported

4678
03:55:40,639 --> 03:55:46,879
it from this file. After that,

4679
03:55:44,639 --> 03:55:49,438
we have to create the ingest function

4680
03:55:46,879 --> 03:55:52,079
that will send the email whenever the

4681
03:55:49,439 --> 03:55:56,160
task gets created.

4682
03:55:52,079 --> 03:55:59,197
So, I'll just come to sidebar.

4683
03:55:56,159 --> 03:56:02,718
We will come to inest folder and open

4684
03:55:59,199 --> 03:56:04,559
index.js file.

4685
03:56:02,719 --> 03:56:07,198
In this one, you can see we have created

4686
03:56:04,559 --> 03:56:09,358
these functions, right? And we have

4687
03:56:07,199 --> 03:56:11,840
already sync these functions with the

4688
03:56:09,359 --> 03:56:13,599
ingest application. Now we'll create one

4689
03:56:11,840 --> 03:56:17,840
more function.

4690
03:56:13,600 --> 03:56:19,920
So first we'll add the comment here.

4691
03:56:17,840 --> 03:56:24,639
Let's add the comment inest function to

4692
03:56:19,920 --> 03:56:27,599
send email on task creation.

4693
03:56:24,639 --> 03:56:31,119
And I'll write const

4694
03:56:27,600 --> 03:56:37,279
send task assignment email and it will

4695
03:56:31,120 --> 03:56:40,799
be inest dot create function.

4696
03:56:37,279 --> 03:56:45,120
Now in this one let's add the object and

4697
03:56:40,799 --> 03:56:48,558
provide the id. So in this id I'll write

4698
03:56:45,120 --> 03:56:51,520
send task assignment email then comma

4699
03:56:48,559 --> 03:56:55,039
and another object here we'll add the

4700
03:56:51,520 --> 03:56:59,438
event. So let's add the event it will be

4701
03:56:55,040 --> 03:57:02,959
app/ task dot assigned

4702
03:56:59,439 --> 03:57:04,879
right and after that let's add the

4703
03:57:02,959 --> 03:57:07,598
function here. So I'll write a sync add

4704
03:57:04,879 --> 03:57:10,079
arrow function and in this function

4705
03:57:07,600 --> 03:57:12,960
parameter

4706
03:57:10,079 --> 03:57:16,317
we will get the event and a step. So

4707
03:57:12,959 --> 03:57:20,159
I'll write event and a step here and

4708
03:57:16,318 --> 03:57:22,638
within this function let's get the task

4709
03:57:20,159 --> 03:57:24,878
data from this event. So I'll write

4710
03:57:22,639 --> 03:57:27,119
const

4711
03:57:24,879 --> 03:57:31,598
curly braces

4712
03:57:27,120 --> 03:57:33,600
task ID and then let's get the origin

4713
03:57:31,600 --> 03:57:36,080
also.

4714
03:57:33,600 --> 03:57:39,279
equal to

4715
03:57:36,079 --> 03:57:42,559
event dot data. So from this event we

4716
03:57:39,279 --> 03:57:45,840
will get the task id and origin. And

4717
03:57:42,559 --> 03:57:49,278
after getting it

4718
03:57:45,840 --> 03:57:51,679
here let's find this task. So I'll write

4719
03:57:49,279 --> 03:57:57,920
const

4720
03:57:51,680 --> 03:58:02,1000
task equal to await. Then use Prisma dot

4721
03:57:57,920 --> 03:58:02,1000
task dot find unique

4722
03:58:03,199 --> 03:58:08,920
and after that let's add where

4723
03:58:09,040 --> 03:58:15,278
id and provide this task id. So it will

4724
03:58:12,879 --> 03:58:17,197
find the particular task and in this one

4725
03:58:15,279 --> 03:58:20,439
we have to include some data. So just

4726
03:58:17,199 --> 03:58:20,439
add include

4727
03:58:20,559 --> 03:58:26,799
here we will add assigne

4728
03:58:24,318 --> 03:58:29,119
and make it true.

4729
03:58:26,799 --> 03:58:31,518
So it will add the assigne data and

4730
03:58:29,120 --> 03:58:34,560
after that it will also add the project

4731
03:58:31,520 --> 03:58:37,199
data. So just add project

4732
03:58:34,559 --> 03:58:39,919
true.

4733
03:58:37,199 --> 03:58:43,920
After getting the task data now we have

4734
03:58:39,920 --> 03:58:46,920
to send the email. So here we'll add

4735
03:58:43,920 --> 03:58:46,920
await

4736
03:58:47,760 --> 03:58:53,760
send email and let's import this

4737
03:58:50,159 --> 03:58:56,477
function. Click here.

4738
03:58:53,760 --> 03:58:58,239
I'll scroll up. You can see send email

4739
03:58:56,478 --> 03:59:02,277
has been imported from the node

4740
03:58:58,238 --> 03:59:02,278
mailer.js file.

4741
03:59:02,478 --> 03:59:09,277
And after that

4742
03:59:06,079 --> 03:59:11,998
in this one we have to provide one

4743
03:59:09,279 --> 03:59:14,080
object. So first we'll add the two

4744
03:59:12,000 --> 03:59:18,559
property.

4745
03:59:14,079 --> 03:59:20,159
In this two we will add the task dot

4746
03:59:18,559 --> 03:59:22,559
assigne

4747
03:59:20,159 --> 03:59:25,437
dot email.

4748
03:59:22,559 --> 03:59:28,318
So this is the receiver email. After

4749
03:59:25,439 --> 03:59:31,599
that we have to add the subject here. In

4750
03:59:28,318 --> 03:59:34,558
this subject let's add the message.

4751
03:59:31,600 --> 03:59:37,040
So I'll write double quote new task

4752
03:59:34,559 --> 03:59:41,437
assigned

4753
03:59:37,040 --> 03:59:43,759
or let me write new task assignment in

4754
03:59:41,439 --> 03:59:46,318
and then we'll add the project data.

4755
03:59:43,760 --> 03:59:49,439
Right? So to insert the project data

4756
03:59:46,318 --> 03:59:51,919
here we'll add the template literal. So

4757
03:59:49,439 --> 03:59:54,160
let me convert it in back text remove

4758
03:59:51,920 --> 03:59:56,080
the double quote and use back text here

4759
03:59:54,159 --> 03:59:59,038
so that we can add dollar sign curly

4760
03:59:56,079 --> 04:00:04,079
braces to use the template lit. Now

4761
03:59:59,040 --> 04:00:07,840
we'll add the task dot project

4762
04:00:04,079 --> 04:00:11,119
dot name. You can see in this task we

4763
04:00:07,840 --> 04:00:13,519
have included the project data and in

4764
04:00:11,120 --> 04:00:15,999
this project we will get the name also.

4765
04:00:13,520 --> 04:00:19,760
So the subject will be new task

4766
04:00:16,000 --> 04:00:22,318
assignment in project name.

4767
04:00:19,760 --> 04:00:27,519
Right? Now add comma and then we have to

4768
04:00:22,318 --> 04:00:31,119
add the third property that is body.

4769
04:00:27,520 --> 04:00:33,600
In this body also we'll add tactics and

4770
04:00:31,120 --> 04:00:37,278
uh after that here you can add more

4771
04:00:33,600 --> 04:00:41,840
details about this task. So you can add

4772
04:00:37,279 --> 04:00:46,959
the assign name like I'll write hi and

4773
04:00:41,840 --> 04:00:51,759
provide the dollar sign curly braces

4774
04:00:46,959 --> 04:00:56,478
and provide the task

4775
04:00:51,760 --> 04:00:59,199
dot assenee dot name. So this is the

4776
04:00:56,478 --> 04:01:02,958
receiver name right after that you can

4777
04:00:59,199 --> 04:01:05,439
add other details like task title. So we

4778
04:01:02,959 --> 04:01:07,518
can write like this

4779
04:01:05,439 --> 04:01:11,120
back

4780
04:01:07,520 --> 04:01:14,239
dollar sign curly braces

4781
04:01:11,120 --> 04:01:18,959
task dot title

4782
04:01:14,238 --> 04:01:21,919
remove this comma from here.

4783
04:01:18,959 --> 04:01:24,798
So we have added hi and receiver name.

4784
04:01:21,920 --> 04:01:28,238
Then we have added the task title and

4785
04:01:24,799 --> 04:01:30,638
then we will add some other text. We can

4786
04:01:28,238 --> 04:01:33,678
also add the task description like this

4787
04:01:30,639 --> 04:01:37,919
task dot description. We can add the due

4788
04:01:33,680 --> 04:01:40,479
date also like I'll add here

4789
04:01:37,920 --> 04:01:43,920
back

4790
04:01:40,478 --> 04:01:47,197
dollar sign curly braces

4791
04:01:43,920 --> 04:01:50,160
task dot due date.

4792
04:01:47,199 --> 04:01:52,479
Next we need to convert this date into a

4793
04:01:50,159 --> 04:01:58,197
date format. So I'll just cut this one

4794
04:01:52,478 --> 04:01:58,197
and here we'll add new date

4795
04:01:58,799 --> 04:02:06,799
and in this one provide this task dot

4796
04:02:01,680 --> 04:02:10,160
due date and after that we'll add to

4797
04:02:06,799 --> 04:02:13,839
local date string and call this

4798
04:02:10,159 --> 04:02:17,599
function. So it will display the due

4799
04:02:13,840 --> 04:02:21,279
date. We can also send the origin or URL

4800
04:02:17,600 --> 04:02:24,399
so that the user can come to this portal

4801
04:02:21,279 --> 04:02:28,719
after seeing this email. So to display

4802
04:02:24,398 --> 04:02:31,918
that URL you can use the anchor link. So

4803
04:02:28,719 --> 04:02:34,558
we can use the a tag

4804
04:02:31,920 --> 04:02:38,880
like this. And in this one we can add

4805
04:02:34,559 --> 04:02:42,639
the text called view task. And then we

4806
04:02:38,879 --> 04:02:45,839
will add the href property here.

4807
04:02:42,639 --> 04:02:48,558
And in this HDF we can insert the URL.

4808
04:02:45,840 --> 04:02:52,479
For that we can use dollar sign curly

4809
04:02:48,559 --> 04:02:54,799
braces and provide the origin.

4810
04:02:52,478 --> 04:02:57,357
That's it. So we can send the message

4811
04:02:54,799 --> 04:02:59,119
like this. But I want to make it

4812
04:02:57,359 --> 04:03:02,719
professional. So we have already

4813
04:02:59,120 --> 04:03:06,398
prepared one HTML template for this. So

4814
04:03:02,719 --> 04:03:11,277
I'll just remove this one. And here

4815
04:03:06,398 --> 04:03:13,678
we'll add these data in a HTML template.

4816
04:03:11,279 --> 04:03:17,840
So we have added the data. Here you can

4817
04:03:13,680 --> 04:03:21,920
see we have added a div and added some

4818
04:03:17,840 --> 04:03:24,639
style property. Then we have added the

4819
04:03:21,920 --> 04:03:27,359
receiver name. Then we have added the

4820
04:03:24,639 --> 04:03:30,398
task title. After that we have added

4821
04:03:27,359 --> 04:03:32,799
task description and due date. Then we

4822
04:03:30,398 --> 04:03:35,277
have added the origin in a tag. And here

4823
04:03:32,799 --> 04:03:37,438
we have the message. Please make sure to

4824
04:03:35,279 --> 04:03:39,439
review and complete it before the due

4825
04:03:37,439 --> 04:03:43,759
date.

4826
04:03:39,439 --> 04:03:47,1000
So this function will send an email to

4827
04:03:43,760 --> 04:03:53,359
assignee or receiver with their name

4828
04:03:48,000 --> 04:03:58,239
then task title then due date then task

4829
04:03:53,359 --> 04:04:01,359
description and URL and this text

4830
04:03:58,238 --> 04:04:03,758
message. Now this ingest function will

4831
04:04:01,359 --> 04:04:05,1000
add another function also that will be

4832
04:04:03,760 --> 04:04:08,479
sleeping. It means it will be a

4833
04:04:06,000 --> 04:04:13,198
scheduled function. So I'll just come

4834
04:04:08,478 --> 04:04:15,998
here and uh after sending this email

4835
04:04:13,199 --> 04:04:18,479
here we'll add if statement

4836
04:04:16,000 --> 04:04:21,120
and we will check for the today's date

4837
04:04:18,478 --> 04:04:23,277
and if the today's date is not equal to

4838
04:04:21,120 --> 04:04:25,759
due date then we will add another

4839
04:04:23,279 --> 04:04:30,160
function that will be scheduled to

4840
04:04:25,760 --> 04:04:32,720
trigger on due date. So here we'll add

4841
04:04:30,159 --> 04:04:36,838
new date.

4842
04:04:32,719 --> 04:04:36,839
Let me just copy from here

4843
04:04:40,559 --> 04:04:49,758
and paste it here. New date

4844
04:04:44,719 --> 04:04:52,879
task dot due date to local string

4845
04:04:49,760 --> 04:04:55,920
not equal to

4846
04:04:52,879 --> 04:04:59,518
new date

4847
04:04:55,920 --> 04:05:01,920
to data string. Here we have added two

4848
04:04:59,520 --> 04:05:05,119
local data string and this is the two

4849
04:05:01,920 --> 04:05:07,279
data string. So here we are checking if

4850
04:05:05,120 --> 04:05:12,358
the today's date is not equal to due

4851
04:05:07,279 --> 04:05:12,359
date. So in this case we'll add await

4852
04:05:12,719 --> 04:05:21,197
a step dot sleep until

4853
04:05:16,478 --> 04:05:24,558
and in this one let's add the ID

4854
04:05:21,199 --> 04:05:27,040
wait for the due date.

4855
04:05:24,559 --> 04:05:30,039
Right? Then we'll add comma here and

4856
04:05:27,040 --> 04:05:30,040
provide

4857
04:05:30,559 --> 04:05:35,919
new date

4858
04:05:32,959 --> 04:05:39,277
and the new date will be

4859
04:05:35,920 --> 04:05:41,759
the task dot

4860
04:05:39,279 --> 04:05:43,920
due date.

4861
04:05:41,760 --> 04:05:45,920
Right? So this function will sleep until

4862
04:05:43,920 --> 04:05:48,160
due date

4863
04:05:45,920 --> 04:05:50,080
and when the due date comes it will

4864
04:05:48,159 --> 04:05:52,878
execute a function. So let's add a

4865
04:05:50,079 --> 04:05:55,758
weight

4866
04:05:52,879 --> 04:05:59,598
a step dot run

4867
04:05:55,760 --> 04:06:02,160
and uh here we will check for the task

4868
04:05:59,600 --> 04:06:05,279
whether the task is completed or not. So

4869
04:06:02,159 --> 04:06:07,998
let's add check if task is completed. If

4870
04:06:05,279 --> 04:06:10,799
the task is completed we will not do any

4871
04:06:08,000 --> 04:06:13,198
action. But if the task is still pending

4872
04:06:10,799 --> 04:06:17,358
we will send the reminder email. So I'll

4873
04:06:13,199 --> 04:06:19,840
write a sync add function

4874
04:06:17,359 --> 04:06:23,198
in this one. First we'll get the task

4875
04:06:19,840 --> 04:06:27,519
data. So let's add const

4876
04:06:23,199 --> 04:06:30,080
task equal to await

4877
04:06:27,520 --> 04:06:32,640
prisma dot

4878
04:06:30,079 --> 04:06:35,519
task dot

4879
04:06:32,639 --> 04:06:39,599
find unique.

4880
04:06:35,520 --> 04:06:43,920
In this one, let's add where

4881
04:06:39,600 --> 04:06:47,840
id and the id is task ID,

4882
04:06:43,920 --> 04:06:50,880
right? And after that, we'll add include

4883
04:06:47,840 --> 04:06:54,160
and we will include the

4884
04:06:50,879 --> 04:06:57,278
assigne. It will be true. And then we

4885
04:06:54,159 --> 04:07:00,718
will include the project.

4886
04:06:57,279 --> 04:07:05,120
Let's make it true.

4887
04:07:00,719 --> 04:07:08,079
And uh after that

4888
04:07:05,120 --> 04:07:12,080
here let's add the if statement. If not

4889
04:07:08,079 --> 04:07:15,438
of task. So if the task is not available

4890
04:07:12,079 --> 04:07:17,918
then let's add return. So it will not do

4891
04:07:15,439 --> 04:07:21,040
anything. Now let's add another if

4892
04:07:17,920 --> 04:07:22,559
statement. And here we'll add the task

4893
04:07:21,040 --> 04:07:26,719
dot

4894
04:07:22,559 --> 04:07:30,398
a status property not equal to

4895
04:07:26,719 --> 04:07:32,879
done. So if the task is not done yet, it

4896
04:07:30,398 --> 04:07:35,758
means the task is pending. So in this

4897
04:07:32,879 --> 04:07:38,079
condition, we have to send another email

4898
04:07:35,760 --> 04:07:40,880
that will be reminder email. So I'll

4899
04:07:38,079 --> 04:07:44,798
write await

4900
04:07:40,879 --> 04:07:50,839
a step dot run.

4901
04:07:44,799 --> 04:07:50,839
And uh let's add the ID here

4902
04:07:51,680 --> 04:07:57,599
send task reminder email. And uh after

4903
04:07:54,879 --> 04:08:00,079
that we'll add the async function that

4904
04:07:57,600 --> 04:08:02,960
will send the email. So we have added

4905
04:08:00,079 --> 04:08:05,277
the async arrow function.

4906
04:08:02,959 --> 04:08:07,678
And here let's add await and we will use

4907
04:08:05,279 --> 04:08:12,399
the sender function that is send email

4908
04:08:07,680 --> 04:08:15,279
function. So let's add send email.

4909
04:08:12,398 --> 04:08:17,999
And here we have to add the data like

4910
04:08:15,279 --> 04:08:23,198
two. So in this two we will provide the

4911
04:08:18,000 --> 04:08:25,759
task dot assigne dot email.

4912
04:08:23,199 --> 04:08:28,880
it means the receiver email. Then we'll

4913
04:08:25,760 --> 04:08:33,1000
add the subject again. So I'll write the

4914
04:08:28,879 --> 04:08:37,437
subject here in tactics. So it will be

4915
04:08:34,000 --> 04:08:40,160
reminder for

4916
04:08:37,439 --> 04:08:43,120
project name reminder for task.t

4917
04:08:40,159 --> 04:08:46,237
project.name. Right? And after that we

4918
04:08:43,120 --> 04:08:48,639
have to add the data in body property.

4919
04:08:46,238 --> 04:08:52,959
So let's add comma

4920
04:08:48,639 --> 04:08:56,079
body. And here we will add the HTML

4921
04:08:52,959 --> 04:08:58,398
template. You can add the data in simple

4922
04:08:56,079 --> 04:09:01,838
text format also. So I have already

4923
04:08:58,398 --> 04:09:04,638
created the HTML template for email. So

4924
04:09:01,840 --> 04:09:07,759
I'll paste it here. So in this one you

4925
04:09:04,639 --> 04:09:10,318
can see we have added the div. Then we

4926
04:09:07,760 --> 04:09:12,960
have added the H2 tag. In this H S2 tag

4927
04:09:10,318 --> 04:09:15,358
we have added the receiver name. Then we

4928
04:09:12,959 --> 04:09:18,959
have added the project name. Then we

4929
04:09:15,359 --> 04:09:21,120
have added the P tag with task title.

4930
04:09:18,959 --> 04:09:23,277
Then we have added another div and in

4931
04:09:21,120 --> 04:09:26,799
this one we have added the task

4932
04:09:23,279 --> 04:09:29,599
description and due date.

4933
04:09:26,799 --> 04:09:32,079
After that we have added the link to

4934
04:09:29,600 --> 04:09:34,640
view the task and after that we have

4935
04:09:32,079 --> 04:09:37,039
added this message. Please make sure to

4936
04:09:34,639 --> 04:09:39,999
review and complete it before the due

4937
04:09:37,040 --> 04:09:43,040
date. That's it. So this email will be

4938
04:09:40,000 --> 04:09:45,919
sent on the due date if the task is

4939
04:09:43,040 --> 04:09:48,959
still pending. So we have created this

4940
04:09:45,920 --> 04:09:52,160
ingest function that will send the email

4941
04:09:48,959 --> 04:09:55,039
whenever the task is created and it will

4942
04:09:52,159 --> 04:09:58,237
send another reminder email on the due

4943
04:09:55,040 --> 04:10:00,719
date if the task is still pending.

4944
04:09:58,238 --> 04:10:04,238
So now let's export it here. So I'll

4945
04:10:00,719 --> 04:10:07,839
write comma and provide this function

4946
04:10:04,238 --> 04:10:09,278
send task assignment email. Right? So we

4947
04:10:07,840 --> 04:10:12,719
have added this function in this

4948
04:10:09,279 --> 04:10:15,519
functions array. So now we have added

4949
04:10:12,719 --> 04:10:17,518
all the functionality. Next we have to

4950
04:10:15,520 --> 04:10:20,640
deploy it so that we can sync our

4951
04:10:17,520 --> 04:10:24,239
application in the ingest. So let's

4952
04:10:20,639 --> 04:10:26,158
click on this source control icon.

4953
04:10:24,238 --> 04:10:28,158
And here we have to add the commit

4954
04:10:26,159 --> 04:10:29,998
message. But before that we have missed

4955
04:10:28,159 --> 04:10:31,918
one more thing. We have created the

4956
04:10:30,000 --> 04:10:34,318
ingest function. But this ingest

4957
04:10:31,920 --> 04:10:37,920
function is not triggered yet. So I'll

4958
04:10:34,318 --> 04:10:40,638
just come here in the task controller.

4959
04:10:37,920 --> 04:10:41,1000
We have the task controller.js JS file

4960
04:10:40,639 --> 04:10:45,358
in this one we have created this

4961
04:10:42,000 --> 04:10:47,759
controller function create task right so

4962
04:10:45,359 --> 04:10:50,799
after creating the task we have to send

4963
04:10:47,760 --> 04:10:53,519
the email right so let's come here

4964
04:10:50,799 --> 04:10:56,238
scroll down you can see the task has

4965
04:10:53,520 --> 04:10:59,438
been created in the database and in the

4966
04:10:56,238 --> 04:11:03,039
task we have added the assigne data and

4967
04:10:59,439 --> 04:11:05,679
just before this sending response let's

4968
04:11:03,040 --> 04:11:07,439
send the email also so here we'll add

4969
04:11:05,680 --> 04:11:09,680
await

4970
04:11:07,439 --> 04:11:12,399
and use the ingest

4971
04:11:09,680 --> 04:11:14,720
So just import the ingest from the

4972
04:11:12,398 --> 04:11:16,558
ingest folder index.js

4973
04:11:14,719 --> 04:11:19,999
file

4974
04:11:16,559 --> 04:11:21,679
right. So you can see

4975
04:11:20,000 --> 04:11:23,680
ingest has been imported from the

4976
04:11:21,680 --> 04:11:28,080
ingest/index.js

4977
04:11:23,680 --> 04:11:31,840
file and after that

4978
04:11:28,079 --> 04:11:34,317
here we will use dot send. In this send

4979
04:11:31,840 --> 04:11:37,279
method we'll add the object and provide

4980
04:11:34,318 --> 04:11:40,718
the name. So in this name we will add

4981
04:11:37,279 --> 04:11:43,920
the event name that is app/

4982
04:11:40,719 --> 04:11:46,318
task assigned

4983
04:11:43,920 --> 04:11:48,080
right and after that we have to send the

4984
04:11:46,318 --> 04:11:50,879
data also. So let's add the data

4985
04:11:48,079 --> 04:11:53,519
property and in this data property let's

4986
04:11:50,879 --> 04:11:56,718
add the

4987
04:11:53,520 --> 04:12:00,960
task ID and in this task id we'll

4988
04:11:56,719 --> 04:12:03,999
provide task dot id then we'll add the

4989
04:12:00,959 --> 04:12:08,398
comma and provide the origin

4990
04:12:04,000 --> 04:12:11,359
like this. So here it will trigger the

4991
04:12:08,398 --> 04:12:14,718
ingest function and uh it will send this

4992
04:12:11,359 --> 04:12:18,238
event app task dot assigned and it will

4993
04:12:14,719 --> 04:12:21,278
pass this data task id and origin and it

4994
04:12:18,238 --> 04:12:23,598
will be received here in this ingest

4995
04:12:21,279 --> 04:12:27,359
function.

4996
04:12:23,600 --> 04:12:30,640
You can see this is the

4997
04:12:27,359 --> 04:12:32,879
event name app/task dot assigned and

4998
04:12:30,639 --> 04:12:35,759
here we'll receive the task ID and

4999
04:12:32,879 --> 04:12:38,558
origin so that it will send the email

5000
04:12:35,760 --> 04:12:41,920
whenever a new task is created. After

5001
04:12:38,559 --> 04:12:44,477
that let's upload the code on GitHub. So

5002
04:12:41,920 --> 04:12:47,439
click on this source control.

5003
04:12:44,478 --> 04:12:50,159
Here we'll add the message.

5004
04:12:47,439 --> 04:12:53,160
So we'll add the message here backend

5005
04:12:50,159 --> 04:12:53,159
complete.

5006
04:12:54,879 --> 04:12:58,999
and click on commit button

5007
04:12:59,439 --> 04:13:03,399
then sync changes.

5008
04:13:04,079 --> 04:13:09,918
So it will update the code on our GitHub

5009
04:13:07,199 --> 04:13:11,1000
repo.

5010
04:13:09,920 --> 04:13:14,799
It's done. Now let me just come back to

5011
04:13:12,000 --> 04:13:16,879
the GitHub profile and uh open this

5012
04:13:14,799 --> 04:13:19,438
repository. Let me refresh it. So you

5013
04:13:16,879 --> 04:13:21,197
can see just now we have committed the

5014
04:13:19,439 --> 04:13:23,759
changes.

5015
04:13:21,199 --> 04:13:25,1000
Correct. And uh after that it will

5016
04:13:23,760 --> 04:13:28,159
automatically redeploy our project. If I

5017
04:13:26,000 --> 04:13:30,158
come to deployments,

5018
04:13:28,158 --> 04:13:32,078
it is redeploying the project but it

5019
04:13:30,158 --> 04:13:35,438
will give an error because we have not

5020
04:13:32,079 --> 04:13:38,638
updated the environment variables. So

5021
04:13:35,439 --> 04:13:42,158
I'll come to settings then come to

5022
04:13:38,639 --> 04:13:43,999
environment variables and uh here you

5023
04:13:42,158 --> 04:13:46,959
can see we have these environment

5024
04:13:44,000 --> 04:13:50,238
variable. We have added the

5025
04:13:46,959 --> 04:13:51,838
node environment then color then we have

5026
04:13:50,238 --> 04:13:55,758
the

5027
04:13:51,840 --> 04:13:59,439
database URL direct URL and ingest right

5028
04:13:55,760 --> 04:14:04,720
and uh after that I'll just come here

5029
04:13:59,439 --> 04:14:07,278
and open our env file

5030
04:14:04,719 --> 04:14:09,598
so in this one you can see after inest

5031
04:14:07,279 --> 04:14:11,519
we have added these environment

5032
04:14:09,600 --> 04:14:18,600
variables so I'll just copy this one

5033
04:14:11,520 --> 04:14:18,600
also and Then let's paste it here

5034
04:14:18,879 --> 04:14:25,119
in this key.

5035
04:14:21,760 --> 04:14:27,439
So we have added the key and value like

5036
04:14:25,120 --> 04:14:30,639
this. So we have the sendered email,

5037
04:14:27,439 --> 04:14:32,799
SMTP user and SMTP password. Then click

5038
04:14:30,639 --> 04:14:37,079
on save.

5039
04:14:32,799 --> 04:14:37,079
After that click on redeploy.

5040
04:14:38,959 --> 04:14:43,079
Let's click on view deployment.

5041
04:14:43,359 --> 04:14:48,1000
So you can see the project is getting

5042
04:14:46,000 --> 04:14:49,000
redeployed.

5043
04:14:49,279 --> 04:14:56,158
So now you can see the status ready

5044
04:14:52,238 --> 04:14:58,799
correct. If I open this URL

5045
04:14:56,158 --> 04:15:01,598
here also you can see server is live. So

5046
04:14:58,799 --> 04:15:03,839
back end is successfully redeployed and

5047
04:15:01,600 --> 04:15:06,159
after that we will sync our inest

5048
04:15:03,840 --> 04:15:08,080
application. So I'll open the ingest

5049
04:15:06,158 --> 04:15:11,518
dashboard. Right now you can see we have

5050
04:15:08,079 --> 04:15:15,237
total seven functions right and after

5051
04:15:11,520 --> 04:15:15,238
that click on this

5052
04:15:15,279 --> 04:15:21,439
project management and then click on

5053
04:15:18,000 --> 04:15:25,799
this sync button in the top right corner

5054
04:15:21,439 --> 04:15:25,799
then click here sync app.

5055
04:15:27,279 --> 04:15:32,399
Now you can see here we have total eight

5056
04:15:29,680 --> 04:15:35,760
functions. So the new function is added

5057
04:15:32,398 --> 04:15:37,999
here. Let me show you that send task

5058
04:15:35,760 --> 04:15:39,920
assignment email. You can see here we

5059
04:15:38,000 --> 04:15:42,080
have one more function send task

5060
04:15:39,920 --> 04:15:44,080
assignment email that we have just

5061
04:15:42,079 --> 04:15:46,237
created.

5062
04:15:44,079 --> 04:15:48,478
So finally we have completed the back

5063
04:15:46,238 --> 04:15:51,039
end of our project management

5064
04:15:48,478 --> 04:15:54,079
application. Now we have to link all the

5065
04:15:51,040 --> 04:15:57,759
backend APIs with this front end so that

5066
04:15:54,079 --> 04:16:00,878
we can enable the project creation. Then

5067
04:15:57,760 --> 04:16:03,199
we can enable the task creation and

5068
04:16:00,879 --> 04:16:05,758
comment on the task. And we can also

5069
04:16:03,199 --> 04:16:07,920
enable the invitation of team member in

5070
04:16:05,760 --> 04:16:10,080
a project.

5071
04:16:07,920 --> 04:16:12,399
In this dashboard, we have already

5072
04:16:10,079 --> 04:16:15,197
integrated the user authentication

5073
04:16:12,398 --> 04:16:18,558
feature. Using that we are logged in,

5074
04:16:15,199 --> 04:16:20,399
right? And we have also integrated the

5075
04:16:18,559 --> 04:16:23,679
organization feature so that we can

5076
04:16:20,398 --> 04:16:25,678
create the organization or workspace.

5077
04:16:23,680 --> 04:16:27,279
We can click here to create multiple

5078
04:16:25,680 --> 04:16:30,720
workspace.

5079
04:16:27,279 --> 04:16:32,559
And now let's start with this dashboard

5080
04:16:30,719 --> 04:16:35,119
where we have to display the user's

5081
04:16:32,559 --> 04:16:37,437
name. Right now you can see welcome back

5082
04:16:35,120 --> 04:16:39,679
user. So instead of this user we will

5083
04:16:37,439 --> 04:16:41,439
display the user's name. After that we

5084
04:16:39,680 --> 04:16:43,199
will display these data in the

5085
04:16:41,439 --> 04:16:46,318
dashboard. Right? Now you can see all

5086
04:16:43,199 --> 04:16:49,1000
the data is zero. Right? So these are

5087
04:16:46,318 --> 04:16:53,039
the data coming from the assets. Now let

5088
04:16:50,000 --> 04:16:55,359
me just come back to the VS code

5089
04:16:53,040 --> 04:16:59,040
and we'll close all the files. So right

5090
04:16:55,359 --> 04:17:02,719
click here and select close saved. After

5091
04:16:59,040 --> 04:17:06,318
that in the sidebar we have this server

5092
04:17:02,719 --> 04:17:09,759
folder. So let's hide this and we will

5093
04:17:06,318 --> 04:17:12,157
expand the client folder because we have

5094
04:17:09,760 --> 04:17:14,960
to update the code in the client

5095
04:17:12,158 --> 04:17:16,959
project. Right now in this client you

5096
04:17:14,959 --> 04:17:19,598
can see we have the pages folder and in

5097
04:17:16,959 --> 04:17:23,277
this pages we have dashboard.jsx

5098
04:17:19,600 --> 04:17:24,880
file. Let's open this dashboard file. In

5099
04:17:23,279 --> 04:17:27,040
this one you can see we have the user

5100
04:17:24,879 --> 04:17:29,999
variable and we have added one object

5101
04:17:27,040 --> 04:17:32,879
with full name user. Now instead of this

5102
04:17:30,000 --> 04:17:37,599
one we will get the user data from

5103
04:17:32,879 --> 04:17:42,599
color. We will write import

5104
04:17:37,600 --> 04:17:42,600
curly braces use user

5105
04:17:42,799 --> 04:17:48,318
from

5106
04:17:44,559 --> 04:17:49,839
and here we'll add at color/color

5107
04:17:48,318 --> 04:17:52,959
react.

5108
04:17:49,840 --> 04:17:55,1000
Now let's add this use user here. So

5109
04:17:52,959 --> 04:17:58,798
we'll get this user from

5110
04:17:56,000 --> 04:18:01,198
use user function.

5111
04:17:58,799 --> 04:18:03,598
Right? And in this one we'll get the

5112
04:18:01,199 --> 04:18:06,159
full name property.

5113
04:18:03,600 --> 04:18:10,960
Right? Now after that if I open the web

5114
04:18:06,158 --> 04:18:14,318
page here you can see let me refresh it.

5115
04:18:10,959 --> 04:18:16,237
It should display the user's name here.

5116
04:18:14,318 --> 04:18:19,678
to display the user's full name here.

5117
04:18:16,238 --> 04:18:23,678
I'll just come back and let me add this

5118
04:18:19,680 --> 04:18:26,640
user in curly braces because in this

5119
04:18:23,680 --> 04:18:28,720
datab we will get the user property

5120
04:18:26,639 --> 04:18:30,799
right it will be one object and in that

5121
04:18:28,719 --> 04:18:32,879
one we'll get the user property and in

5122
04:18:30,799 --> 04:18:35,358
that user property we will get the full

5123
04:18:32,879 --> 04:18:37,598
name now let's save the changes and come

5124
04:18:35,359 --> 04:18:41,1000
back here so you can see here we have

5125
04:18:37,600 --> 04:18:45,1000
the full name welcome back great stack

5126
04:18:42,000 --> 04:18:49,439
right after that we have these data like

5127
04:18:46,000 --> 04:18:53,120
total projects, completed project, my

5128
04:18:49,439 --> 04:18:56,080
task and overdue. Right? So, we have

5129
04:18:53,120 --> 04:18:59,839
added it in a component. If I scroll

5130
04:18:56,079 --> 04:19:02,958
down, you can see here we have this

5131
04:18:59,840 --> 04:19:05,279
a stats grid, right? We have the stats

5132
04:19:02,959 --> 04:19:06,878
grid component. So, let's open this

5133
04:19:05,279 --> 04:19:09,120
component.

5134
04:19:06,879 --> 04:19:14,398
I'll open this sidebar components folder

5135
04:19:09,120 --> 04:19:17,840
and open the stats grid component.

5136
04:19:14,398 --> 04:19:21,598
Now in this one you can see we have this

5137
04:19:17,840 --> 04:19:25,040
function a stats grid. So first we are

5138
04:19:21,600 --> 04:19:31,359
getting the current workspace

5139
04:19:25,040 --> 04:19:33,1000
right and uh after that here we have the

5140
04:19:31,359 --> 04:19:36,319
state variable where we have added the

5141
04:19:34,000 --> 04:19:39,439
initial values like total number of

5142
04:19:36,318 --> 04:19:43,278
projects, active projects completed, my

5143
04:19:39,439 --> 04:19:46,959
task and overdue issues. Right? And

5144
04:19:43,279 --> 04:19:50,158
after that we have the a stat cards

5145
04:19:46,959 --> 04:19:53,838
right and then

5146
04:19:50,158 --> 04:19:57,198
here we have the use effect and in this

5147
04:19:53,840 --> 04:19:59,920
use effect we have added a function.

5148
04:19:57,199 --> 04:20:03,599
So here we are checking if current

5149
04:19:59,920 --> 04:20:07,759
workspace is true then we will set the

5150
04:20:03,600 --> 04:20:10,880
data using this set a states right

5151
04:20:07,760 --> 04:20:14,080
and in this one we have added the total

5152
04:20:10,879 --> 04:20:18,238
projects. So the total projects are

5153
04:20:14,079 --> 04:20:20,478
current workspace dot projects.length.

5154
04:20:18,238 --> 04:20:23,598
Then we have the active projects. It is

5155
04:20:20,478 --> 04:20:25,838
also current workspace dot projects dot

5156
04:20:23,600 --> 04:20:28,319
filter. So we will filter out the active

5157
04:20:25,840 --> 04:20:32,080
projects here. Then we have the

5158
04:20:28,318 --> 04:20:34,638
completed projects. Then my task right.

5159
04:20:32,079 --> 04:20:37,119
And then we have overdue issues. So

5160
04:20:34,639 --> 04:20:39,999
these data is coming from the current

5161
04:20:37,120 --> 04:20:43,278
workspace. And current workspace is

5162
04:20:40,000 --> 04:20:43,278
already selected here.

5163
04:20:43,439 --> 04:20:47,520
Right, we can choose the current

5164
04:20:45,279 --> 04:20:50,080
workspace from here

5165
04:20:47,520 --> 04:20:52,079
and it will display the data using that

5166
04:20:50,079 --> 04:20:56,878
workspace.

5167
04:20:52,079 --> 04:20:59,598
Now next we have this button that is new

5168
04:20:56,879 --> 04:21:02,079
project. If I click here, it is opening

5169
04:20:59,600 --> 04:21:05,119
this window to create a new project.

5170
04:21:02,079 --> 04:21:08,638
Right? So let me show you this

5171
04:21:05,120 --> 04:21:11,438
component also. I'll just come back here

5172
04:21:08,639 --> 04:21:13,759
and uh if I come to this dashboard you

5173
04:21:11,439 --> 04:21:15,919
can see we have this

5174
04:21:13,760 --> 04:21:18,559
button

5175
04:21:15,920 --> 04:21:21,198
right and uh in this button we have

5176
04:21:18,559 --> 04:21:25,759
added new project

5177
04:21:21,199 --> 04:21:28,880
right and it is opening the

5178
04:21:25,760 --> 04:21:33,239
popup. So here we have added on click

5179
04:21:28,879 --> 04:21:33,238
set is dialogue open.

5180
04:21:34,158 --> 04:21:41,039
So when it is true then it will open

5181
04:21:38,238 --> 04:21:42,718
create project dialogue

5182
04:21:41,040 --> 04:21:45,520
right.

5183
04:21:42,719 --> 04:21:47,518
So let's open this component. I'll open

5184
04:21:45,520 --> 04:21:50,880
this sidebar

5185
04:21:47,520 --> 04:21:54,319
and here we have the create project

5186
04:21:50,879 --> 04:21:55,999
dialogue dot jsx file. So in this file

5187
04:21:54,318 --> 04:21:58,558
you can see we have the current

5188
04:21:56,000 --> 04:22:02,000
workspace. It is also selected from the

5189
04:21:58,559 --> 04:22:04,158
state using this use selector. And after

5190
04:22:02,000 --> 04:22:07,278
that we have added the estate variable

5191
04:22:04,158 --> 04:22:09,678
where we have added the properties like

5192
04:22:07,279 --> 04:22:12,639
name, description, a status of the

5193
04:22:09,680 --> 04:22:15,760
project. And when we will enter the data

5194
04:22:12,639 --> 04:22:18,959
in the form, it will get saved in this

5195
04:22:15,760 --> 04:22:21,760
estate. Right? And after that we have to

5196
04:22:18,959 --> 04:22:25,119
update this data in the database. For

5197
04:22:21,760 --> 04:22:28,639
that here we have added this

5198
04:22:25,120 --> 04:22:31,198
handle submit function. Right? So we

5199
04:22:28,639 --> 04:22:35,119
have to complete this function. In this

5200
04:22:31,199 --> 04:22:37,679
one, let's add

5201
04:22:35,120 --> 04:22:40,398
try catch a statement. And in this try

5202
04:22:37,680 --> 04:22:43,599
block, let's add the if statement. And

5203
04:22:40,398 --> 04:22:45,838
we'll add not of

5204
04:22:43,600 --> 04:22:47,1000
form data.

5205
04:22:45,840 --> 04:22:54,119
You can see here we have the form data.

5206
04:22:48,000 --> 04:22:54,120
Right? So when the form data dot

5207
04:22:54,238 --> 04:23:00,398
team lead property is not true, right?

5208
04:22:57,120 --> 04:23:03,999
So in this case we will add return

5209
04:23:00,398 --> 04:23:06,237
and provide the toast.

5210
04:23:04,000 --> 04:23:07,919
We are not getting the suggestion here.

5211
04:23:06,238 --> 04:23:10,157
So we have to display the toast

5212
04:23:07,920 --> 04:23:13,279
notification.

5213
04:23:10,158 --> 04:23:16,638
If I open the

5214
04:23:13,279 --> 04:23:18,559
package dojson file. So in this one you

5215
04:23:16,639 --> 04:23:20,478
can see we have the react hot toast

5216
04:23:18,559 --> 04:23:22,719
already installed. Right? So this

5217
04:23:20,478 --> 04:23:25,599
package is available. So I'll just come

5218
04:23:22,719 --> 04:23:27,999
back here and let me import it manually.

5219
04:23:25,600 --> 04:23:32,600
So here we'll write

5220
04:23:28,000 --> 04:23:32,599
import toast from

5221
04:23:33,199 --> 04:23:41,040
react hot toast and after that let's

5222
04:23:36,158 --> 04:23:42,558
come here and we'll type toast

5223
04:23:41,040 --> 04:23:47,040
dot

5224
04:23:42,559 --> 04:23:51,318
error and here we'll add the message

5225
04:23:47,040 --> 04:23:51,318
please select a team lead

5226
04:23:51,520 --> 04:23:56,800
right and after that let's use the

5227
04:23:54,238 --> 04:23:56,799
setter function

5228
04:23:57,279 --> 04:24:03,920
set is submitting true.

5229
04:24:01,840 --> 04:24:05,599
So you can see here we have the is

5230
04:24:03,920 --> 04:24:08,719
submitting

5231
04:24:05,600 --> 04:24:11,920
a state. So we will make it true. And

5232
04:24:08,719 --> 04:24:14,478
after that we'll add the API call. So

5233
04:24:11,920 --> 04:24:16,399
let's add con

5234
04:24:14,478 --> 04:24:18,958
curly braces

5235
04:24:16,398 --> 04:24:22,237
data

5236
04:24:18,959 --> 04:24:25,598
equal to await and then we will use the

5237
04:24:22,238 --> 04:24:28,799
API. Let's import this API. You can see

5238
04:24:25,600 --> 04:24:32,960
in this client project, we have added

5239
04:24:28,799 --> 04:24:35,358
the API.js file, right? So from this

5240
04:24:32,959 --> 04:24:38,157
file, we will import the API. Let's add

5241
04:24:35,359 --> 04:24:40,719
API and import it from the config

5242
04:24:38,158 --> 04:24:43,198
folder. It has been imported. After

5243
04:24:40,719 --> 04:24:46,879
that, we'll add

5244
04:24:43,199 --> 04:24:50,559
dot post method. And then we have to add

5245
04:24:46,879 --> 04:24:54,638
the path of this API endpoint. So it is

5246
04:24:50,559 --> 04:24:57,679
/ API/ projects. Using that we can

5247
04:24:54,639 --> 04:25:00,478
create a new project. Then we'll add the

5248
04:24:57,680 --> 04:25:03,279
comma here and provide the project data.

5249
04:25:00,478 --> 04:25:07,157
So I'll write the

5250
04:25:03,279 --> 04:25:07,158
workspace ID

5251
04:25:08,000 --> 04:25:13,759
and in this workspace ID let's provide

5252
04:25:10,398 --> 04:25:17,838
the current workspace

5253
04:25:13,760 --> 04:25:20,479
dot id. After that we have to add comma

5254
04:25:17,840 --> 04:25:24,399
and spread operator. We will provide

5255
04:25:20,478 --> 04:25:26,478
this form data right and after that we

5256
04:25:24,398 --> 04:25:29,758
have to authenticate our request. So

5257
04:25:26,478 --> 04:25:32,317
just add curly braces and authorization

5258
04:25:29,760 --> 04:25:34,960
property.

5259
04:25:32,318 --> 04:25:39,197
In this authorization we have to provide

5260
04:25:34,959 --> 04:25:42,959
the back text be error

5261
04:25:39,199 --> 04:25:44,960
and provide the token. So to provide the

5262
04:25:42,959 --> 04:25:49,197
token here we'll add dollar sign curly

5263
04:25:44,959 --> 04:25:52,878
braces and let's add await

5264
04:25:49,199 --> 04:25:55,920
get token. So first we have to use the

5265
04:25:52,879 --> 04:25:59,358
get token from the color. So I'll scroll

5266
04:25:55,920 --> 04:26:01,920
up and uh

5267
04:25:59,359 --> 04:26:05,040
here

5268
04:26:01,920 --> 04:26:07,839
let's add const

5269
04:26:05,040 --> 04:26:11,759
curly braces

5270
04:26:07,840 --> 04:26:15,439
get token function and get it from the

5271
04:26:11,760 --> 04:26:19,519
use o and use o has been imported from

5272
04:26:15,439 --> 04:26:22,560
the color/color react right now just

5273
04:26:19,520 --> 04:26:24,800
call it here

5274
04:26:22,559 --> 04:26:28,398
we'll add get token

5275
04:26:24,799 --> 04:26:31,999
So it will authenticate our API request.

5276
04:26:28,398 --> 04:26:35,598
Correct? And after that

5277
04:26:32,000 --> 04:26:38,479
here we have to call the

5278
04:26:35,600 --> 04:26:44,959
function that will add a new project in

5279
04:26:38,478 --> 04:26:48,519
the estate. Right? So if I come here and

5280
04:26:44,959 --> 04:26:48,519
uh open this

5281
04:26:48,559 --> 04:26:55,799
features in this features we have the

5282
04:26:50,799 --> 04:26:55,799
workspace slice. In this one

5283
04:26:55,840 --> 04:27:02,319
you can see we have the

5284
04:26:58,398 --> 04:27:05,277
function called add project right so we

5285
04:27:02,318 --> 04:27:07,598
have to use this to add a new project

5286
04:27:05,279 --> 04:27:11,599
correct so I'll just come back here in

5287
04:27:07,600 --> 04:27:16,478
our create project dialogue and first we

5288
04:27:11,600 --> 04:27:20,439
will import the dispatch here so

5289
04:27:16,478 --> 04:27:20,438
let's add con

5290
04:27:20,478 --> 04:27:24,559
dispatch

5291
04:27:22,639 --> 04:27:28,879
equal to

5292
04:27:24,559 --> 04:27:30,959
use dispatch and import it from the

5293
04:27:28,879 --> 04:27:33,758
react redux

5294
04:27:30,959 --> 04:27:37,758
right and uh after that come here in

5295
04:27:33,760 --> 04:27:40,159
this API call and after this API call

5296
04:27:37,760 --> 04:27:43,679
we'll add dispatch

5297
04:27:40,158 --> 04:27:46,238
and provide the add project

5298
04:27:43,680 --> 04:27:50,159
and in this add project let's add the

5299
04:27:46,238 --> 04:27:52,799
data dot project

5300
04:27:50,158 --> 04:27:54,638
so From this API call we'll get the data

5301
04:27:52,799 --> 04:27:57,358
in the response and in this data we'll

5302
04:27:54,639 --> 04:28:00,879
get the project property. So it will

5303
04:27:57,359 --> 04:28:04,238
store the project data in the estate and

5304
04:28:00,879 --> 04:28:07,039
after that we have to set the submitting

5305
04:28:04,238 --> 04:28:08,799
a state false. Right? So let's copy and

5306
04:28:07,040 --> 04:28:10,799
paste it here and here we'll make it

5307
04:28:08,799 --> 04:28:15,119
false.

5308
04:28:10,799 --> 04:28:17,198
Right? And uh after that let's come here

5309
04:28:15,120 --> 04:28:19,278
in the catch block. In this catch block

5310
04:28:17,199 --> 04:28:22,880
we'll add the toast notification. So

5311
04:28:19,279 --> 04:28:25,840
let's add toast dot error

5312
04:28:22,879 --> 04:28:29,678
and here let's provide the

5313
04:28:25,840 --> 04:28:31,1000
error dotresponse dot data dot message.

5314
04:28:29,680 --> 04:28:34,319
We have added the question mark also.

5315
04:28:32,000 --> 04:28:38,960
Then we'll add the or operator and

5316
04:28:34,318 --> 04:28:42,718
provide the error dot message property.

5317
04:28:38,959 --> 04:28:47,878
Right now we'll add finally

5318
04:28:42,719 --> 04:28:47,879
and in this block let's set the

5319
04:28:47,920 --> 04:28:52,439
is submitting false

5320
04:28:52,719 --> 04:29:00,238
right and here we will not make it false

5321
04:28:56,639 --> 04:29:02,478
here we will use the setter function to

5322
04:29:00,238 --> 04:29:04,638
close this

5323
04:29:02,478 --> 04:29:07,758
submit form so let's use the setter

5324
04:29:04,639 --> 04:29:09,119
function set

5325
04:29:07,760 --> 04:29:12,080
is dialog

5326
04:29:09,120 --> 04:29:15,438
open and make it false. So it will close

5327
04:29:12,079 --> 04:29:19,197
this dialogue or popup to create a new

5328
04:29:15,439 --> 04:29:23,759
project after submitting the form.

5329
04:29:19,199 --> 04:29:25,679
So after adding it, let's test our

5330
04:29:23,760 --> 04:29:28,159
functionality.

5331
04:29:25,680 --> 04:29:32,640
To test this add project feature, we

5332
04:29:28,158 --> 04:29:36,079
will come back to the web browser

5333
04:29:32,639 --> 04:29:39,518
and let's click on this button add

5334
04:29:36,079 --> 04:29:42,958
project or new project. Here also we can

5335
04:29:39,520 --> 04:29:44,640
click it will open the same popup. Right

5336
04:29:42,959 --> 04:29:48,718
now here we have to add the project

5337
04:29:44,639 --> 04:29:52,079
name. So let me add a project name here

5338
04:29:48,719 --> 04:29:53,759
launchpad CRM. Then we'll add one small

5339
04:29:52,079 --> 04:29:56,718
description. So we have added one

5340
04:29:53,760 --> 04:29:59,439
description here. Let's add the status

5341
04:29:56,719 --> 04:30:02,318
active. Here we'll add the priority

5342
04:29:59,439 --> 04:30:05,198
medium. Then we'll set the start date.

5343
04:30:02,318 --> 04:30:08,959
So let's set the start date today. And

5344
04:30:05,199 --> 04:30:13,120
we'll set the end date. I'll set

5345
04:30:08,959 --> 04:30:15,919
31st. And after that choose the project

5346
04:30:13,120 --> 04:30:18,719
lead. So I'll use this email ID. Right

5347
04:30:15,920 --> 04:30:21,439
now we have only one user in this

5348
04:30:18,719 --> 04:30:25,039
workspace. So we have selected the

5349
04:30:21,439 --> 04:30:27,1000
project lead and it is also added in the

5350
04:30:25,040 --> 04:30:31,599
team member. Right now click on this

5351
04:30:28,000 --> 04:30:35,120
create project button.

5352
04:30:31,600 --> 04:30:37,840
It says unauthorized. So let me fix it.

5353
04:30:35,120 --> 04:30:39,520
We will come back to the VS code. And uh

5354
04:30:37,840 --> 04:30:42,639
in this one you can see we have created

5355
04:30:39,520 --> 04:30:46,398
this API call right. Let me add this

5356
04:30:42,639 --> 04:30:50,478
space here. So you can see in this API

5357
04:30:46,398 --> 04:30:53,197
call we have added this path then we

5358
04:30:50,478 --> 04:30:54,718
have added the data in this object and

5359
04:30:53,199 --> 04:30:56,639
after that we have provided this

5360
04:30:54,719 --> 04:30:58,799
authorization. So this authorization

5361
04:30:56,639 --> 04:31:02,158
property should be provided in the

5362
04:30:58,799 --> 04:31:06,478
headers. Right? So let me just fix it.

5363
04:31:02,158 --> 04:31:09,518
I'll just cut this one.

5364
04:31:06,478 --> 04:31:11,599
And first we'll add the object with

5365
04:31:09,520 --> 04:31:13,439
headers property.

5366
04:31:11,600 --> 04:31:15,920
And in this headers property we will

5367
04:31:13,439 --> 04:31:18,959
provide this object that contains the

5368
04:31:15,920 --> 04:31:22,080
authorization be error and this await

5369
04:31:18,959 --> 04:31:25,039
get token. Now save the changes and come

5370
04:31:22,079 --> 04:31:29,678
back here. And now I'll click on this

5371
04:31:25,040 --> 04:31:32,639
button to add a new project. So click

5372
04:31:29,680 --> 04:31:36,880
this button create project.

5373
04:31:32,639 --> 04:31:39,999
You can see creating in this button text

5374
04:31:36,879 --> 04:31:43,999
and after that add project is not

5375
04:31:40,000 --> 04:31:46,960
defined. So let me check this one also.

5376
04:31:44,000 --> 04:31:48,639
We will just come back to the VS code.

5377
04:31:46,959 --> 04:31:51,277
You can see we have added this add

5378
04:31:48,639 --> 04:31:53,999
project here. But we have to import it,

5379
04:31:51,279 --> 04:31:57,359
right? So I'll just scroll up and here

5380
04:31:54,000 --> 04:32:00,559
let's add import

5381
04:31:57,359 --> 04:32:04,120
curly braces add project and let's

5382
04:32:00,559 --> 04:32:04,119
import it from

5383
04:32:04,559 --> 04:32:10,278
double dot / features folder/

5384
04:32:10,639 --> 04:32:15,438
workspace

5385
04:32:12,799 --> 04:32:17,278
that is workspace slice. So in this

5386
04:32:15,439 --> 04:32:20,399
feature folder we have the workspace

5387
04:32:17,279 --> 04:32:23,519
slice file. Now it will be available

5388
04:32:20,398 --> 04:32:26,237
right and after that I'll just come back

5389
04:32:23,520 --> 04:32:29,840
and click on this button again.

5390
04:32:26,238 --> 04:32:33,198
Now you can see creating

5391
04:32:29,840 --> 04:32:36,399
and now you can see the project has been

5392
04:32:33,199 --> 04:32:39,040
created. You can see total projects one

5393
04:32:36,398 --> 04:32:42,959
right completed zero my task zero

5394
04:32:39,040 --> 04:32:45,839
overdue zero. Let me refresh it.

5395
04:32:42,959 --> 04:32:48,318
So here you can see we have two projects

5396
04:32:45,840 --> 04:32:50,479
because we have attempted the project

5397
04:32:48,318 --> 04:32:52,959
creation multiple times. First time it

5398
04:32:50,478 --> 04:32:55,197
got created but it is not added in the

5399
04:32:52,959 --> 04:32:58,318
estate right because we have not

5400
04:32:55,199 --> 04:33:00,479
imported it. That's why we have created

5401
04:32:58,318 --> 04:33:03,518
two projects here. So let me delete it.

5402
04:33:00,478 --> 04:33:09,198
I'll just come back to the database

5403
04:33:03,520 --> 04:33:11,920
and uh let's come here in the project

5404
04:33:09,199 --> 04:33:14,479
and you can see we have two project with

5405
04:33:11,919 --> 04:33:16,797
the same name right so let me delete one

5406
04:33:14,479 --> 04:33:19,759
of it

5407
04:33:16,798 --> 04:33:23,599
and I'll just come back here let me

5408
04:33:19,759 --> 04:33:26,717
refresh it so you can see we have

5409
04:33:23,599 --> 04:33:30,079
one project and it is displayed here in

5410
04:33:26,719 --> 04:33:33,039
this project overview also

5411
04:33:30,080 --> 04:33:35,520
Right now, let me try to add one more

5412
04:33:33,039 --> 04:33:38,479
project. I'll click on this button and

5413
04:33:35,520 --> 04:33:41,760
then I'll add the project name.

5414
04:33:38,479 --> 04:33:45,198
Then we'll add the project description.

5415
04:33:41,759 --> 04:33:48,079
Here we will choose the status planning.

5416
04:33:45,199 --> 04:33:50,080
Then priority medium. Then we'll set the

5417
04:33:48,080 --> 04:33:54,480
start date

5418
04:33:50,080 --> 04:33:57,999
and end date. And after that

5419
04:33:54,479 --> 04:34:01,357
let's choose the project lead and click

5420
04:33:58,000 --> 04:34:01,359
on create project.

5421
04:34:03,599 --> 04:34:09,839
So it is also created. You can see total

5422
04:34:06,080 --> 04:34:11,759
projects two and here we have overview

5423
04:34:09,840 --> 04:34:14,639
and in this overview we have two

5424
04:34:11,759 --> 04:34:16,637
projects. In this one you can see the

5425
04:34:14,638 --> 04:34:19,918
status is planning and in this one you

5426
04:34:16,638 --> 04:34:23,679
can see the status active. If I click on

5427
04:34:19,919 --> 04:34:27,037
this project you can see we have these

5428
04:34:23,680 --> 04:34:29,439
details like total task completed in

5429
04:34:27,039 --> 04:34:32,080
progress and team member. So right now

5430
04:34:29,438 --> 04:34:34,559
we have only one member correct. Now in

5431
04:34:32,080 --> 04:34:36,160
this one we can create the task. Here

5432
04:34:34,561 --> 04:34:38,799
you can see we have this button create

5433
04:34:36,159 --> 04:34:41,437
task. If I click here we have to add the

5434
04:34:38,798 --> 04:34:43,519
details and we can create the task. So

5435
04:34:41,438 --> 04:34:46,559
we have to integrate this functionality.

5436
04:34:43,520 --> 04:34:48,399
We will integrate the create task API in

5437
04:34:46,561 --> 04:34:52,1000
this form.

5438
04:34:48,400 --> 04:34:52,999
So I'll just come back to the VS code.

5439
04:34:54,000 --> 04:34:59,198
But before creating the task, let me add

5440
04:34:56,479 --> 04:35:01,998
multiple members in this workspace so

5441
04:34:59,199 --> 04:35:06,718
that we can assign the task to any user.

5442
04:35:02,000 --> 04:35:10,679
So I'll just cancel this and first let's

5443
04:35:06,719 --> 04:35:10,679
come here in this

5444
04:35:12,080 --> 04:35:20,320
dashboard and in this dashboard

5445
04:35:16,561 --> 04:35:23,679
we have the team right and in this one

5446
04:35:20,319 --> 04:35:27,197
you can see we have total

5447
04:35:23,680 --> 04:35:30,160
member one active project two and total

5448
04:35:27,199 --> 04:35:34,561
task zero and here we have the user's

5449
04:35:30,159 --> 04:35:36,239
name Right. And this user is admin. Now

5450
04:35:34,561 --> 04:35:37,920
let's click on this button invite

5451
04:35:36,240 --> 04:35:39,999
member.

5452
04:35:37,919 --> 04:35:42,239
So here we have this popup or model

5453
04:35:40,000 --> 04:35:45,359
window. Using that we can invite the

5454
04:35:42,240 --> 04:35:47,118
members in this workspace. So to invite

5455
04:35:45,359 --> 04:35:50,719
the members first we have to add the

5456
04:35:47,118 --> 04:35:54,318
functionality in this popup or model

5457
04:35:50,719 --> 04:35:56,799
window. So just come back to the VS code

5458
04:35:54,319 --> 04:35:58,637
and let's open the sidebar then

5459
04:35:56,798 --> 04:36:00,399
components. In this components we have

5460
04:35:58,638 --> 04:36:02,798
the

5461
04:36:00,400 --> 04:36:06,079
invite member dialogue. Let's open it.

5462
04:36:02,798 --> 04:36:12,560
We have the invite member dialogue dot

5463
04:36:06,080 --> 04:36:14,718
JSX file right and uh in this one

5464
04:36:12,561 --> 04:36:17,038
you can see we have this handle submit

5465
04:36:14,719 --> 04:36:19,600
function right. So in this handle

5466
04:36:17,039 --> 04:36:24,958
subummit function let's use the set

5467
04:36:19,599 --> 04:36:27,038
function set is submitting true.

5468
04:36:24,958 --> 04:36:29,839
So when we click on the button it will

5469
04:36:27,039 --> 04:36:33,760
make it true and after that we will add

5470
04:36:29,840 --> 04:36:35,359
the try catch statement and in this try

5471
04:36:33,759 --> 04:36:38,079
block

5472
04:36:35,359 --> 04:36:40,799
let's add a weight and here we will use

5473
04:36:38,080 --> 04:36:42,480
the

5474
04:36:40,798 --> 04:36:46,078
organization

5475
04:36:42,479 --> 04:36:49,679
and we have to import the organization

5476
04:36:46,080 --> 04:36:53,520
from use organization. So I'll scroll up

5477
04:36:49,680 --> 04:36:57,920
and let's add con

5478
04:36:53,520 --> 04:37:00,798
curly braces organization equal to use

5479
04:36:57,919 --> 04:37:05,117
organization and the use organization

5480
04:37:00,798 --> 04:37:08,318
has been imported from the color

5481
04:37:05,118 --> 04:37:11,919
correct. Now let's come here and here we

5482
04:37:08,319 --> 04:37:13,679
can use the organization

5483
04:37:11,919 --> 04:37:17,117
dot

5484
04:37:13,680 --> 04:37:20,239
invite member and after that here we

5485
04:37:17,118 --> 04:37:23,198
have to provide the email address. So

5486
04:37:20,240 --> 04:37:24,879
let's add the email address and it will

5487
04:37:23,199 --> 04:37:26,799
be

5488
04:37:24,879 --> 04:37:28,798
form data

5489
04:37:26,798 --> 04:37:30,560
do email

5490
04:37:28,798 --> 04:37:33,278
and after that we have to provide the

5491
04:37:30,561 --> 04:37:36,561
role. So let's add the role and in this

5492
04:37:33,278 --> 04:37:40,839
role let's add the form data

5493
04:37:36,561 --> 04:37:40,839
dot ro property.

5494
04:37:42,561 --> 04:37:47,439
That's it. And after that we will

5495
04:37:44,719 --> 04:37:50,760
display the toast notification. So I'll

5496
04:37:47,438 --> 04:37:50,759
write toast

5497
04:37:50,958 --> 04:37:56,478
dot

5498
04:37:53,438 --> 04:38:01,239
success. And here we'll add the message

5499
04:37:56,479 --> 04:38:01,238
called invitation sent successfully.

5500
04:38:01,438 --> 04:38:06,079
like this and after that let's use the

5501
04:38:04,159 --> 04:38:09,437
setter function

5502
04:38:06,080 --> 04:38:11,999
set dialog open and make it false. So it

5503
04:38:09,438 --> 04:38:13,838
will close this dialogue.

5504
04:38:12,000 --> 04:38:16,320
Now come to the catch block. In this

5505
04:38:13,840 --> 04:38:19,279
catch block we'll add the console log.

5506
04:38:16,319 --> 04:38:22,559
So let's add console log.

5507
04:38:19,278 --> 04:38:24,718
Here we'll add this error.

5508
04:38:22,561 --> 04:38:27,1000
After that we'll add the toast

5509
04:38:24,719 --> 04:38:31,199
notification. So I'll write toast dot

5510
04:38:28,000 --> 04:38:35,679
error. And here let's provide error dot

5511
04:38:31,199 --> 04:38:38,399
response dot data dot message or error

5512
04:38:35,680 --> 04:38:41,798
dot message. Then we'll add the finally

5513
04:38:38,400 --> 04:38:41,799
block here.

5514
04:38:42,159 --> 04:38:48,239
And in this one let's use the setter

5515
04:38:44,638 --> 04:38:52,038
function set is submitting

5516
04:38:48,240 --> 04:38:52,038
and make it false.

5517
04:38:52,400 --> 04:38:58,638
That's it. And after that if I come back

5518
04:38:55,278 --> 04:39:01,197
and let's add any email id here to

5519
04:38:58,638 --> 04:39:03,759
invite any user. So I'll write another

5520
04:39:01,199 --> 04:39:06,080
email id here

5521
04:39:03,759 --> 04:39:08,877
and we will choose the role member and

5522
04:39:06,080 --> 04:39:10,879
click on send invitation.

5523
04:39:08,879 --> 04:39:14,718
You can see invitation sent

5524
04:39:10,879 --> 04:39:17,1000
successfully. Right now let me open my

5525
04:39:14,719 --> 04:39:20,560
email ID. If this user is already a

5526
04:39:18,000 --> 04:39:23,118
member then it will be added in this

5527
04:39:20,561 --> 04:39:25,198
organization. And if the user is not

5528
04:39:23,118 --> 04:39:27,518
signed up on this application, they will

5529
04:39:25,199 --> 04:39:29,840
receive the email. So I'll just open

5530
04:39:27,520 --> 04:39:31,760
that email.

5531
04:39:29,840 --> 04:39:34,240
You can see we have received the email

5532
04:39:31,759 --> 04:39:37,037
like this invitation to join greatest

5533
04:39:34,240 --> 04:39:40,039
active and click on this button accept

5534
04:39:37,039 --> 04:39:40,039
invitation.

5535
04:39:41,279 --> 04:39:45,599
Now let me sign in with my Google

5536
04:39:43,119 --> 04:39:48,716
account. I'll choose this. After that

5537
04:39:45,599 --> 04:39:51,198
click on this continue button.

5538
04:39:48,718 --> 04:39:53,599
So now we are logged in and after that

5539
04:39:51,200 --> 04:39:57,039
we are not redirected to the homepage.

5540
04:39:53,599 --> 04:40:02,159
So we have to add the redirect URL.

5541
04:39:57,040 --> 04:40:05,280
So I'll come back to the color dashboard

5542
04:40:02,159 --> 04:40:07,279
and in this one go to configure

5543
04:40:05,279 --> 04:40:09,038
and in the left side you will find this

5544
04:40:07,279 --> 04:40:11,759
path.

5545
04:40:09,040 --> 04:40:14,160
We have paths. Let's open it. And here

5546
04:40:11,759 --> 04:40:16,558
you can see we have to add the fallback

5547
04:40:14,159 --> 04:40:19,838
development host.

5548
04:40:16,560 --> 04:40:23,680
Right? So let's add the URL. I'll just

5549
04:40:19,840 --> 04:40:26,679
copy this localhost 5173 and paste it

5550
04:40:23,680 --> 04:40:26,680
here

5551
04:40:27,119 --> 04:40:33,998
like this. Then click on save. So after

5552
04:40:30,797 --> 04:40:38,159
sign up, it will open this URL.

5553
04:40:34,000 --> 04:40:42,798
Now let me just come back here and uh

5554
04:40:38,159 --> 04:40:44,716
if I open the local host 5173,

5555
04:40:42,797 --> 04:40:47,439
it is asking to sign in. So let me sign

5556
04:40:44,718 --> 04:40:49,599
in with my Google account. So after sign

5557
04:40:47,439 --> 04:40:51,919
up you can see we are redirected to this

5558
04:40:49,599 --> 04:40:55,039
dashboard where you can see we are the

5559
04:40:51,919 --> 04:40:56,877
member of this great stack dev workspace

5560
04:40:55,040 --> 04:40:59,520
and in this workspace we have two

5561
04:40:56,878 --> 04:41:03,440
project you can see the user profile

5562
04:40:59,520 --> 04:41:06,560
here the name and email id and here also

5563
04:41:03,439 --> 04:41:09,118
you can see welcome back abinach kumar

5564
04:41:06,560 --> 04:41:11,439
right now I'll just come back to the

5565
04:41:09,119 --> 04:41:13,599
previous account who is the admin of

5566
04:41:11,439 --> 04:41:16,399
this workspace so in this one you can

5567
04:41:13,599 --> 04:41:19,198
see we have the team and in this team

5568
04:41:16,400 --> 04:41:22,319
you can see we have two members right

5569
04:41:19,200 --> 04:41:24,560
one is admin one is member

5570
04:41:22,319 --> 04:41:27,759
and so this invite member is working

5571
04:41:24,560 --> 04:41:31,359
fine after that let's add other

5572
04:41:27,759 --> 04:41:34,877
functions in this project so I'll come

5573
04:41:31,360 --> 04:41:38,079
to this projects then open any project

5574
04:41:34,878 --> 04:41:40,878
I'll just open this one and here we can

5575
04:41:38,080 --> 04:41:43,919
display the list of task then calendar

5576
04:41:40,878 --> 04:41:45,759
then analytics and then settings so in

5577
04:41:43,919 --> 04:41:47,838
this settings you can

5578
04:41:45,759 --> 04:41:50,239
We have the project details like name,

5579
04:41:47,840 --> 04:41:52,798
description, a status, priority, start,

5580
04:41:50,240 --> 04:41:55,039
end date and progress. So we have to add

5581
04:41:52,797 --> 04:41:57,359
the functionality here to update the

5582
04:41:55,040 --> 04:41:59,040
project details.

5583
04:41:57,360 --> 04:42:00,560
For that we will come back to the VS

5584
04:41:59,040 --> 04:42:03,759
code.

5585
04:42:00,560 --> 04:42:07,279
In this one, let's open the client

5586
04:42:03,759 --> 04:42:10,957
folder then src then components and here

5587
04:42:07,279 --> 04:42:13,998
we will find project setting component.

5588
04:42:10,957 --> 04:42:16,479
So here we have the project settings JSX

5589
04:42:14,000 --> 04:42:19,919
file. In this one, we have this form

5590
04:42:16,479 --> 04:42:23,038
data, right? But before this form data,

5591
04:42:19,919 --> 04:42:25,919
let's add const

5592
04:42:23,040 --> 04:42:30,559
dispatch.

5593
04:42:25,919 --> 04:42:33,758
So let's add dispatch equal to

5594
04:42:30,560 --> 04:42:37,920
use dispatch

5595
04:42:33,759 --> 04:42:41,999
and it will get imported from the

5596
04:42:37,919 --> 04:42:46,239
React Redux. After that let's add con

5597
04:42:42,000 --> 04:42:49,120
curly braces get token function and we

5598
04:42:46,240 --> 04:42:51,999
will get this function from

5599
04:42:49,119 --> 04:42:54,399
use o use o has been imported here from

5600
04:42:52,000 --> 04:42:57,120
the color

5601
04:42:54,400 --> 04:42:59,760
right after that let's scroll down and

5602
04:42:57,119 --> 04:43:02,957
here we have this handle submit function

5603
04:42:59,759 --> 04:43:05,759
using that we can update the project

5604
04:43:02,957 --> 04:43:08,479
settings or project data so in this one

5605
04:43:05,759 --> 04:43:12,239
let's add

5606
04:43:08,479 --> 04:43:17,279
set is submitting and make it true. And

5607
04:43:12,240 --> 04:43:20,400
after that, let's add toast.

5608
04:43:17,279 --> 04:43:23,198
Import it. We'll add toast dot

5609
04:43:20,400 --> 04:43:25,119
loading.

5610
04:43:23,200 --> 04:43:26,638
And here we'll add the text called

5611
04:43:25,119 --> 04:43:28,796
saving.

5612
04:43:26,637 --> 04:43:31,359
So it will display this toast

5613
04:43:28,797 --> 04:43:35,758
notification until it saved the data.

5614
04:43:31,360 --> 04:43:38,239
Here we'll add try catch block

5615
04:43:35,759 --> 04:43:40,797
and in this try block we'll make the API

5616
04:43:38,240 --> 04:43:42,637
call. So let's add con curly braces data

5617
04:43:40,797 --> 04:43:47,598
equal to

5618
04:43:42,637 --> 04:43:50,478
await and we will use the API

5619
04:43:47,599 --> 04:43:53,438
import it from the config folder

5620
04:43:50,479 --> 04:43:55,278
dotput method.

5621
04:43:53,439 --> 04:43:58,479
We have used the put method to create

5622
04:43:55,279 --> 04:44:01,359
this API endpoint. Now provide the path

5623
04:43:58,479 --> 04:44:05,198
that is / API/

5624
04:44:01,360 --> 04:44:07,520
projects. Then we'll add the

5625
04:44:05,200 --> 04:44:09,919
form data here.

5626
04:44:07,520 --> 04:44:12,920
And after that let's add the headers

5627
04:44:09,919 --> 04:44:12,919
property

5628
04:44:13,439 --> 04:44:18,716
and uh in this headers property we will

5629
04:44:16,400 --> 04:44:21,199
add the object and provide the

5630
04:44:18,718 --> 04:44:23,120
authorization

5631
04:44:21,200 --> 04:44:27,280
and in this authorization we will add

5632
04:44:23,119 --> 04:44:30,159
verror await get token function. Right

5633
04:44:27,279 --> 04:44:34,078
after that let's use the setter function

5634
04:44:30,159 --> 04:44:37,599
set is dialogue open and make it false.

5635
04:44:34,080 --> 04:44:41,440
So it will close the popup and after

5636
04:44:37,599 --> 04:44:47,637
that let's add dispatch and in this one

5637
04:44:41,439 --> 04:44:47,637
we will use the fetch workspaces

5638
04:44:48,240 --> 04:44:54,797
and here let's add curly braces

5639
04:44:52,159 --> 04:44:56,796
get token function right after that

5640
04:44:54,797 --> 04:45:01,439
we'll display the toast notification so

5641
04:44:56,797 --> 04:45:03,918
let's add toast dot success

5642
04:45:01,439 --> 04:45:06,716
and here we'll add the message that we

5643
04:45:03,919 --> 04:45:09,039
will receive from the API that is data

5644
04:45:06,718 --> 04:45:11,280
dot message. But before that we have to

5645
04:45:09,040 --> 04:45:14,480
dismiss the previous toast notification.

5646
04:45:11,279 --> 04:45:16,636
So let's add toast dot

5647
04:45:14,479 --> 04:45:19,519
dismiss all.

5648
04:45:16,637 --> 04:45:21,438
That's it. And after that come here in

5649
04:45:19,520 --> 04:45:25,439
the catch block. In this catch block

5650
04:45:21,439 --> 04:45:29,358
again add this toast dot dismiss all.

5651
04:45:25,439 --> 04:45:31,679
And here we'll add the toast

5652
04:45:29,360 --> 04:45:34,637
dot error.

5653
04:45:31,680 --> 04:45:38,239
And in this one, let's add the error dot

5654
04:45:34,637 --> 04:45:40,957
response dot data dot message or error

5655
04:45:38,240 --> 04:45:44,159
dot message. Then we'll add the finally

5656
04:45:40,957 --> 04:45:46,876
block. In this one, let's use the setter

5657
04:45:44,159 --> 04:45:49,877
function set is submitting and make it

5658
04:45:46,878 --> 04:45:49,878
false.

5659
04:45:50,797 --> 04:45:55,598
That's it. So we have added the

5660
04:45:53,119 --> 04:45:58,636
functionality here so that we can update

5661
04:45:55,599 --> 04:46:01,118
the project settings.

5662
04:45:58,637 --> 04:46:03,279
Right? And after that, let me just come

5663
04:46:01,119 --> 04:46:07,918
back to the web browser.

5664
04:46:03,279 --> 04:46:11,839
And here, let's update this project. So,

5665
04:46:07,919 --> 04:46:13,678
I'll write Launchpad CRM

5666
04:46:11,840 --> 04:46:15,1000
project

5667
04:46:13,680 --> 04:46:17,920
like this. And click on save changes.

5668
04:46:16,000 --> 04:46:22,400
We'll update this progress. Click on

5669
04:46:17,919 --> 04:46:25,359
save changes. You can see saving

5670
04:46:22,400 --> 04:46:27,680
and project updated successfully. So, it

5671
04:46:25,360 --> 04:46:30,480
has been updated. You can see the

5672
04:46:27,680 --> 04:46:33,040
updated project name. Then we have the

5673
04:46:30,479 --> 04:46:35,038
progress. If I come back here in this

5674
04:46:33,040 --> 04:46:38,160
projects

5675
04:46:35,040 --> 04:46:40,080
and you can see in this one the project

5676
04:46:38,159 --> 04:46:43,519
name has been updated and you can see

5677
04:46:40,080 --> 04:46:45,759
the progress also. Let's open it.

5678
04:46:43,520 --> 04:46:47,1000
Go to settings. So here we have the

5679
04:46:45,759 --> 04:46:50,239
updated project data. So it is working

5680
04:46:48,000 --> 04:46:52,798
fine. Next we have to add the team

5681
04:46:50,240 --> 04:46:54,637
member in this project.

5682
04:46:52,797 --> 04:46:57,279
Till now we have added the team member

5683
04:46:54,637 --> 04:46:59,279
in this workspace. Right? Now we'll add

5684
04:46:57,279 --> 04:47:00,956
the team member in this particular

5685
04:46:59,279 --> 04:47:02,796
project.

5686
04:47:00,957 --> 04:47:05,199
Right? So you can see here we have this

5687
04:47:02,797 --> 04:47:08,636
button. Let's click here. So it will

5688
04:47:05,200 --> 04:47:11,839
open this popup add member to project.

5689
04:47:08,637 --> 04:47:14,159
And here we can choose the email ID that

5690
04:47:11,840 --> 04:47:18,798
is the user's email ID who is available

5691
04:47:14,159 --> 04:47:21,038
in this workspace. Right? So if the user

5692
04:47:18,797 --> 04:47:23,279
is available in this workspace, user is

5693
04:47:21,040 --> 04:47:25,120
a member of this workspace, then we'll

5694
04:47:23,279 --> 04:47:28,796
get the list here and we can add that

5695
04:47:25,119 --> 04:47:30,559
member in this particular project. So we

5696
04:47:28,797 --> 04:47:33,519
have to add the functionality in this

5697
04:47:30,560 --> 04:47:36,798
button that is add member. So I'll just

5698
04:47:33,520 --> 04:47:38,797
come back to the VS code. Here we will

5699
04:47:36,797 --> 04:47:40,559
open this sidebar. In this components

5700
04:47:38,797 --> 04:47:43,998
you will find this add project

5701
04:47:40,560 --> 04:47:46,159
member.jsx file. Now in this one you can

5702
04:47:44,000 --> 04:47:47,839
see we have this search patterns and

5703
04:47:46,159 --> 04:47:50,957
from this search patterns we will find

5704
04:47:47,840 --> 04:47:53,1000
the ID that will be the project ID. If I

5705
04:47:50,957 --> 04:47:56,479
open this page so in this URL you can

5706
04:47:54,000 --> 04:48:00,400
see we have this ID right. So this is

5707
04:47:56,479 --> 04:48:03,919
the project ID. Now just come back here

5708
04:48:00,400 --> 04:48:07,760
and uh after that here we will get the

5709
04:48:03,919 --> 04:48:10,478
token. So let's add con

5710
04:48:07,759 --> 04:48:12,318
curly braces

5711
04:48:10,479 --> 04:48:16,238
get token

5712
04:48:12,319 --> 04:48:18,319
equal to use o

5713
04:48:16,240 --> 04:48:21,119
and after that we will get the dispatch

5714
04:48:18,319 --> 04:48:23,838
function. So just add const

5715
04:48:21,119 --> 04:48:28,599
dispatch

5716
04:48:23,840 --> 04:48:28,599
equal to use dispatch

5717
04:48:28,797 --> 04:48:35,199
like this. So you can see

5718
04:48:32,560 --> 04:48:38,877
use dispatch has been imported here and

5719
04:48:35,200 --> 04:48:41,360
use o is also imported correct. After

5720
04:48:38,878 --> 04:48:43,520
that here we have the current workspace

5721
04:48:41,360 --> 04:48:46,159
then we have the

5722
04:48:43,520 --> 04:48:48,319
project then is adding a state and then

5723
04:48:46,159 --> 04:48:52,319
we have the handler function handle

5724
04:48:48,319 --> 04:48:55,439
submit. Right now in this one let's add

5725
04:48:52,319 --> 04:48:57,439
setter function set is adding and make

5726
04:48:55,439 --> 04:48:59,919
it true.

5727
04:48:57,439 --> 04:49:02,796
And after that here we'll add the try

5728
04:48:59,919 --> 04:49:06,478
catch a statement.

5729
04:49:02,797 --> 04:49:10,079
In this try block we'll add await

5730
04:49:06,479 --> 04:49:13,679
API import the API from configs folder.

5731
04:49:10,080 --> 04:49:16,637
Then we'll add dot post method. And in

5732
04:49:13,680 --> 04:49:20,479
this one let's add the API path. So it

5733
04:49:16,637 --> 04:49:22,239
will be / API/ projects. We have added

5734
04:49:20,479 --> 04:49:24,318
the back ticks here so that we can

5735
04:49:22,240 --> 04:49:26,797
insert the template literal. So just add

5736
04:49:24,319 --> 04:49:29,359
dollar sign curly braces. And here we

5737
04:49:26,797 --> 04:49:34,239
have to add the project id. So let's add

5738
04:49:29,360 --> 04:49:38,080
the project dot id property

5739
04:49:34,240 --> 04:49:40,079
right and after that we'll add / add

5740
04:49:38,080 --> 04:49:43,440
member.

5741
04:49:40,080 --> 04:49:46,080
So this is the API endpoint.

5742
04:49:43,439 --> 04:49:49,759
Correct? After that we'll add comma and

5743
04:49:46,080 --> 04:49:51,919
here we have to add the email id. So

5744
04:49:49,759 --> 04:49:55,598
this email id will be added in this

5745
04:49:51,919 --> 04:49:57,678
project. After that we'll add the

5746
04:49:55,599 --> 04:49:59,358
headers property here and in this

5747
04:49:57,680 --> 04:50:03,279
headers

5748
04:49:59,360 --> 04:50:06,400
we will add the authorization

5749
04:50:03,279 --> 04:50:09,198
be error and token to authenticate this

5750
04:50:06,400 --> 04:50:12,638
request. Now let's add the toast

5751
04:50:09,200 --> 04:50:15,360
notification. So I'll write toast

5752
04:50:12,637 --> 04:50:18,797
dot success

5753
04:50:15,360 --> 04:50:21,797
and provide the message added to project

5754
04:50:18,797 --> 04:50:21,797
successfully.

5755
04:50:21,840 --> 04:50:29,759
Then we will add the setter function

5756
04:50:25,759 --> 04:50:32,558
set is dialogue open and make it false.

5757
04:50:29,759 --> 04:50:35,278
So it will close this popup. And after

5758
04:50:32,560 --> 04:50:38,399
that let's update our state also. So

5759
04:50:35,279 --> 04:50:41,439
let's add dispatch

5760
04:50:38,400 --> 04:50:44,400
and we'll add the

5761
04:50:41,439 --> 04:50:48,078
fetch workspaces.

5762
04:50:44,400 --> 04:50:50,400
And in this one let's add the get token

5763
04:50:48,080 --> 04:50:51,600
function.

5764
04:50:50,400 --> 04:50:54,080
Right.

5765
04:50:51,599 --> 04:50:56,717
And uh after that come here in the catch

5766
04:50:54,080 --> 04:50:59,679
block. In this catch block just add the

5767
04:50:56,718 --> 04:51:01,1000
toast dot error

5768
04:50:59,680 --> 04:51:06,718
and in this error we'll provide the

5769
04:51:02,000 --> 04:51:09,040
error dotresponse dot data dossage or

5770
04:51:06,718 --> 04:51:12,320
error dot message. Then we will add the

5771
04:51:09,040 --> 04:51:14,717
finally block

5772
04:51:12,319 --> 04:51:17,599
and in this finally block let's use the

5773
04:51:14,718 --> 04:51:19,839
setter function set is adding and make

5774
04:51:17,599 --> 04:51:22,797
it false.

5775
04:51:19,840 --> 04:51:25,840
That's it. Now after that let me open

5776
04:51:22,797 --> 04:51:28,239
the web page and click on this button

5777
04:51:25,840 --> 04:51:30,559
and choose this email id and click on

5778
04:51:28,240 --> 04:51:33,440
add member.

5779
04:51:30,560 --> 04:51:35,439
You can see adding

5780
04:51:33,439 --> 04:51:37,919
and now you can see the notification

5781
04:51:35,439 --> 04:51:39,839
added to project successfully and after

5782
04:51:37,919 --> 04:51:42,079
that it will refresh the web page and

5783
04:51:39,840 --> 04:51:43,1000
here you can see team members. In this

5784
04:51:42,080 --> 04:51:46,240
one we have two members right this is

5785
04:51:44,000 --> 04:51:49,919
the first one and this is the second

5786
04:51:46,240 --> 04:51:54,637
one. So now we can add a new member in

5787
04:51:49,919 --> 04:51:56,717
this project. It is working fine.

5788
04:51:54,637 --> 04:51:58,877
Now we will add the functionality to

5789
04:51:56,718 --> 04:52:03,040
create a new task. So I'll just come

5790
04:51:58,878 --> 04:52:05,360
back here in the another account.

5791
04:52:03,040 --> 04:52:09,599
So in this account

5792
04:52:05,360 --> 04:52:12,877
we have the projects right. And uh if I

5793
04:52:09,599 --> 04:52:14,238
come to this projects and open this one

5794
04:52:12,878 --> 04:52:17,679
here you can see we are getting this

5795
04:52:14,240 --> 04:52:20,079
button new task. If I click here it is

5796
04:52:17,680 --> 04:52:22,239
opening this popup to create a new task.

5797
04:52:20,080 --> 04:52:26,120
So to make it functional, I'll just come

5798
04:52:22,240 --> 04:52:26,119
back to the VS code

5799
04:52:26,797 --> 04:52:33,199
and uh after that let's open the sidebar

5800
04:52:30,319 --> 04:52:37,559
and uh in this components you will find

5801
04:52:33,200 --> 04:52:37,560
this file

5802
04:52:38,000 --> 04:52:47,839
create task dialogue.jsx JSX

5803
04:52:42,718 --> 04:52:50,718
right and uh in this one we have the

5804
04:52:47,840 --> 04:52:52,878
current workspace

5805
04:52:50,718 --> 04:52:55,360
then we have the project then we have

5806
04:52:52,878 --> 04:53:00,480
the team members

5807
04:52:55,360 --> 04:53:02,717
right and before that let's get the

5808
04:53:00,479 --> 04:53:05,759
get token so that we can make the API

5809
04:53:02,718 --> 04:53:07,759
call so I'll write con

5810
04:53:05,759 --> 04:53:09,759
curly braces

5811
04:53:07,759 --> 04:53:11,919
get token

5812
04:53:09,759 --> 04:53:16,079
equal to

5813
04:53:11,919 --> 04:53:17,758
use o. So use o has been imported. After

5814
04:53:16,080 --> 04:53:21,759
that we'll get the dispatch function

5815
04:53:17,759 --> 04:53:23,518
also. So let's add const dispatch equal

5816
04:53:21,759 --> 04:53:25,598
to

5817
04:53:23,520 --> 04:53:29,359
use dispatch.

5818
04:53:25,599 --> 04:53:31,599
Use dispatch has been imported here.

5819
04:53:29,360 --> 04:53:33,999
Correct. After that you can see we have

5820
04:53:31,599 --> 04:53:37,278
the state is submitting and then we have

5821
04:53:34,000 --> 04:53:40,400
the form data that will be submitted to

5822
04:53:37,279 --> 04:53:43,599
add a new task. Then we have this handle

5823
04:53:40,400 --> 04:53:46,717
submit function. So we have to complete

5824
04:53:43,599 --> 04:53:49,278
this function to submit the task and

5825
04:53:46,718 --> 04:53:51,839
store it in the database. So here let's

5826
04:53:49,279 --> 04:53:55,118
use the setter function set is

5827
04:53:51,840 --> 04:53:57,439
submitting true.

5828
04:53:55,119 --> 04:53:59,918
After that we will make the API call. So

5829
04:53:57,439 --> 04:54:03,198
I'll write the try catcher statement and

5830
04:53:59,919 --> 04:54:06,079
in this try block we'll add con curly

5831
04:54:03,200 --> 04:54:10,797
braces data

5832
04:54:06,080 --> 04:54:13,599
equal to and here we will add await API

5833
04:54:10,797 --> 04:54:17,199
import the API from the config folder

5834
04:54:13,599 --> 04:54:19,679
then dot post method

5835
04:54:17,200 --> 04:54:23,520
here we have to add the API endpoint it

5836
04:54:19,680 --> 04:54:25,840
will be / API/ tasks

5837
04:54:23,520 --> 04:54:28,239
then we have to add the data so I'll

5838
04:54:25,840 --> 04:54:30,160
write curly braces a spread operator we

5839
04:54:28,240 --> 04:54:36,400
will use

5840
04:54:30,159 --> 04:54:38,559
form data and comma workspace id

5841
04:54:36,400 --> 04:54:42,119
and in the workspace id let's provide

5842
04:54:38,560 --> 04:54:42,120
the current workspace

5843
04:54:42,878 --> 04:54:49,600
dot id after that we will add the

5844
04:54:45,680 --> 04:54:51,439
project ID also so let's add the project

5845
04:54:49,599 --> 04:54:53,438
ID

5846
04:54:51,439 --> 04:54:55,519
after that we have to authenticate our

5847
04:54:53,439 --> 04:54:56,559
request so here we'll add the headers

5848
04:54:55,520 --> 04:54:58,958
property

5849
04:54:56,560 --> 04:55:02,079
And in the headers we have to add

5850
04:54:58,957 --> 04:55:05,038
authorization then v error and this

5851
04:55:02,080 --> 04:55:10,320
token. After that let's use this set

5852
04:55:05,040 --> 04:55:13,760
function set. So create task and make it

5853
04:55:10,319 --> 04:55:17,359
false so that it will hide the popup

5854
04:55:13,759 --> 04:55:20,558
and after that we will reset the form.

5855
04:55:17,360 --> 04:55:23,119
So here let's add

5856
04:55:20,560 --> 04:55:25,279
set form data

5857
04:55:23,119 --> 04:55:28,877
and in this one we will add the object

5858
04:55:25,279 --> 04:55:31,439
and provide these properties that will

5859
04:55:28,878 --> 04:55:33,520
reset the form again. So we will provide

5860
04:55:31,439 --> 04:55:37,679
the title, description, type, a status,

5861
04:55:33,520 --> 04:55:39,279
priority, assigne ID and due date. After

5862
04:55:37,680 --> 04:55:42,559
that we will display the toast

5863
04:55:39,279 --> 04:55:44,956
notification. So let's add toast import

5864
04:55:42,560 --> 04:55:48,399
the toast from react hot toast. Then

5865
04:55:44,957 --> 04:55:52,716
we'll add dot success. And after that

5866
04:55:48,400 --> 04:55:55,360
let's add the data dot message. So we

5867
04:55:52,718 --> 04:55:58,400
will display the success message that we

5868
04:55:55,360 --> 04:56:02,079
will receive from the API response.

5869
04:55:58,400 --> 04:56:06,400
After that here we will add dispatch.

5870
04:56:02,080 --> 04:56:09,599
And in this one let's add the add task

5871
04:56:06,400 --> 04:56:12,079
function. So first we have to import it.

5872
04:56:09,599 --> 04:56:16,039
Let's scroll up

5873
04:56:12,080 --> 04:56:16,040
here. We will add import

5874
04:56:16,240 --> 04:56:22,400
curly braces and provide

5875
04:56:19,919 --> 04:56:24,079
add task

5876
04:56:22,400 --> 04:56:26,560
from

5877
04:56:24,080 --> 04:56:28,320
and here we'll add

5878
04:56:26,560 --> 04:56:31,798
/

5879
04:56:28,319 --> 04:56:31,797
features folder/workspace

5880
04:56:33,279 --> 04:56:38,399
slice.

5881
04:56:35,279 --> 04:56:40,158
Now let's add this add task here in this

5882
04:56:38,400 --> 04:56:43,919
dispatch.

5883
04:56:40,159 --> 04:56:45,678
After that here we will add the data. So

5884
04:56:43,919 --> 04:56:49,717
let's add

5885
04:56:45,680 --> 04:56:49,718
data dot task

5886
04:56:50,159 --> 04:56:54,877
like this. So it will update the task in

5887
04:56:52,479 --> 04:56:56,796
the state also. After that come to this

5888
04:56:54,878 --> 04:56:58,878
catch block and in this catch block

5889
04:56:56,797 --> 04:57:00,716
again we have to add the toast

5890
04:56:58,878 --> 04:57:03,280
notification. So we have added this

5891
04:57:00,718 --> 04:57:06,240
toast dot error. After that we'll add

5892
04:57:03,279 --> 04:57:08,956
the finally and in this one let's use

5893
04:57:06,240 --> 04:57:12,159
the setter function set is submitting

5894
04:57:08,957 --> 04:57:14,399
and make it false.

5895
04:57:12,159 --> 04:57:16,399
That's it. So we have completed this

5896
04:57:14,400 --> 04:57:19,919
function

5897
04:57:16,400 --> 04:57:22,717
using that we can create a new task.

5898
04:57:19,919 --> 04:57:25,438
Right now we have to test it. So I'll

5899
04:57:22,718 --> 04:57:28,637
just come back to the web browser

5900
04:57:25,439 --> 04:57:32,479
and uh in this project we will create

5901
04:57:28,637 --> 04:57:35,119
the task. Right? So

5902
04:57:32,479 --> 04:57:37,919
I'll add the data like title. This is

5903
04:57:35,119 --> 04:57:40,796
the task title. Then we'll add the task

5904
04:57:37,919 --> 04:57:44,159
description. So here we'll add small

5905
04:57:40,797 --> 04:57:49,118
description. Then we'll add the type.

5906
04:57:44,159 --> 04:57:51,678
Right? So here let me choose the

5907
04:57:49,119 --> 04:57:55,038
type. It is

5908
04:57:51,680 --> 04:57:58,160
task. We can choose the bug feature

5909
04:57:55,040 --> 04:58:01,440
improvement and other. Right? Let's

5910
04:57:58,159 --> 04:58:03,758
choose the priority. It will be medium.

5911
04:58:01,439 --> 04:58:06,559
And here we'll add the assigne. So let's

5912
04:58:03,759 --> 04:58:08,637
choose the user to whom you want to

5913
04:58:06,560 --> 04:58:13,600
assign this task. So let me use this

5914
04:58:08,637 --> 04:58:16,797
user. And here we'll add the status

5915
04:58:13,599 --> 04:58:19,438
in progress.

5916
04:58:16,797 --> 04:58:23,119
And after that let's choose the due

5917
04:58:19,439 --> 04:58:27,999
date. So I'll choose the due date after

5918
04:58:23,119 --> 04:58:29,998
3 days. And click on create task button.

5919
04:58:28,000 --> 04:58:32,958
It is creating right. You can see the

5920
04:58:30,000 --> 04:58:35,839
text in the button. Now you can see the

5921
04:58:32,957 --> 04:58:38,716
notification task created successfully.

5922
04:58:35,840 --> 04:58:42,798
So here you can see in this project we

5923
04:58:38,718 --> 04:58:45,360
have one task and the completed task is

5924
04:58:42,797 --> 04:58:48,319
zero in progress one and we have two

5925
04:58:45,360 --> 04:58:51,199
members in this

5926
04:58:48,319 --> 04:58:54,238
project. Right here we have the task

5927
04:58:51,200 --> 04:58:56,797
title. Then the type is task. The

5928
04:58:54,240 --> 04:58:59,039
priority is medium and the status is in

5929
04:58:56,797 --> 04:59:01,838
progress. And this is the assigne

5930
04:58:59,040 --> 04:59:04,798
details and due date.

5931
04:59:01,840 --> 04:59:06,320
Right now let me create one more task

5932
04:59:04,797 --> 04:59:09,519
here.

5933
04:59:06,319 --> 04:59:11,679
So I'll click on this button new task.

5934
04:59:09,520 --> 04:59:13,760
Here we'll add

5935
04:59:11,680 --> 04:59:17,760
the title.

5936
04:59:13,759 --> 04:59:20,558
Then we'll add the small description.

5937
04:59:17,759 --> 04:59:24,797
And here we'll choose the type. So in

5938
04:59:20,560 --> 04:59:27,680
this type let me provide

5939
04:59:24,797 --> 04:59:30,636
improvement. Right? And here also we'll

5940
04:59:27,680 --> 04:59:34,319
choose the priority medium and assign to

5941
04:59:30,637 --> 04:59:38,877
the same person. And here also we'll add

5942
04:59:34,319 --> 04:59:41,599
in progress and assign the due date and

5943
04:59:38,878 --> 04:59:45,360
click on create task.

5944
04:59:41,599 --> 04:59:50,159
Now another task has been assigned.

5945
04:59:45,360 --> 04:59:52,637
Right here we have selected the type

5946
04:59:50,159 --> 04:59:54,716
but it is not selected. So let me add

5947
04:59:52,637 --> 04:59:56,559
one more here.

5948
04:59:54,718 --> 05:00:00,798
We will check it.

5949
04:59:56,560 --> 05:00:03,920
Let's add the title. Then we'll choose

5950
05:00:00,797 --> 05:00:06,558
the description.

5951
05:00:03,919 --> 05:00:08,637
And then we'll choose the

5952
05:00:06,560 --> 05:00:11,359
type

5953
05:00:08,637 --> 05:00:14,717
feature.

5954
05:00:11,360 --> 05:00:19,520
And let's choose the priority and assign

5955
05:00:14,718 --> 05:00:21,759
to this user in progress and due date.

5956
05:00:19,520 --> 05:00:25,119
Create task.

5957
05:00:21,759 --> 05:00:27,678
It is created. And in all task the type

5958
05:00:25,119 --> 05:00:31,479
is task only.

5959
05:00:27,680 --> 05:00:31,479
Let me refresh it.

5960
05:00:32,000 --> 05:00:37,919
So we have to fix this one.

5961
05:00:34,718 --> 05:00:40,958
I will just come back to the VS code and

5962
05:00:37,919 --> 05:00:43,279
let me open the sidebar and let's come

5963
05:00:40,957 --> 05:00:45,918
to this server folder. In this server we

5964
05:00:43,279 --> 05:00:47,519
have the task controller. In this task

5965
05:00:45,919 --> 05:00:49,919
controller we have created this

5966
05:00:47,520 --> 05:00:53,920
controller function create task. In this

5967
05:00:49,919 --> 05:00:56,637
one you can see here we have added the

5968
05:00:53,919 --> 05:00:58,797
task equal to await prisma dot

5969
05:00:56,637 --> 05:01:01,279
task.create. So it will create the data

5970
05:00:58,797 --> 05:01:03,359
in database. Here we have added these

5971
05:01:01,279 --> 05:01:06,636
details but we have not added the type.

5972
05:01:03,360 --> 05:01:08,717
So let's add the space. Provide the type

5973
05:01:06,637 --> 05:01:12,319
that is the task type and provide the

5974
05:01:08,718 --> 05:01:15,040
comma save the changes. Right? And after

5975
05:01:12,319 --> 05:01:17,279
that if I create a new task then it will

5976
05:01:15,040 --> 05:01:19,919
also update the type. So let me just

5977
05:01:17,279 --> 05:01:22,158
come back to the database and come to

5978
05:01:19,919 --> 05:01:25,279
this task

5979
05:01:22,159 --> 05:01:29,239
and let me delete the task from here.

5980
05:01:25,279 --> 05:01:29,239
I'll delete two task

5981
05:01:29,520 --> 05:01:35,039
and come back here. Refresh it.

5982
05:01:32,560 --> 05:01:38,319
You can see we have one task. The type

5983
05:01:35,040 --> 05:01:41,440
is task priority medium. Right now let's

5984
05:01:38,319 --> 05:01:43,918
click on this button to create a new

5985
05:01:41,439 --> 05:01:48,637
task. And after that here we will add

5986
05:01:43,919 --> 05:01:52,717
the details like title.

5987
05:01:48,637 --> 05:01:54,957
Then we will add the description here.

5988
05:01:52,718 --> 05:01:58,080
After that we will add the type

5989
05:01:54,957 --> 05:02:02,078
improvement. Then we'll set the priority

5990
05:01:58,080 --> 05:02:05,360
low. Then assign the user.

5991
05:02:02,080 --> 05:02:09,120
Then in progress and after that let's

5992
05:02:05,360 --> 05:02:11,199
add the due date and create task.

5993
05:02:09,119 --> 05:02:12,957
So the task has been created. And you

5994
05:02:11,200 --> 05:02:14,638
can see here we have the type

5995
05:02:12,957 --> 05:02:17,519
improvement.

5996
05:02:14,637 --> 05:02:20,319
Right? And if I click on any task, it

5997
05:02:17,520 --> 05:02:21,760
will display the details like this.

5998
05:02:20,319 --> 05:02:24,399
Right? In the right side, we have the

5999
05:02:21,759 --> 05:02:26,558
task name. Then in progress,

6000
05:02:24,400 --> 05:02:28,717
improvement, low, this is the

6001
05:02:26,560 --> 05:02:30,718
description. And here we have the user

6002
05:02:28,718 --> 05:02:32,718
to whom this task is assigned. And this

6003
05:02:30,718 --> 05:02:35,839
is the due date. And this is the project

6004
05:02:32,718 --> 05:02:39,839
details also. Right? Now just come back

6005
05:02:35,840 --> 05:02:42,479
and I'll add one more task here. So I'll

6006
05:02:39,840 --> 05:02:47,280
just click on this button and here we'll

6007
05:02:42,479 --> 05:02:50,918
add the new task name. So it is client

6008
05:02:47,279 --> 05:02:50,919
feedback integration.

6009
05:02:52,240 --> 05:02:56,877
After that we'll add the description

6010
05:02:54,479 --> 05:02:59,358
here.

6011
05:02:56,878 --> 05:03:02,320
Then we'll add the type. So let's add

6012
05:02:59,360 --> 05:03:06,480
the type feature. Then priority is

6013
05:03:02,319 --> 05:03:08,956
medium. Assign the user and in progress

6014
05:03:06,479 --> 05:03:12,358
and due date.

6015
05:03:08,957 --> 05:03:12,359
create task.

6016
05:03:13,200 --> 05:03:19,119
So you can see the another task the type

6017
05:03:16,400 --> 05:03:21,999
is feature right and here we have the

6018
05:03:19,119 --> 05:03:25,758
assigne details. So this create task is

6019
05:03:22,000 --> 05:03:27,919
working fine right now let me just click

6020
05:03:25,759 --> 05:03:30,797
here so it will display the details like

6021
05:03:27,919 --> 05:03:32,717
this

6022
05:03:30,797 --> 05:03:35,519
and after that we have to add the

6023
05:03:32,718 --> 05:03:37,200
feature to update the task and delete

6024
05:03:35,520 --> 05:03:39,040
the task.

6025
05:03:37,200 --> 05:03:41,119
Let's come back to this page and now

6026
05:03:39,040 --> 05:03:43,839
we'll add the functionality to update

6027
05:03:41,119 --> 05:03:46,319
and delete the task.

6028
05:03:43,840 --> 05:03:48,798
But before we add these features, let me

6029
05:03:46,319 --> 05:03:50,716
verify the task is assigned to a new

6030
05:03:48,797 --> 05:03:54,279
user or not. So I'll just come back to

6031
05:03:50,718 --> 05:03:54,279
the another user

6032
05:03:55,360 --> 05:04:01,480
and

6033
05:03:57,200 --> 05:04:01,480
in this another account

6034
05:04:01,680 --> 05:04:08,559
you can see we have the another account

6035
05:04:04,400 --> 05:04:11,520
here. Right? And if I refresh it,

6036
05:04:08,560 --> 05:04:14,079
it should display the task here. It is

6037
05:04:11,520 --> 05:04:19,878
not added.

6038
05:04:14,080 --> 05:04:19,878
My task is zero. If I come to projects

6039
05:04:20,080 --> 05:04:25,759
in this project, we have the task. But

6040
05:04:22,560 --> 05:04:28,638
in my task, it is showing zero.

6041
05:04:25,759 --> 05:04:30,957
I will just come back to the VS code and

6042
05:04:28,637 --> 05:04:34,957
open the sidebar. In this side, you will

6043
05:04:30,957 --> 05:04:37,118
find this my task sidebar. JSX file. And

6044
05:04:34,957 --> 05:04:40,796
in this one you can see we have the user

6045
05:04:37,119 --> 05:04:43,678
equal to object and provided one id. So

6046
05:04:40,797 --> 05:04:49,118
let me remove it. And here we will add

6047
05:04:43,680 --> 05:04:51,599
con curly braces user equal to use user

6048
05:04:49,119 --> 05:04:54,479
from color. So now we have the user

6049
05:04:51,599 --> 05:04:57,759
data. Right? After that you can see this

6050
05:04:54,479 --> 05:05:00,876
function fetch user task right. So in

6051
05:04:57,759 --> 05:05:05,199
this one it will find the user ID using

6052
05:05:00,878 --> 05:05:08,797
this user dot id and for this user id it

6053
05:05:05,200 --> 05:05:12,797
will find the task in the current

6054
05:05:08,797 --> 05:05:15,678
workspace task right. So just save the

6055
05:05:12,797 --> 05:05:18,239
changes and come back here. Now you can

6056
05:05:15,680 --> 05:05:22,239
see in this profile where we have

6057
05:05:18,240 --> 05:05:24,877
assigned the task we have the tasks

6058
05:05:22,240 --> 05:05:27,520
right we have the three task. Let me

6059
05:05:24,878 --> 05:05:29,360
refresh it.

6060
05:05:27,520 --> 05:05:31,1000
Still you can see we have total three

6061
05:05:29,360 --> 05:05:34,637
task here. If I click here, it will

6062
05:05:32,000 --> 05:05:36,798
display the task details.

6063
05:05:34,637 --> 05:05:41,598
If I click on anyone, it will display

6064
05:05:36,797 --> 05:05:44,319
the detail of this task. Right?

6065
05:05:41,599 --> 05:05:47,518
So it is working fine.

6066
05:05:44,319 --> 05:05:50,319
And now let me check the feature to send

6067
05:05:47,520 --> 05:05:52,560
the task email. Right? So whenever the

6068
05:05:50,319 --> 05:05:56,918
task is assigned, it will send an email

6069
05:05:52,560 --> 05:05:56,920
also. So I'll check my email.

6070
05:05:56,957 --> 05:06:01,439
So in this email you can see we have

6071
05:05:59,279 --> 05:06:03,679
received multiple emails because we have

6072
05:06:01,439 --> 05:06:05,998
sent the task multiple times right we

6073
05:06:03,680 --> 05:06:11,040
have created three task. So here we have

6074
05:06:06,000 --> 05:06:14,080
the name then the message then the task

6075
05:06:11,040 --> 05:06:16,400
name and description and due date right

6076
05:06:14,080 --> 05:06:19,520
so this email feature is also working

6077
05:06:16,400 --> 05:06:22,159
fine we can receive the email whenever a

6078
05:06:19,520 --> 05:06:24,480
task is assigned after that I'll just

6079
05:06:22,159 --> 05:06:28,796
come back here

6080
05:06:24,479 --> 05:06:30,479
in another account so in this account we

6081
05:06:28,797 --> 05:06:32,636
have

6082
05:06:30,479 --> 05:06:36,078
these task and in the right side we have

6083
05:06:32,637 --> 05:06:38,558
the details right now let Let me just

6084
05:06:36,080 --> 05:06:40,798
add the functionality to update the

6085
05:06:38,560 --> 05:06:46,079
status from here. We can change the

6086
05:06:40,797 --> 05:06:51,278
status like done or in progress. Right?

6087
05:06:46,080 --> 05:06:55,119
So I'll just come back to the VS code

6088
05:06:51,279 --> 05:06:58,876
and after that let's open this file

6089
05:06:55,119 --> 05:07:02,399
project task from this sidebar.

6090
05:06:58,878 --> 05:07:06,400
We have the project task.jsx JSX file,

6091
05:07:02,400 --> 05:07:09,999
right? And uh in this one you can see we

6092
05:07:06,400 --> 05:07:12,159
have this function called

6093
05:07:10,000 --> 05:07:15,599
handle delete

6094
05:07:12,159 --> 05:07:18,877
right so that we can delete the task and

6095
05:07:15,599 --> 05:07:21,999
uh before that we have this function

6096
05:07:18,878 --> 05:07:25,200
handle a status change

6097
05:07:22,000 --> 05:07:28,637
right so in this one we have to make the

6098
05:07:25,200 --> 05:07:30,797
API call to change the status whenever

6099
05:07:28,637 --> 05:07:32,717
the status is changed it will update the

6100
05:07:30,797 --> 05:07:35,598
status in database

6101
05:07:32,718 --> 05:07:37,440
To make the API call in this file, first

6102
05:07:35,599 --> 05:07:40,797
we need the token, right? So let's

6103
05:07:37,439 --> 05:07:43,038
scroll up. So I'll write const curly

6104
05:07:40,797 --> 05:07:46,239
braces

6105
05:07:43,040 --> 05:07:49,040
get token

6106
05:07:46,240 --> 05:07:52,480
equal to

6107
05:07:49,040 --> 05:07:54,240
use o and use o has been imported from

6108
05:07:52,479 --> 05:07:56,796
color.

6109
05:07:54,240 --> 05:07:59,520
Now we have this get token function so

6110
05:07:56,797 --> 05:08:03,039
that we can generate the token and after

6111
05:07:59,520 --> 05:08:06,797
that let's come here

6112
05:08:03,040 --> 05:08:09,040
in this handle a status change here we

6113
05:08:06,797 --> 05:08:11,279
have toast.loading loading and after

6114
05:08:09,040 --> 05:08:13,440
that we have this comment right so let

6115
05:08:11,279 --> 05:08:17,279
me remove it

6116
05:08:13,439 --> 05:08:21,358
and remove this

6117
05:08:17,279 --> 05:08:22,956
await and here let's add await

6118
05:08:21,360 --> 05:08:25,999
API

6119
05:08:22,957 --> 05:08:29,199
import the API from the config folder

6120
05:08:26,000 --> 05:08:32,320
then dotput method

6121
05:08:29,200 --> 05:08:36,637
then we'll add the API endpoint that is

6122
05:08:32,319 --> 05:08:38,636
/ API/ tasks and after that here we'll

6123
05:08:36,637 --> 05:08:40,479
add slash

6124
05:08:38,637 --> 05:08:43,999
dollar sign curly braces s and provide

6125
05:08:40,479 --> 05:08:47,439
the task id

6126
05:08:44,000 --> 05:08:50,240
after that let's add the comma and here

6127
05:08:47,439 --> 05:08:53,839
we'll add the object and provide the a

6128
05:08:50,240 --> 05:08:57,520
status here so in this a status

6129
05:08:53,840 --> 05:09:01,280
we will send the new status whichever is

6130
05:08:57,520 --> 05:09:03,920
selected right and uh after that let's

6131
05:09:01,279 --> 05:09:05,998
add comma and provide the object in this

6132
05:09:03,919 --> 05:09:08,079
one we'll add the headers to

6133
05:09:06,000 --> 05:09:09,680
authenticate the request. So in the

6134
05:09:08,080 --> 05:09:12,400
headers we have added authorization,

6135
05:09:09,680 --> 05:09:14,638
beer and token.

6136
05:09:12,400 --> 05:09:17,840
But before that let's generate the token

6137
05:09:14,637 --> 05:09:22,717
here. So

6138
05:09:17,840 --> 05:09:27,519
here let's add const

6139
05:09:22,718 --> 05:09:30,400
token equal to await and get token

6140
05:09:27,520 --> 05:09:33,920
function and this token is provided in

6141
05:09:30,400 --> 05:09:36,159
this API request right so it will update

6142
05:09:33,919 --> 05:09:38,637
the status

6143
05:09:36,159 --> 05:09:41,119
and after that let's come here in this

6144
05:09:38,637 --> 05:09:43,598
handle delete function in this one also

6145
05:09:41,119 --> 05:09:47,838
we have to make the API call so first

6146
05:09:43,599 --> 05:09:51,278
here you can see we have confirmation to

6147
05:09:47,840 --> 05:09:53,679
delete the task and after that we will

6148
05:09:51,279 --> 05:09:55,279
generate the token here. So let's add

6149
05:09:53,680 --> 05:09:59,239
const

6150
05:09:55,279 --> 05:09:59,239
token equal to

6151
05:09:59,599 --> 05:10:05,438
await

6152
05:10:01,439 --> 05:10:08,479
get token function. Now after that we

6153
05:10:05,439 --> 05:10:10,637
will add this toast.loading

6154
05:10:08,479 --> 05:10:13,358
deleting task and after that here we

6155
05:10:10,637 --> 05:10:17,999
will make the API call right. So let's

6156
05:10:13,360 --> 05:10:20,637
remove it and we'll write await

6157
05:10:18,000 --> 05:10:22,320
API dot

6158
05:10:20,637 --> 05:10:24,559
post

6159
05:10:22,319 --> 05:10:29,519
and after that we'll provide the API

6160
05:10:24,560 --> 05:10:32,877
endpoint that is / API/ task/delete

6161
05:10:29,520 --> 05:10:36,638
and after that let's add the data here

6162
05:10:32,878 --> 05:10:41,040
that is the task id

6163
05:10:36,637 --> 05:10:43,838
and in the task ID we will add the

6164
05:10:41,040 --> 05:10:46,160
selected task. tasks right and after

6165
05:10:43,840 --> 05:10:49,359
that authenticate the request using the

6166
05:10:46,159 --> 05:10:50,877
headers. So let's add the headers here

6167
05:10:49,360 --> 05:10:54,159
and in the headers we have added

6168
05:10:50,878 --> 05:10:57,200
authorization beer and token and after

6169
05:10:54,159 --> 05:11:01,279
that it will call this delete task and

6170
05:10:57,200 --> 05:11:04,160
provided the selected task right and uh

6171
05:11:01,279 --> 05:11:06,158
we have completed this function also and

6172
05:11:04,159 --> 05:11:09,279
after that let's save the changes and

6173
05:11:06,159 --> 05:11:13,359
come back here. So right now you can see

6174
05:11:09,279 --> 05:11:16,636
we have this a status in progress. If I

6175
05:11:13,360 --> 05:11:20,079
change it to done,

6176
05:11:16,637 --> 05:11:23,279
you can see a status updated. Task

6177
05:11:20,080 --> 05:11:25,839
updated successfully. Right? Task a

6178
05:11:23,279 --> 05:11:29,038
status updated successfully.

6179
05:11:25,840 --> 05:11:33,120
If I refresh it.

6180
05:11:29,040 --> 05:11:36,320
So here you can see it is displaying the

6181
05:11:33,119 --> 05:11:38,239
a status done in this last one. Now

6182
05:11:36,319 --> 05:11:42,078
let's update this one also. Client

6183
05:11:38,240 --> 05:11:45,520
feedback. Let's make it done

6184
05:11:42,080 --> 05:11:47,759
and refresh it.

6185
05:11:45,520 --> 05:11:50,399
You can see the client feedback

6186
05:11:47,759 --> 05:11:52,159
integration is done. So we can update

6187
05:11:50,400 --> 05:11:55,199
the task. It will get saved in the

6188
05:11:52,159 --> 05:11:58,399
database. Now let's test the delete

6189
05:11:55,200 --> 05:12:00,320
functionality also. So I'll just check

6190
05:11:58,400 --> 05:12:02,239
this one. You can see the dots here.

6191
05:12:00,319 --> 05:12:04,238
I'll just click here. So it will display

6192
05:12:02,240 --> 05:12:06,797
this delete button and click on this

6193
05:12:04,240 --> 05:12:08,797
delete. It is asking are you sure you

6194
05:12:06,797 --> 05:12:12,239
want to delete selected task. Click

6195
05:12:08,797 --> 05:12:15,359
okay. You can see deleting task and it

6196
05:12:12,240 --> 05:12:17,680
has been deleted. If I refresh it

6197
05:12:15,360 --> 05:12:20,637
now you can see

6198
05:12:17,680 --> 05:12:24,399
all the tasks are deleted. So let me fix

6199
05:12:20,637 --> 05:12:27,119
it here. All the tasks got deleted. To

6200
05:12:24,400 --> 05:12:32,079
fix it I'll just come back to the VS

6201
05:12:27,119 --> 05:12:35,199
code. And in this handle delete function

6202
05:12:32,080 --> 05:12:38,160
in this API call we are sending the task

6203
05:12:35,200 --> 05:12:42,400
id but it should be task ids. Make sure

6204
05:12:38,159 --> 05:12:45,038
to add this s also just update this task

6205
05:12:42,400 --> 05:12:47,760
ids. Save the changes. Now I'll just

6206
05:12:45,040 --> 05:12:54,760
come back here and here we'll add other

6207
05:12:47,759 --> 05:12:54,759
task. So let me add the task here.

6208
05:12:55,119 --> 05:12:59,838
Now I'll click here to add a new task

6209
05:12:57,680 --> 05:13:01,680
and I will pause the video and add three

6210
05:12:59,840 --> 05:13:04,878
task.

6211
05:13:01,680 --> 05:13:07,439
So here we have added three task. Now

6212
05:13:04,878 --> 05:13:09,999
let me delete one of it. I'll just

6213
05:13:07,439 --> 05:13:15,797
select the second one

6214
05:13:10,000 --> 05:13:15,798
and click on delete and okay.

6215
05:13:16,000 --> 05:13:21,759
So one task has been deleted. If I

6216
05:13:18,637 --> 05:13:24,877
refresh it still we have two task. Let

6217
05:13:21,759 --> 05:13:28,797
me show you that.

6218
05:13:24,878 --> 05:13:30,878
it is removed. Let's check it.

6219
05:13:28,797 --> 05:13:33,279
I'll come back to the VS code. You can

6220
05:13:30,878 --> 05:13:35,919
see in this API call, we are sending the

6221
05:13:33,279 --> 05:13:39,359
task ids. But if I open the controller

6222
05:13:35,919 --> 05:13:41,359
file, we'll come back to the server task

6223
05:13:39,360 --> 05:13:44,797
controller. And in this one, you can see

6224
05:13:41,360 --> 05:13:48,400
we are receiving the data from body and

6225
05:13:44,797 --> 05:13:51,119
it is tasks ID. Here also we have s

6226
05:13:48,400 --> 05:13:54,560
right. So let me just copy this one

6227
05:13:51,119 --> 05:13:57,038
tasks id. And after that let's come here

6228
05:13:54,560 --> 05:14:00,159
and provide it here.

6229
05:13:57,040 --> 05:14:02,878
Provide this task ids. Let's save the

6230
05:14:00,159 --> 05:14:04,716
changes again. Update it and save the

6231
05:14:02,878 --> 05:14:09,759
changes. And again I'll just come back

6232
05:14:04,718 --> 05:14:11,839
here and we'll add three new task. So

6233
05:14:09,759 --> 05:14:14,398
I'll use this form and I will pause the

6234
05:14:11,840 --> 05:14:16,798
video and add the task.

6235
05:14:14,400 --> 05:14:18,717
So we have added three task. Let me

6236
05:14:16,797 --> 05:14:21,519
select the second one and click on

6237
05:14:18,718 --> 05:14:24,519
delete.

6238
05:14:21,520 --> 05:14:24,520
Okay.

6239
05:14:24,878 --> 05:14:31,120
And now I'll refresh the web page.

6240
05:14:28,797 --> 05:14:33,359
Now we have two tasks available. It is

6241
05:14:31,119 --> 05:14:36,877
working fine. Right now you can see the

6242
05:14:33,360 --> 05:14:41,680
status todo and todo. Now let me change

6243
05:14:36,878 --> 05:14:43,520
the status. I'll choose done.

6244
05:14:41,680 --> 05:14:46,798
So you can see the status has been

6245
05:14:43,520 --> 05:14:50,079
updated. Here we have completed one and

6246
05:14:46,797 --> 05:14:54,079
in progress one right and here we have

6247
05:14:50,080 --> 05:14:56,560
total two tasks and total two members.

6248
05:14:54,080 --> 05:14:58,717
So this task feature is working fine. We

6249
05:14:56,560 --> 05:15:02,877
can update the task. We can display the

6250
05:14:58,718 --> 05:15:06,878
list of task and we can delete the task.

6251
05:15:02,878 --> 05:15:09,440
After that if I open the dashboard

6252
05:15:06,878 --> 05:15:11,919
here you can see we have total two

6253
05:15:09,439 --> 05:15:16,158
projects. We have zero completed

6254
05:15:11,919 --> 05:15:19,359
projects. We have one task right in this

6255
05:15:16,159 --> 05:15:21,998
my task we have only one task create new

6256
05:15:19,360 --> 05:15:24,717
logo concept and here we have overdue

6257
05:15:22,000 --> 05:15:29,280
zero. If I come back to the second

6258
05:15:24,718 --> 05:15:31,440
account if I refresh it in this one you

6259
05:15:29,279 --> 05:15:34,876
can see we have one task client feedback

6260
05:15:31,439 --> 05:15:38,318
integration. Right? So we have assigned

6261
05:15:34,878 --> 05:15:40,637
this task to this person. Now I'll just

6262
05:15:38,319 --> 05:15:42,796
come back here. Next, we have to add the

6263
05:15:40,637 --> 05:15:46,637
functionality to add the comments on the

6264
05:15:42,797 --> 05:15:51,039
task. If I open the

6265
05:15:46,637 --> 05:15:53,758
project, then open the task and open the

6266
05:15:51,040 --> 05:15:57,919
task detail page. Here we can post the

6267
05:15:53,759 --> 05:16:00,797
comment on this task

6268
05:15:57,919 --> 05:16:02,877
to add the comment functionality in this

6269
05:16:00,797 --> 05:16:05,838
task. Let me just come back to the VS

6270
05:16:02,878 --> 05:16:09,200
code

6271
05:16:05,840 --> 05:16:12,399
and here we will open this sidebar and

6272
05:16:09,200 --> 05:16:17,520
let's open the pages folder and in this

6273
05:16:12,400 --> 05:16:20,400
pages we have the task details JSX file.

6274
05:16:17,520 --> 05:16:23,279
I'll open this file.

6275
05:16:20,400 --> 05:16:25,680
Now in this one you can see we have the

6276
05:16:23,279 --> 05:16:28,956
dummy user data right. We have the user

6277
05:16:25,680 --> 05:16:31,840
equal to one object and added the ID

6278
05:16:28,957 --> 05:16:34,876
user one. So let me remove it. Here we

6279
05:16:31,840 --> 05:16:38,638
will get the user from color. So first

6280
05:16:34,878 --> 05:16:43,079
let's add the import.

6281
05:16:38,637 --> 05:16:43,079
And here we'll add

6282
05:16:43,759 --> 05:16:47,158
curly braces

6283
05:16:49,360 --> 05:16:58,958
use user and import it from color/color

6284
05:16:55,520 --> 05:17:04,080
react. And after that I'll just come

6285
05:16:58,957 --> 05:17:05,998
here and we will write con curly braces

6286
05:17:04,080 --> 05:17:08,560
user

6287
05:17:06,000 --> 05:17:11,200
equal to

6288
05:17:08,560 --> 05:17:14,079
use user function. So now we have the

6289
05:17:11,200 --> 05:17:16,877
user data here from color and after that

6290
05:17:14,080 --> 05:17:21,040
here we will get the get token function

6291
05:17:16,878 --> 05:17:26,079
also. So I'll write const

6292
05:17:21,040 --> 05:17:29,040
curly braces get token

6293
05:17:26,080 --> 05:17:33,599
equal to

6294
05:17:29,040 --> 05:17:37,680
use o. So use o has been imported as you

6295
05:17:33,599 --> 05:17:41,919
can see in this line. So now we have the

6296
05:17:37,680 --> 05:17:45,199
user and get token. After that we can

6297
05:17:41,919 --> 05:17:47,838
make the API call to fetch the comment

6298
05:17:45,200 --> 05:17:51,999
details. So here we have the function

6299
05:17:47,840 --> 05:17:57,920
fetch commands. Right? So in this one

6300
05:17:52,000 --> 05:18:00,958
let's add if and I'll write not of task

6301
05:17:57,919 --> 05:18:03,598
ID. So when the task ID is not

6302
05:18:00,957 --> 05:18:06,479
available, we will stop the execution.

6303
05:18:03,599 --> 05:18:09,679
So simply add return.

6304
05:18:06,479 --> 05:18:11,998
Now suppose the task ID is available

6305
05:18:09,680 --> 05:18:15,040
then we can make the API call. So I'll

6306
05:18:12,000 --> 05:18:19,360
write try catch block here. And in this

6307
05:18:15,040 --> 05:18:22,240
try block I'll write const

6308
05:18:19,360 --> 05:18:25,039
and generate the token. So I'll write

6309
05:18:22,240 --> 05:18:29,600
con token equal to

6310
05:18:25,040 --> 05:18:32,878
await and get token function.

6311
05:18:29,599 --> 05:18:35,999
After that we'll make the API call. So

6312
05:18:32,878 --> 05:18:38,560
here we'll get the data in the response.

6313
05:18:36,000 --> 05:18:41,360
So let's add curly braces data equal to

6314
05:18:38,560 --> 05:18:45,279
await. And we will use the API and

6315
05:18:41,360 --> 05:18:49,840
import the API from config folder. Then

6316
05:18:45,279 --> 05:18:52,796
we'll add dot get and here we'll add the

6317
05:18:49,840 --> 05:18:56,559
path. So I'll write back here and

6318
05:18:52,797 --> 05:19:00,957
provide the path / API/

6319
05:18:56,560 --> 05:19:03,1000
comments and then we have to provide the

6320
05:19:00,957 --> 05:19:08,876
task ID. So I'll write dollar sign curly

6321
05:19:04,000 --> 05:19:10,958
braces and provide the task ID here.

6322
05:19:08,878 --> 05:19:15,679
Then we will add the comma and provide

6323
05:19:10,957 --> 05:19:18,957
the headers to authenticate our request.

6324
05:19:15,680 --> 05:19:23,680
So in this one I'll write authorization

6325
05:19:18,957 --> 05:19:25,918
property and provide the beer and token.

6326
05:19:23,680 --> 05:19:28,798
Now here we'll get the data and from

6327
05:19:25,919 --> 05:19:31,678
this data we will extract the comments

6328
05:19:28,797 --> 05:19:34,877
and use the setter function set comments

6329
05:19:31,680 --> 05:19:36,479
and in this one let's provide the data

6330
05:19:34,878 --> 05:19:39,919
dot

6331
05:19:36,479 --> 05:19:41,759
comments property

6332
05:19:39,919 --> 05:19:46,239
and if it is not available then we'll

6333
05:19:41,759 --> 05:19:48,877
add odd operator and provide empty array

6334
05:19:46,240 --> 05:19:50,560
like this. Now come to the catch block.

6335
05:19:48,878 --> 05:19:53,280
In this catch block we'll display the

6336
05:19:50,560 --> 05:19:56,798
toast notification. So import the toast

6337
05:19:53,279 --> 05:20:01,599
then write dot error

6338
05:19:56,797 --> 05:20:05,998
and here I'll write error dot response

6339
05:20:01,599 --> 05:20:10,399
dot data dot message or

6340
05:20:06,000 --> 05:20:12,878
we will provide error dot message.

6341
05:20:10,400 --> 05:20:15,199
So we have added the functionality to

6342
05:20:12,878 --> 05:20:19,440
fetch the comments from the database

6343
05:20:15,200 --> 05:20:22,079
using the API. Right after that scroll

6344
05:20:19,439 --> 05:20:25,519
down and uh here you will find this

6345
05:20:22,080 --> 05:20:28,798
function handle add comment. So using

6346
05:20:25,520 --> 05:20:33,840
this function we can add a new comment.

6347
05:20:28,797 --> 05:20:37,198
Right? So first it will trim the entered

6348
05:20:33,840 --> 05:20:39,519
text that is entered in the

6349
05:20:37,200 --> 05:20:41,520
input field. Then we have the try catch

6350
05:20:39,520 --> 05:20:44,159
block. In this try block we'll add the

6351
05:20:41,520 --> 05:20:47,279
notification adding comment. And here we

6352
05:20:44,159 --> 05:20:51,559
have to make the API call. Right. So

6353
05:20:47,279 --> 05:20:51,559
I'll just remove this statement

6354
05:20:52,479 --> 05:20:58,158
and uh

6355
05:20:55,040 --> 05:21:02,080
after that

6356
05:20:58,159 --> 05:21:04,479
let's remove this one also that is dummy

6357
05:21:02,080 --> 05:21:07,839
comment and here we'll make the API

6358
05:21:04,479 --> 05:21:10,956
call. So I'll write con

6359
05:21:07,840 --> 05:21:15,280
token equal to

6360
05:21:10,957 --> 05:21:19,518
await get token and then we will add con

6361
05:21:15,279 --> 05:21:21,198
curly braces data equal to await then

6362
05:21:19,520 --> 05:21:24,877
API

6363
05:21:21,200 --> 05:21:27,839
dot post method because we have to post

6364
05:21:24,878 --> 05:21:30,797
the comment and we have created the API

6365
05:21:27,840 --> 05:21:34,958
using this post method. Now we'll add

6366
05:21:30,797 --> 05:21:37,838
the API endpoint. So it will be / API/

6367
05:21:34,957 --> 05:21:40,636
comments

6368
05:21:37,840 --> 05:21:42,479
like this and after that we will provide

6369
05:21:40,637 --> 05:21:47,518
the comma and here we have to provide

6370
05:21:42,479 --> 05:21:50,398
the data in this API request. So I'll

6371
05:21:47,520 --> 05:21:53,039
add the task id first. So the task id

6372
05:21:50,400 --> 05:21:57,360
will be

6373
05:21:53,040 --> 05:22:01,479
task dot id. After that we'll add comma

6374
05:21:57,360 --> 05:22:01,480
provide the content.

6375
05:22:01,759 --> 05:22:08,079
we have to send the content property and

6376
05:22:04,319 --> 05:22:10,078
in this content let's add

6377
05:22:08,080 --> 05:22:13,280
new comment.

6378
05:22:10,080 --> 05:22:15,040
So it will be sent on API. After that

6379
05:22:13,279 --> 05:22:17,279
here we have to authenticate the

6380
05:22:15,040 --> 05:22:20,240
request. So let me just copy this

6381
05:22:17,279 --> 05:22:23,038
statement

6382
05:22:20,240 --> 05:22:25,999
this headers. I'll just copy this and

6383
05:22:23,040 --> 05:22:28,637
paste it here. So we have added headers

6384
05:22:26,000 --> 05:22:30,637
authorization beer and token. Now we

6385
05:22:28,637 --> 05:22:33,359
have this data

6386
05:22:30,637 --> 05:22:36,159
right and after that let's use the

6387
05:22:33,360 --> 05:22:38,480
setter function set commands and in this

6388
05:22:36,159 --> 05:22:41,279
one we will provide the previous data

6389
05:22:38,479 --> 05:22:44,398
and it will return one array with

6390
05:22:41,279 --> 05:22:49,078
previous data and with that we will also

6391
05:22:44,400 --> 05:22:49,079
add the added command that is

6392
05:22:49,119 --> 05:22:56,636
data dot comment property

6393
05:22:53,439 --> 05:22:59,278
correct. Then we have setter function

6394
05:22:56,637 --> 05:23:01,119
that will reset the new comment. Then we

6395
05:22:59,279 --> 05:23:04,078
will display the toast notification that

6396
05:23:01,119 --> 05:23:07,918
is comment added and before that we will

6397
05:23:04,080 --> 05:23:11,120
dismiss all the other to notification.

6398
05:23:07,919 --> 05:23:13,119
And here we have the catch block also.

6399
05:23:11,119 --> 05:23:16,079
So we have added the functionality to

6400
05:23:13,119 --> 05:23:18,479
add a new comment and fetch the command.

6401
05:23:16,080 --> 05:23:23,599
After that let me just come back to the

6402
05:23:18,479 --> 05:23:26,876
web page and uh let me refresh it.

6403
05:23:23,599 --> 05:23:29,278
So here we have this input field. In

6404
05:23:26,878 --> 05:23:30,958
this one, let me add a message. All

6405
05:23:29,279 --> 05:23:34,239
right.

6406
05:23:30,957 --> 05:23:38,399
I am working on it. And click on this

6407
05:23:34,240 --> 05:23:40,797
post button. You can see adding comment.

6408
05:23:38,400 --> 05:23:43,680
And now you can see the comment has been

6409
05:23:40,797 --> 05:23:45,758
added here. I am working on it. If I

6410
05:23:43,680 --> 05:23:47,680
refresh it,

6411
05:23:45,759 --> 05:23:49,678
you can see it will fetch the comment.

6412
05:23:47,680 --> 05:23:52,957
So we can fetch the comments on this

6413
05:23:49,680 --> 05:23:55,359
task and we can also post a new comment.

6414
05:23:52,957 --> 05:23:57,118
So this comment feature is also working

6415
05:23:55,360 --> 05:24:01,600
fine.

6416
05:23:57,119 --> 05:24:03,758
After that if I come to dashboard

6417
05:24:01,599 --> 05:24:08,079
in the right side you can see we have

6418
05:24:03,759 --> 05:24:11,598
the task summary right. So right now we

6419
05:24:08,080 --> 05:24:14,400
don't have any data here in this summary

6420
05:24:11,599 --> 05:24:18,797
in the right sidebar. So let me complete

6421
05:24:14,400 --> 05:24:21,600
this one also. I'll just come back here.

6422
05:24:18,797 --> 05:24:25,558
I'll open the components. In this

6423
05:24:21,599 --> 05:24:25,559
components you will find

6424
05:24:26,400 --> 05:24:33,919
task summary.jsx

6425
05:24:28,560 --> 05:24:36,797
file right and uh in this one

6426
05:24:33,919 --> 05:24:42,399
you can see we have the user and it is

6427
05:24:36,797 --> 05:24:46,479
the dummy user ID right. So here let me

6428
05:24:42,400 --> 05:24:50,480
replace it. I'll write const

6429
05:24:46,479 --> 05:24:54,716
curly braces user

6430
05:24:50,479 --> 05:24:57,839
equal to use user and the use user has

6431
05:24:54,718 --> 05:25:00,479
been imported from color

6432
05:24:57,840 --> 05:25:03,439
right now after that I'll just come back

6433
05:25:00,479 --> 05:25:06,398
here in this web page

6434
05:25:03,439 --> 05:25:09,759
let me refresh it

6435
05:25:06,400 --> 05:25:12,480
here we don't have any data in progress

6436
05:25:09,759 --> 05:25:15,598
overdue but here in my task we have this

6437
05:25:12,479 --> 05:25:18,876
task data, right? So, we have one task

6438
05:25:15,599 --> 05:25:20,717
here that is assigned to me and the

6439
05:25:18,878 --> 05:25:24,637
another task is assigned to another

6440
05:25:20,718 --> 05:25:26,878
person. Right? So, this task summary is

6441
05:25:24,637 --> 05:25:29,438
also working.

6442
05:25:26,878 --> 05:25:32,480
Right? Next, you can see we have this

6443
05:25:29,439 --> 05:25:34,796
settings menu item. Right? If I click

6444
05:25:32,479 --> 05:25:36,398
here, nothing is working. Right? So, we

6445
05:25:34,797 --> 05:25:37,998
have to add the functionality here so

6446
05:25:36,400 --> 05:25:41,600
that when we click here, it will open

6447
05:25:38,000 --> 05:25:44,240
the page to edit the profile.

6448
05:25:41,599 --> 05:25:47,599
For that I'll just come back to the VS

6449
05:25:44,240 --> 05:25:49,440
code and in this

6450
05:25:47,599 --> 05:25:50,957
components you will find this

6451
05:25:49,439 --> 05:25:56,559
sidebar.jsx

6452
05:25:50,957 --> 05:25:58,078
file. Correct. Now in this one

6453
05:25:56,560 --> 05:26:01,040
here

6454
05:25:58,080 --> 05:26:04,878
let's add con

6455
05:26:01,040 --> 05:26:07,040
curly braces and here we will use open

6456
05:26:04,878 --> 05:26:11,440
user profile

6457
05:26:07,040 --> 05:26:15,760
component and let's get it from use

6458
05:26:11,439 --> 05:26:17,919
color and import the use color. So you

6459
05:26:15,759 --> 05:26:21,598
can see the use color has been imported

6460
05:26:17,919 --> 05:26:24,957
from the color/color react and now we

6461
05:26:21,599 --> 05:26:27,839
have the open user profile

6462
05:26:24,957 --> 05:26:31,998
function and after that we have to link

6463
05:26:27,840 --> 05:26:34,479
this function with our menu item. So

6464
05:26:32,000 --> 05:26:38,320
I'll just scroll down. Let me just copy

6465
05:26:34,479 --> 05:26:40,796
it and scroll down here.

6466
05:26:38,319 --> 05:26:43,439
You can see this button. In this button

6467
05:26:40,797 --> 05:26:45,519
you can see the text called settings.

6468
05:26:43,439 --> 05:26:47,599
Right? So here we have to add on click

6469
05:26:45,520 --> 05:26:49,680
property.

6470
05:26:47,599 --> 05:26:53,118
In this on click simply provide this

6471
05:26:49,680 --> 05:26:55,439
function open user profile.

6472
05:26:53,119 --> 05:26:57,678
Save the changes. Now I'll just come

6473
05:26:55,439 --> 05:27:00,399
back here

6474
05:26:57,680 --> 05:27:03,439
and click on this settings. So you can

6475
05:27:00,400 --> 05:27:05,600
see it is opening this model to edit the

6476
05:27:03,439 --> 05:27:08,716
profile. We can update the profile

6477
05:27:05,599 --> 05:27:11,198
image, name, email id or we can also go

6478
05:27:08,718 --> 05:27:13,200
to security to update the password or

6479
05:27:11,200 --> 05:27:14,958
delete the account.

6480
05:27:13,200 --> 05:27:17,440
So now we have completed all

6481
05:27:14,957 --> 05:27:19,279
functionality in this project management

6482
05:27:17,439 --> 05:27:21,358
application.

6483
05:27:19,279 --> 05:27:24,078
Now we have to deploy our project

6484
05:27:21,360 --> 05:27:26,717
online. So we have already deployed the

6485
05:27:24,080 --> 05:27:29,520
back end. Next we will deploy the front

6486
05:27:26,718 --> 05:27:32,958
end. So I'll just come back to the VS

6487
05:27:29,520 --> 05:27:36,159
code and let me close all the files. So

6488
05:27:32,957 --> 05:27:38,796
right click and select close saved.

6489
05:27:36,159 --> 05:27:41,359
Then open this sidebar.

6490
05:27:38,797 --> 05:27:45,119
And here we will click on this source

6491
05:27:41,360 --> 05:27:47,279
control icon. And here we will add the

6492
05:27:45,119 --> 05:27:50,279
commit message. So I'll write project

6493
05:27:47,279 --> 05:27:50,279
completed

6494
05:27:52,000 --> 05:27:59,080
and click on commit button

6495
05:27:55,759 --> 05:27:59,078
sync changes.

6496
05:28:00,718 --> 05:28:09,919
After that if I open the GitHub

6497
05:28:04,400 --> 05:28:09,919
repository and uh let me refresh it.

6498
05:28:11,759 --> 05:28:16,637
So you can see we have just committed

6499
05:28:14,000 --> 05:28:20,240
the changes in this GitHub repo.

6500
05:28:16,637 --> 05:28:23,999
Correct. And after that let me open the

6501
05:28:20,240 --> 05:28:26,797
versel dashboard. So this is the project

6502
05:28:24,000 --> 05:28:30,798
management backend server. This is the

6503
05:28:26,797 --> 05:28:32,636
URL right? Let me open this URL here.

6504
05:28:30,797 --> 05:28:34,478
So this is the backend URL for the

6505
05:28:32,637 --> 05:28:36,877
project management. Now we have to

6506
05:28:34,479 --> 05:28:39,358
deploy the front end. So I'll just come

6507
05:28:36,878 --> 05:28:42,797
back here.

6508
05:28:39,360 --> 05:28:46,400
and click on this new and choose the

6509
05:28:42,797 --> 05:28:48,399
project add new project.

6510
05:28:46,400 --> 05:28:51,039
Then we will choose the same repository

6511
05:28:48,400 --> 05:28:54,400
project management. And in front of this

6512
05:28:51,040 --> 05:28:57,120
repository name I'll click on import.

6513
05:28:54,400 --> 05:28:59,680
And after that we will write the project

6514
05:28:57,119 --> 05:29:03,519
name here. So it is project management

6515
05:28:59,680 --> 05:29:06,479
or let me write project mgt.

6516
05:29:03,520 --> 05:29:08,797
And after that let me choose the root

6517
05:29:06,479 --> 05:29:10,479
directory. So click on this edit and

6518
05:29:08,797 --> 05:29:11,998
here we will choose this client

6519
05:29:10,479 --> 05:29:13,999
directory

6520
05:29:12,000 --> 05:29:16,160
because we have created the front end in

6521
05:29:14,000 --> 05:29:18,240
the client folder. Then click on

6522
05:29:16,159 --> 05:29:20,319
continue

6523
05:29:18,240 --> 05:29:22,797
and after that let's come here in the

6524
05:29:20,319 --> 05:29:24,716
environment variables and here we have

6525
05:29:22,797 --> 05:29:26,318
to provide the environment variables for

6526
05:29:24,718 --> 05:29:29,280
the front end. So I'll just come back to

6527
05:29:26,319 --> 05:29:31,838
the VS code and let's open the client

6528
05:29:29,279 --> 05:29:34,796
folder and in this client we have env

6529
05:29:31,840 --> 05:29:37,040
file. Let me open it and just copy these

6530
05:29:34,797 --> 05:29:39,119
environment variables. Let's copy and

6531
05:29:37,040 --> 05:29:41,280
paste it here.

6532
05:29:39,119 --> 05:29:44,159
Now here you can see we have the wheat

6533
05:29:41,279 --> 05:29:46,956
base URL. So in this base URL right now

6534
05:29:44,159 --> 05:29:49,599
we have this local host. So remove this

6535
05:29:46,957 --> 05:29:53,758
local host and here we will add the live

6536
05:29:49,599 --> 05:29:55,839
URL that is deployed on Versel. So this

6537
05:29:53,759 --> 05:29:58,318
is the backend URL deployed on Versel.

6538
05:29:55,840 --> 05:30:01,759
So just copy this one and paste it here

6539
05:29:58,319 --> 05:30:03,918
in this base URL. And at the end we have

6540
05:30:01,759 --> 05:30:07,518
this forward slash. So make sure to

6541
05:30:03,919 --> 05:30:09,438
remove this forward slash from the end.

6542
05:30:07,520 --> 05:30:11,359
And after that click on this deploy

6543
05:30:09,439 --> 05:30:13,358
button.

6544
05:30:11,360 --> 05:30:16,480
Let me scroll down and here you can see

6545
05:30:13,360 --> 05:30:17,999
the status of this deployment.

6546
05:30:16,479 --> 05:30:21,278
So there is some error in this

6547
05:30:18,000 --> 05:30:24,000
deployment. So let me check it. In this

6548
05:30:21,279 --> 05:30:26,956
error message it says cannot find module

6549
05:30:24,000 --> 05:30:30,400
and this is the module name. And then it

6550
05:30:26,957 --> 05:30:32,078
says npm has a bug related to optional

6551
05:30:30,400 --> 05:30:36,319
dependencies.

6552
05:30:32,080 --> 05:30:39,120
And uh again it says please try npmi

6553
05:30:36,319 --> 05:30:40,956
again after removing both package

6554
05:30:39,119 --> 05:30:44,239
lock.json

6555
05:30:40,957 --> 05:30:46,158
and node_modules

6556
05:30:44,240 --> 05:30:49,039
directory. So we have to remove this

6557
05:30:46,159 --> 05:30:52,838
package lock json. For that let me just

6558
05:30:49,040 --> 05:30:52,839
come here in the

6559
05:30:52,957 --> 05:30:59,038
GitHub repository then go to client

6560
05:30:56,797 --> 05:31:03,199
and after that here you will find this

6561
05:30:59,040 --> 05:31:06,878
package log JSON let me delete it I'll

6562
05:31:03,200 --> 05:31:09,680
open this one after opening this package

6563
05:31:06,878 --> 05:31:14,240
log dojson file just click on this three

6564
05:31:09,680 --> 05:31:16,399
dot and choose delete file

6565
05:31:14,240 --> 05:31:18,557
after deleting this file you need to

6566
05:31:16,400 --> 05:31:22,558
commit the changes So you will find this

6567
05:31:18,558 --> 05:31:26,920
button commit changes. Let's click here

6568
05:31:22,558 --> 05:31:26,920
and click commit changes.

6569
05:31:27,360 --> 05:31:32,320
Now you can see the package lock JSON

6570
05:31:29,680 --> 05:31:34,957
file has been removed. After that just

6571
05:31:32,319 --> 05:31:38,439
come back to the versal deployment and

6572
05:31:34,957 --> 05:31:38,439
go to project.

6573
05:31:38,957 --> 05:31:45,118
Then we will go to deployments.

6574
05:31:42,878 --> 05:31:47,039
And you can see it is trying to redeploy

6575
05:31:45,119 --> 05:31:49,838
the project because we have made changes

6576
05:31:47,040 --> 05:31:53,200
in the GitHub repository. So you can see

6577
05:31:49,840 --> 05:31:55,280
the status building.

6578
05:31:53,200 --> 05:31:57,119
Now you can see the status ready. Let me

6579
05:31:55,279 --> 05:31:58,796
click here.

6580
05:31:57,119 --> 05:32:01,199
So you can see our project is

6581
05:31:58,797 --> 05:32:03,519
successfully deployed. Here's the

6582
05:32:01,200 --> 05:32:06,240
project domain. Let me copy this domain

6583
05:32:03,520 --> 05:32:09,718
and open in the web browser. So I'll

6584
05:32:06,240 --> 05:32:09,718
open it here.

6585
05:32:12,637 --> 05:32:17,999
So once you open this web page or

6586
05:32:14,878 --> 05:32:20,240
website you will find this login screen

6587
05:32:18,000 --> 05:32:22,160
because in this project management you

6588
05:32:20,240 --> 05:32:23,920
need to login then you can access the

6589
05:32:22,159 --> 05:32:27,556
dashboard. So I'll click on this

6590
05:32:23,919 --> 05:32:27,556
continue with Google.

6591
05:32:28,000 --> 05:32:35,360
Let me choose the email ID and continue.

6592
05:32:33,840 --> 05:32:37,279
So you can see we have successfully

6593
05:32:35,360 --> 05:32:39,840
deployed the project and it is working

6594
05:32:37,279 --> 05:32:43,998
fine. So we have deployed this project

6595
05:32:39,840 --> 05:32:46,080
on Versel. This is the live link.

6596
05:32:44,000 --> 05:32:48,400
Now let me just come back to the local

6597
05:32:46,080 --> 05:32:50,557
host.

6598
05:32:48,400 --> 05:32:53,520
Now let me explore all the features one

6599
05:32:50,558 --> 05:32:55,759
by one. So when you log on this

6600
05:32:53,520 --> 05:32:58,159
application, you need to create an

6601
05:32:55,759 --> 05:33:00,318
organization or workspace. You can

6602
05:32:58,159 --> 05:33:02,078
create multiple workspace here and you

6603
05:33:00,319 --> 05:33:04,078
can switch between different workspace

6604
05:33:02,080 --> 05:33:05,919
from this drop-down. Or you can click

6605
05:33:04,080 --> 05:33:08,240
here to create another workspace. You

6606
05:33:05,919 --> 05:33:09,758
need to upload the logo and provide the

6607
05:33:08,240 --> 05:33:11,840
name.

6608
05:33:09,759 --> 05:33:14,557
After creating the workspace, you can

6609
05:33:11,840 --> 05:33:17,120
add a new project in the workspace. So

6610
05:33:14,558 --> 05:33:18,480
you will find this button new project.

6611
05:33:17,119 --> 05:33:20,636
Let's click here. And you need to

6612
05:33:18,479 --> 05:33:22,956
provide the project name, description, a

6613
05:33:20,637 --> 05:33:26,079
status, priority, and a start and end

6614
05:33:22,957 --> 05:33:28,636
date. Then you can choose the project

6615
05:33:26,080 --> 05:33:31,919
lead and team member. You can choose

6616
05:33:28,637 --> 05:33:35,999
from this drop-down. Right? And if you

6617
05:33:31,919 --> 05:33:39,279
want to add a new user in this

6618
05:33:36,000 --> 05:33:41,519
workspace then you can go to team and

6619
05:33:39,279 --> 05:33:44,556
here you can click on this button invite

6620
05:33:41,520 --> 05:33:47,1000
member and here you can put the email id

6621
05:33:44,558 --> 05:33:50,798
and choose the role and then you can

6622
05:33:48,000 --> 05:33:52,718
invite a new user in this workspace and

6623
05:33:50,797 --> 05:33:55,359
when the user is available in the

6624
05:33:52,718 --> 05:33:58,320
workspace you can add them in the

6625
05:33:55,360 --> 05:34:01,520
project also. Right. After creating the

6626
05:33:58,319 --> 05:34:04,238
project, you can come here and open any

6627
05:34:01,520 --> 05:34:06,877
project and in this project you can go

6628
05:34:04,240 --> 05:34:09,200
to settings and you can add new members

6629
05:34:06,878 --> 05:34:11,440
in the project also. Right now we have

6630
05:34:09,200 --> 05:34:14,240
two members. You can click here on this

6631
05:34:11,439 --> 05:34:16,796
plus and you can choose the members from

6632
05:34:14,240 --> 05:34:19,839
the drop-down when you have the member

6633
05:34:16,797 --> 05:34:21,918
available in the same workspace. So

6634
05:34:19,840 --> 05:34:24,638
first we have to add the member in the

6635
05:34:21,919 --> 05:34:27,119
workspace and we can add the member in

6636
05:34:24,637 --> 05:34:29,518
the project also. After that you can

6637
05:34:27,119 --> 05:34:31,918
also update the project details from

6638
05:34:29,520 --> 05:34:34,480
this settings. Then you can go to

6639
05:34:31,919 --> 05:34:38,239
analytics to see the analytics of this

6640
05:34:34,479 --> 05:34:42,238
project. You can see the task by status,

6641
05:34:38,240 --> 05:34:44,637
task by type and task by priority. Then

6642
05:34:42,240 --> 05:34:48,637
you can go to calendar. In this calendar

6643
05:34:44,637 --> 05:34:52,637
you can see the task due date. Right?

6644
05:34:48,637 --> 05:34:55,598
And here you can see the upcoming task.

6645
05:34:52,637 --> 05:34:58,478
After that here we have the tasks list

6646
05:34:55,599 --> 05:35:01,919
and in this one you can see the type

6647
05:34:58,479 --> 05:35:04,876
priority a status and assigne details

6648
05:35:01,919 --> 05:35:07,518
and due date. You can also update the

6649
05:35:04,878 --> 05:35:09,600
status from this drop-down.

6650
05:35:07,520 --> 05:35:12,159
You can choose the status like in

6651
05:35:09,599 --> 05:35:14,637
progress or done. After that you can

6652
05:35:12,159 --> 05:35:18,078
also delete any task. You can click on

6653
05:35:14,637 --> 05:35:21,758
this dot and click on this delete button

6654
05:35:18,080 --> 05:35:24,637
to delete any task. After that if I open

6655
05:35:21,759 --> 05:35:27,039
any task you can add the comments in

6656
05:35:24,637 --> 05:35:28,637
this task. Right now we have already

6657
05:35:27,040 --> 05:35:30,958
added one comment. You can add the

6658
05:35:28,637 --> 05:35:33,678
comment in this input field and click on

6659
05:35:30,957 --> 05:35:36,957
post. So this comment will be added in

6660
05:35:33,680 --> 05:35:39,840
the task. After that

6661
05:35:36,957 --> 05:35:42,556
in the left sidebar you will find the

6662
05:35:39,840 --> 05:35:44,878
projects right you can see we have the

6663
05:35:42,558 --> 05:35:47,599
list of projects in the sidebar also. So

6664
05:35:44,878 --> 05:35:49,839
you can easily access the projects and

6665
05:35:47,599 --> 05:35:52,956
you can also access the task from the

6666
05:35:49,840 --> 05:35:55,679
sidebar. We have the my task and you can

6667
05:35:52,957 --> 05:35:58,319
see we have the drop-down where you can

6668
05:35:55,680 --> 05:36:01,439
see the list of task.

6669
05:35:58,319 --> 05:36:03,918
After that if I again open this project

6670
05:36:01,439 --> 05:36:06,399
in this project you can see we can

6671
05:36:03,919 --> 05:36:09,199
create a new task using this button

6672
05:36:06,400 --> 05:36:13,039
create task and here you can provide the

6673
05:36:09,200 --> 05:36:15,680
task name, description, type, priority

6674
05:36:13,040 --> 05:36:18,958
and assigne. You can assign the task to

6675
05:36:15,680 --> 05:36:21,120
any member in the project and you can

6676
05:36:18,957 --> 05:36:23,599
set the status and due date for the

6677
05:36:21,119 --> 05:36:27,119
task. So this is all functionality of

6678
05:36:23,599 --> 05:36:29,518
our project management application.

6679
05:36:27,119 --> 05:36:32,319
So finally we have completed our full

6680
05:36:29,520 --> 05:36:34,239
stack project management application. I

6681
05:36:32,319 --> 05:36:36,238
hope this video will be helpful for you.

6682
05:36:34,240 --> 05:36:38,480
If you have any question you can ask me

6683
05:36:36,240 --> 05:36:40,557
in the comment section. Please like and

6684
05:36:38,479 --> 05:36:42,479
share this video and also subscribe my

6685
05:36:40,558 --> 05:36:44,400
channel great stack to watch more videos

6686
05:36:42,479 --> 05:36:47,519
like this one. Thank you so much for

6687
05:36:44,400 --> 05:36:47,520
watching this video.

